(function(){function h(c,a){function d(){}d.prototype=c;var e=new d,k;for(k in a)e[k]=a[k];a.toString!==Object.prototype.toString&&(e.toString=a.toString);return e}function K(c){return c instanceof Array?function(){return r.iter(c)}:"function"==typeof c.iterator?l(c,c.iterator):c.iterator}function l(c,a){if(null==a)return null;null==a.__id__&&(a.__id__=M++);var d;null==c.hx__closures__?c.hx__closures__={}:d=c.hx__closures__[a.__id__];null==d&&(d=function(){return d.method.apply(d.scope,arguments)},
d.scope=c,d.method=a,c.hx__closures__[a.__id__]=d);return d}var f={},m=function(){return q.Boot.__string_rec(this,"")},a={application:{}};a.application.Application=function(c){if(null==c)throw"Application name cannot be null.";if(null!=a.application.Application.appName)throw"Cannot create more than one instance of Application.";a.application.Application.appName=c;g.Log.trace("Starting "+c+".",{fileName:"Application.hx",lineNumber:53,className:"nfuzion.application.Application",methodName:"new"});g.Log.trace("Built: 2013-12-06 15:43:14",
{fileName:"Application.hx",lineNumber:54,className:"nfuzion.application.Application",methodName:"new"})};f["nfuzion.application.Application"]=a.application.Application;a.application.Application.__name__=["nfuzion","application","Application"];a.application.Application.destroy=function(){a.application.Application.appName=null;a.application.Application.done=!0};a.application.Application.exit=function(){};a.application.Application.doExit=function(c){a.application.Application.done=!0};a.application.Application.prototype=
{run:function(){},__class__:a.application.Application};a.nTactic={};a.nTactic.NTactic=function(c){a.application.Application.call(this,c);this.ready=!1;a.nTactic.NTactic.layers=new a.nTactic.core.AppView;a.nTactic.NTactic.fontManager=new a.font.FontManager;a.nTactic.NTactic.paintManager=new a.paint.PaintManager;a.nTactic.NTactic.imageManager=new a.image.ImageManager;c=a.nTactic.NTactic;null==a.storage.PersistentStorage.instance&&(a.storage.PersistentStorage.instance=new a.storage.PersistentStorage);
c.storage=a.storage.PersistentStorage.instance;a.nTactic.NTactic.cache=new a.nTactic.core.ScreenCache;a.nTactic.NTactic.cacheManager=new a.nTactic.core.CacheManager;a.nTactic.NTactic.builder=new a.builder.Builder;a.nTactic.NTactic.builder.addEventListener("sketch",l(this,this.onReady));a.nTactic.NTactic.storage.addEventListener("StorageEvent.ready",l(this,this.onReady));this.onReady()};f["nfuzion.nTactic.NTactic"]=a.nTactic.NTactic;a.nTactic.NTactic.__name__=["nfuzion","nTactic","NTactic"];a.nTactic.NTactic["goto"]=
function(c,b,d){null==d&&(d=!0);var e=c.split(":");if(1<e.length)if(c=a.nTactic.NTactic.screens.getModel(e.shift()),null!=c)c["goto"](e.join("/"),b,d);else g.Log.trace("ERROR: Failed to go to branch on screen model.",{fileName:"NTactic.hx",lineNumber:85,className:"nfuzion.nTactic.NTactic",methodName:"goto"});else a.nTactic.NTactic.screens.defaultModel["goto"](c)};a.nTactic.NTactic.cacheScreens=function(c,b){var d=a.nTactic.NTactic.screens.getModel(c);null!=d?d.cacheScreens(b):g.Log.trace("ERROR: Failed to cache screen(s). Screen model does not exist",
{fileName:"NTactic.hx",lineNumber:108,className:"nfuzion.nTactic.NTactic",methodName:"cacheScreens"})};a.nTactic.NTactic.releaseScreens=function(c,b){var d=a.nTactic.NTactic.screens.getModel(c);null!=d?d.releaseScreens(b):g.Log.trace("ERROR: Failed to cache screen(s). Screen model does not exist",{fileName:"NTactic.hx",lineNumber:123,className:"nfuzion.nTactic.NTactic",methodName:"releaseScreens"})};a.nTactic.NTactic.back=function(){a.nTactic.NTactic.screens.defaultModel.back()};a.nTactic.NTactic.__super__=
a.application.Application;a.nTactic.NTactic.prototype=h(a.application.Application.prototype,{start:function(){a.nTactic.NTactic.screens.loadInitialScreens()},onReady:function(c){this.get_ready()&&(null==a.nTactic.NTactic.cacheManager&&(a.nTactic.NTactic.cacheManager=new a.nTactic.core.CacheManager),a.nTactic.NTactic.builder.removeEventListener("sketch",l(this,this.onReady)),a.nTactic.NTactic.storage.removeEventListener("StorageEvent.ready",l(this,this.onReady)),this.start())},get_ready:function(){return null!=
a.nTactic.NTactic.builder.sketch&&a.nTactic.NTactic.builder.sketch.ready&&null!=a.nTactic.NTactic.screens&&a.nTactic.NTactic.storage.ready},ready:null,onNTacticXmlReady:function(c){this.loader.removeEventListener("LoaderEvent.ready",l(this,this.onNTacticXmlReady));c=t.parse(this.loader.data);a.nTactic.NTactic.configurationXml=c.firstElement();if(null==a.nTactic.NTactic.configurationXml)g.Log.trace("FATAL: 'ntactic.xml' data is null!",{fileName:"NTactic.hx",lineNumber:183,className:"nfuzion.nTactic.NTactic",
methodName:"onNTacticXmlReady"});else{var b=a.nTactic.NTactic.configurationXml.elementsNamed("viewport").next();if(null!=b){c=800;var d=600,e=null,e=b.get("width");null==e?g.Log.trace("FATAL: Viewport width is not specified in 'ntactic.xml'.",{fileName:"NTactic.hx",lineNumber:197,className:"nfuzion.nTactic.NTactic",methodName:"onNTacticXmlReady"}):c=n.parseInt(e);e=b.get("height");null==e?g.Log.trace("FATAL: Viewport height is not specified in 'ntactic.xml'.",{fileName:"NTactic.hx",lineNumber:206,
className:"nfuzion.nTactic.NTactic",methodName:"onNTacticXmlReady"}):d=n.parseInt(e);b=b.get("color");e=null!=b?new a.paint.Paint("viewport",a.utility.ColorTools.fromString(b)):new a.paint.Paint("viewport",a.type.Color.black);a.nTactic.NTactic.stage=new a.graphics.Stage(c,d,e)}else g.Log.trace("FATAL: Viewport not specified in 'ntactic.xml'.",{fileName:"NTactic.hx",lineNumber:225,className:"nfuzion.nTactic.NTactic",methodName:"onNTacticXmlReady"});a.nTactic.NTactic.screens=new a.nTactic.core.AppModel;
this.onReady()}},assignCacheManager:function(c){if(null==c)g.Log.trace("WARNING: Intercepted attempt to set property 'cacheManager' to null.",{fileName:"NTactic.hx",lineNumber:166,className:"nfuzion.nTactic.NTactic",methodName:"assignCacheManager"});else{if(null!=a.nTactic.NTactic.cacheManager)throw"Property 'cacheManager' has already been assigned!";a.nTactic.NTactic.cacheManager=c}},assignAssetsPath:function(c){a.nTactic.NTactic.assetsPath=c;this.loader=new a.loader.TextLoader(c+"ntactic.xml");
this.loader.addEventListener("LoaderEvent.ready",l(this,this.onNTacticXmlReady));this.loader.request()},loader:null,__class__:a.nTactic.NTactic,__properties__:{get_ready:"get_ready"}});var G=function(){a.nTactic.NTactic.call(this,"nTester");this.assignAssetsPath("../assets/");a.nTactic.NTactic.builder.set_sketch(new a.sketch.XmlSketch("assets.xml"))};f.AppMain=G;G.__name__=["AppMain"];G.__super__=a.nTactic.NTactic;G.prototype=h(a.nTactic.NTactic.prototype,{start:function(){v.Peripheral.initialize();
a.nTactic.NTactic.prototype.start.call(this)},__class__:G});var r=function(){};f.HxOverrides=r;r.__name__=["HxOverrides"];r.dateStr=function(c){var a=c.getMonth()+1,d=c.getDate(),e=c.getHours(),k=c.getMinutes(),H=c.getSeconds();return c.getFullYear()+"-"+(10>a?"0"+a:""+a)+"-"+(10>d?"0"+d:""+d)+" "+(10>e?"0"+e:""+e)+":"+(10>k?"0"+k:""+k)+":"+(10>H?"0"+H:""+H)};r.strDate=function(c){switch(c.length){case 8:c=c.split(":");var a=new Date;a.setTime(0);a.setUTCHours(c[0]);a.setUTCMinutes(c[1]);a.setUTCSeconds(c[2]);
return a;case 10:return c=c.split("-"),new Date(c[0],c[1]-1,c[2],0,0,0);case 19:return c=c.split(" "),a=c[0].split("-"),c=c[1].split(":"),new Date(a[0],a[1]-1,a[2],c[0],c[1],c[2]);default:throw"Invalid date format : "+c;}};r.cca=function(c,a){var d=c.charCodeAt(a);return d!=d?void 0:d};r.substr=function(c,a,d){if(null!=a&&0!=a&&null!=d&&0>d)return"";null==d&&(d=c.length);0>a?(a=c.length+a,0>a&&(a=0)):0>d&&(d=c.length+d-a);return c.substr(a,d)};r.remove=function(c,a){for(var d=0,e=c.length;d<e;){if(c[d]==
a)return c.splice(d,1),!0;d++}return!1};r.iter=function(c){return{cur:0,arr:c,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var D=function(){};f.Lambda=D;D.__name__=["Lambda"];D.array=function(c){var a=[];for(c=K(c)();c.hasNext();){var d=c.next();a.push(d)}return a};D.filter=function(c,a){for(var d=new F,e=K(c)();e.hasNext();){var k=e.next();a(k)&&d.add(k)}return d};D.indexOf=function(c,a){for(var d=0,e=K(c)();e.hasNext();){var k=e.next();if(a==
k)return d;d++}return-1};var F=function(){this.length=0};f.List=F;F.__name__=["List"];F.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var c=this.h[0];this.h=this.h[1];return c}}},add:function(c){c=[c];null==this.h?this.h=c:this.q[1]=c;this.q=c;this.length++},length:null,q:null,h:null,__class__:F};var J=function(){};f.Main=J;J.__name__=["Main"];J.main=function(){a.debug.Debug.initialize();new G};var x=function(){};
f.IMap=x;x.__name__=["IMap"];var w=function(){};f.Reflect=w;w.__name__=["Reflect"];w.hasField=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)};w.field=function(c,a){var d=null;try{d=c[a]}catch(e){}return d};w.getProperty=function(c,a){var d;return null==c?null:c.__properties__&&(d=c.__properties__["get_"+a])?c[d]():c[a]};w.setProperty=function(c,a,d){var e;if(c.__properties__&&(e=c.__properties__["set_"+a]))c[e](d);else c[a]=d};w.fields=function(c){var a=[];if(null!=c){var d=Object.prototype.hasOwnProperty,
e;for(e in c)"__id__"!=e&&"hx__closures__"!=e&&d.call(c,e)&&a.push(e)}return a};w.isFunction=function(c){return"function"==typeof c&&!(c.__name__||c.__ename__)};w.compareMethods=function(c,a){return c==a?!0:w.isFunction(c)&&w.isFunction(a)?c.scope==a.scope&&c.method==a.method&&null!=c.method:!1};w.deleteField=function(c,a){if(!w.hasField(c,a))return!1;delete c[a];return!0};var n=function(){};f.Std=n;n.__name__=["Std"];n.string=function(c){return q.Boot.__string_rec(c,"")};n.parseInt=function(c){var a=
parseInt(c,10);0!=a||120!=r.cca(c,1)&&88!=r.cca(c,1)||(a=parseInt(c));return isNaN(a)?null:a};n.parseFloat=function(c){return parseFloat(c)};var E=function(){this.b=""};f.StringBuf=E;E.__name__=["StringBuf"];E.prototype={addSub:function(c,a,d){this.b+=null==d?r.substr(c,a,null):r.substr(c,a,d)},b:null,__class__:E};var s=function(){};f.StringTools=s;s.__name__=["StringTools"];s.urlEncode=function(c){return encodeURIComponent(c)};s.urlDecode=function(c){return decodeURIComponent(c.split("+").join(" "))};
s.htmlEscape=function(c,a){c=c.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return a?c.split('"').join("&quot;").split("'").join("&#039;"):c};s.htmlUnescape=function(c){return c.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")};s.startsWith=function(c,a){return c.length>=a.length&&r.substr(c,0,a.length)==a};s.endsWith=function(c,a){var d=a.length,e=c.length;return e>=d&&r.substr(c,e-d,d)==a};s.isSpace=
function(c,a){var d=r.cca(c,a);return 8<d&&14>d||32==d};s.ltrim=function(c){for(var a=c.length,d=0;d<a&&s.isSpace(c,d);)d++;return 0<d?r.substr(c,d,a-d):c};s.rtrim=function(c){for(var a=c.length,d=0;d<a&&s.isSpace(c,a-d-1);)d++;return 0<d?r.substr(c,0,a-d):c};s.trim=function(a){return s.ltrim(s.rtrim(a))};s.replace=function(a,b,d){return a.split(b).join(d)};s.hex=function(a,b){var d="";do d="0123456789ABCDEF".charAt(a&15)+d,a>>>=4;while(0<a);if(null!=b)for(;d.length<b;)d="0"+d;return d};var u=f.ValueType=
{__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};u.TNull=["TNull",0];u.TNull.toString=m;u.TNull.__enum__=u;u.TInt=["TInt",1];u.TInt.toString=m;u.TInt.__enum__=u;u.TFloat=["TFloat",2];u.TFloat.toString=m;u.TFloat.__enum__=u;u.TBool=["TBool",3];u.TBool.toString=m;u.TBool.__enum__=u;u.TObject=["TObject",4];u.TObject.toString=m;u.TObject.__enum__=u;u.TFunction=["TFunction",5];u.TFunction.toString=m;u.TFunction.__enum__=u;u.TClass=function(a){a=
["TClass",6,a];a.__enum__=u;a.toString=m;return a};u.TEnum=function(a){a=["TEnum",7,a];a.__enum__=u;a.toString=m;return a};u.TUnknown=["TUnknown",8];u.TUnknown.toString=m;u.TUnknown.__enum__=u;var p=function(){};f.Type=p;p.__name__=["Type"];p.getClass=function(a){return null==a?null:a.__class__};p.getSuperClass=function(a){return a.__super__};p.getClassName=function(a){return a.__name__.join(".")};p.getEnumName=function(a){return a.__ename__.join(".")};p.resolveClass=function(a){a=f[a];return null!=
a&&a.__name__?a:null};p.resolveEnum=function(a){a=f[a];return null!=a&&a.__ename__?a:null};p.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],
b[7]);default:throw"Too many arguments";}};p.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};p.createEnum=function(a,b,d){var e=w.field(a,b);if(null==e)throw"No such constructor "+b;if(w.isFunction(e)){if(null==d)throw"Constructor "+b+" need parameters";return e.apply(a,d)}if(null!=d&&0!=d.length)throw"Constructor "+b+" does not need parameters";return e};p.getInstanceFields=function(a){var b=[],d;for(d in a.prototype)b.push(d);r.remove(b,"__class__");r.remove(b,
"__properties__");return b};p.getEnumConstructs=function(a){return a.__constructs__.slice()};p["typeof"]=function(a){switch(typeof a){case "boolean":return u.TBool;case "string":return u.TClass(String);case "number":return Math.ceil(a)==a%2147483648?u.TInt:u.TFloat;case "object":if(null==a)return u.TNull;var b=a.__enum__;if(null!=b)return u.TEnum(b);a=a.__class__;return null!=a?u.TClass(a):u.TObject;case "function":return a.__name__||a.__ename__?u.TObject:u.TFunction;case "undefined":return u.TNull;
default:return u.TUnknown}};p.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var d=2,e=a.length;d<e;){var k=d++;if(!p.enumEq(a[k],b[k]))return!1}var H=a.__enum__;if(H!=b.__enum__||null==H)return!1}catch(f){return!1}return!0};var L=function(){};f.TypeTools=L;L.__name__=["TypeTools"];f.XmlType={__ename__:["XmlType"],__constructs__:[]};var t=function(){};f.Xml=t;t.__name__=["Xml"];t.parse=function(a){return g.xml.Parser.parse(a)};t.createElement=function(a){var b=new t;b.nodeType=
t.Element;b._children=[];b._attributes=new g.ds.StringMap;b.set_nodeName(a);return b};t.createPCData=function(a){var b=new t;b.nodeType=t.PCData;b.set_nodeValue(a);return b};t.createCData=function(a){var b=new t;b.nodeType=t.CData;b.set_nodeValue(a);return b};t.createComment=function(a){var b=new t;b.nodeType=t.Comment;b.set_nodeValue(a);return b};t.createDocType=function(a){var b=new t;b.nodeType=t.DocType;b.set_nodeValue(a);return b};t.createProcessingInstruction=function(a){var b=new t;b.nodeType=
t.ProcessingInstruction;b.set_nodeValue(a);return b};t.createDocument=function(){var a=new t;a.nodeType=t.Document;a._children=[];return a};t.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&r.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var d=this._children[a];if(d.nodeType==t.Element)return d;a++}return null},elementsNamed:function(a){if(null==
this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,d=this.x.length;b<d;){var e=this.x[b];if(e.nodeType==t.Element&&e._nodeName==a)break;b++}this.cur=b;return b<d},next:function(){for(var b=this.cur,d=this.x.length;b<d;){var e=this.x[b];b++;if(e.nodeType==t.Element&&e._nodeName==a)return this.cur=b,e}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=
this.x.length;a<b&&this.x[a].nodeType!=t.Element;)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var d=this.x[a],a=a+1;if(d.nodeType==t.Element)return this.cur=a,d}return null}}},exists:function(a){if(this.nodeType!=t.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=t.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=t.Element)throw"bad nodeType";return this._attributes.get(a)},
set_nodeValue:function(a){if(this.nodeType==t.Element||this.nodeType==t.Document)throw"bad nodeType";return this._nodeValue=a},set_nodeName:function(a){if(this.nodeType!=t.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=t.Element)throw"bad nodeType";return this._nodeName},_parent:null,_children:null,_attributes:null,_nodeValue:null,_nodeName:null,nodeType:null,__class__:t};var g={Log:function(){}};f["haxe.Log"]=g.Log;g.Log.__name__=["haxe","Log"];g.Log.trace=
function(a,b){q.Boot.__trace(a,b)};g.Serializer=function(){this.buf=new E;this.cache=[];this.useCache=g.Serializer.USE_CACHE;this.useEnumIndex=g.Serializer.USE_ENUM_INDEX;this.shash=new g.ds.StringMap;this.scount=0};f["haxe.Serializer"]=g.Serializer;g.Serializer.__name__=["haxe","Serializer"];g.Serializer.run=function(a){var b=new g.Serializer;b.serialize(a);return b.toString()};g.Serializer.prototype={serialize:function(a){var b=p["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==
a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=n.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=n.string(a)):this.buf.b+=n.string(0>a?"m":"p");break;case 3:this.buf.b+=n.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var d=0;this.buf.b+="a";for(var e=a.length,k=0;k<e;)b=k++,null==a[b]?d++:(0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=
n.string(d)),d=0),this.serialize(a[b]));0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=n.string(d)));this.buf.b+="h";break;case F:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=n.string(r.dateStr(a));break;case g.ds.StringMap:this.buf.b+="b";for(d=a.keys();d.hasNext();)b=d.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.IntMap:this.buf.b+="q";for(d=a.keys();d.hasNext();)b=
d.next(),this.buf.b+=":",this.buf.b+=n.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case g.ds.ObjectMap:this.buf.b+="M";for(d=a.keys();d.hasNext();)b=d.next(),e=w.field(b,"__id__"),w.deleteField(b,"__id__"),this.serialize(b),b.__id__=e,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case g.io.Bytes:b=0;d=a.length-2;e=new E;for(k=g.Serializer.BASE64;b<d;){var f=a.b[b++],l=a.b[b++],h=a.b[b++];e.b+=n.string(k.charAt(f>>2));e.b+=n.string(k.charAt((f<<4|l>>4)&63));e.b+=n.string(k.charAt((l<<
2|h>>6)&63));e.b+=n.string(k.charAt(h&63))}b==d?(f=a.b[b++],l=a.b[b++],e.b+=n.string(k.charAt(f>>2)),e.b+=n.string(k.charAt((f<<4|l>>4)&63)),e.b+=n.string(k.charAt(l<<2&63))):b==d+1&&(f=a.b[b++],e.b+=n.string(k.charAt(f>>2)),e.b+=n.string(k.charAt(f<<4&63)));b=e.b;this.buf.b+="s";this.buf.b+=n.string(b.length);this.buf.b+=":";this.buf.b+=n.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(p.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+=
"g"):(this.buf.b+="c",this.serializeString(p.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=n.string(this.useEnumIndex?"j":"w");this.serializeString(p.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=n.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";e=a.length;this.buf.b+=
n.string(e-2);for(k=2;k<e;)b=k++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+n.string(a);}},serializeFields:function(a){for(var b=0,d=w.fields(a);b<d.length;){var e=d[b];++b;this.serializeString(e);this.serialize(w.field(a,e))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,d=0,e=this.cache.length;d<e;){var k=d++,f=this.cache[k];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=n.string(k),!0}this.cache.push(a);
return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=n.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=s.urlEncode(a),this.buf.b+=n.string(a.length),this.buf.b+=":",this.buf.b+=n.string(a))},toString:function(){return this.buf.b},useEnumIndex:null,useCache:null,scount:null,shash:null,cache:null,buf:null,__class__:g.Serializer};g.Timer=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};f["haxe.Timer"]=g.Timer;g.Timer.__name__=
["haxe","Timer"];g.Timer.delay=function(a,b){var d=new g.Timer(b);d.run=function(){d.stop();a()};return d};g.Timer.stamp=function(){return(new Date).getTime()/1E3};g.Timer.prototype={run:function(){g.Log.trace("run",{fileName:"Timer.hx",lineNumber:98,className:"haxe.Timer",methodName:"run"})},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},id:null,__class__:g.Timer};g.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=g.Unserializer.DEFAULT_RESOLVER;
null==a&&(a=p,g.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};f["haxe.Unserializer"]=g.Unserializer;g.Unserializer.__name__=["haxe","Unserializer"];g.Unserializer.initCodes=function(){for(var a=[],b=0,d=g.Unserializer.BASE64.length;b<d;){var e=b++;a[g.Unserializer.BASE64.charCodeAt(e)]=e}return a};g.Unserializer.run=function(a){return(new g.Unserializer(a)).unserialize()};g.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;
case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return n.parseFloat(r.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=r.substr(this.buf,this.pos,b);this.pos+=b;a=s.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;
case 112:return Math.POSITIVE_INFINITY;case 97:var d=this.buf,a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";
return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=p.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;
this.pos++;var d=this.readDigits(),e=p.getEnumConstructs(a)[d];if(null==e)throw"Unknown enum index "+b+"@"+d;b=this.unserializeEnum(a,e);this.cache.push(b);return b;case 108:b=new F;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:d=new g.ds.StringMap;for(this.cache.push(d);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),d.set(a,this.unserialize());this.pos++;return d;case 113:d=new g.ds.IntMap;this.cache.push(d);for(b=this.buf.charCodeAt(this.pos++);58==
b;)a=this.readDigits(),d.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);if(104!=b)throw"Invalid IntMap format";return d;case 77:d=new g.ds.ObjectMap;for(this.cache.push(d);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),d.set(a,this.unserialize());this.pos++;return d;case 118:return b=r.strDate(r.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";
e=g.Unserializer.CODES;null==e&&(e=g.Unserializer.initCodes(),g.Unserializer.CODES=e);for(var a=this.pos,k=b&3,f=a+(b-k),l=g.io.Bytes.alloc(3*(b>>2)+(2<=k?k-1:0)),h=0;a<f;){var m=e[d.charCodeAt(a++)],q=e[d.charCodeAt(a++)];l.b[h++]=(m<<2|q>>4)&255;m=e[d.charCodeAt(a++)];l.b[h++]=(q<<4|m>>2)&255;q=e[d.charCodeAt(a++)];l.b[h++]=(m<<6|q)&255}2<=k&&(m=e[d.charCodeAt(a++)],q=e[d.charCodeAt(a++)],l.b[h++]=(m<<2|q>>4)&255,3==k&&(m=e[d.charCodeAt(a++)],l.b[h++]=(q<<4|m>>2)&255));this.pos+=b;this.cache.push(l);
return l;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=p.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var d=this.readDigits();if(0==d)return p.createEnum(a,b);for(var e=[];0<
d--;)e.push(this.unserialize());return p.createEnum(a,b,e)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!q.Boot.__instanceof(b,String))throw"Invalid object key";var d=this.unserialize();a[b]=d}this.pos++},readDigits:function(){for(var a=0,b=!1,d=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=d)break;b=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}b&&
(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:a},resolver:null,scache:null,cache:null,length:null,pos:null,buf:null,__class__:g.Unserializer};g.crypto={};g.crypto.BaseCode=function(a){for(var b=a.length,d=1;b>1<<d;)d++;if(8<d||b!=1<<d)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=d};f["haxe.crypto.BaseCode"]=g.crypto.BaseCode;g.crypto.BaseCode.__name__=["haxe","crypto","BaseCode"];
g.crypto.BaseCode.prototype={decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var d=this.tbl,e=a.length*b>>3,k=g.io.Bytes.alloc(e),f=0,l=0,h=0,m=0;m<e;){for(;8>l;){var l=l+b,f=f<<b,n=d[a.b[h++]];if(-1==n)throw"BaseCode : invalid encoded char";f|=n}l-=8;k.b[m++]=f>>l&255}return k},initTable:function(){for(var a=[],b=0;256>b;){var d=b++;a[d]=-1}for(var e=0,b=this.base.length;e<b;)d=e++,a[this.base.b[d]]=d;this.tbl=a},encodeBytes:function(a){for(var b=this.nbits,d=this.base,
e=8*a.length/b|0,k=g.io.Bytes.alloc(e+(0==8*a.length%b?0:1)),f=0,l=0,h=(1<<b)-1,m=0,n=0;n<e;){for(;l<b;)l+=8,f<<=8,f|=a.b[m++];l-=b;k.b[n++]=d.b[f>>l&h]&255}0<l&&(k.b[n++]=d.b[f<<b-l&h]&255);return k},tbl:null,nbits:null,base:null,__class__:g.crypto.BaseCode};g.ds={};g.ds.IntMap=function(){this.h={}};f["haxe.ds.IntMap"]=g.ds.IntMap;g.ds.IntMap.__name__=["haxe","ds","IntMap"];g.ds.IntMap.__interfaces__=[x];g.ds.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return r.iter(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},h:null,__class__:g.ds.IntMap};g.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};f["haxe.ds.ObjectMap"]=g.ds.ObjectMap;g.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];g.ds.ObjectMap.__interfaces__=[x];g.ds.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return r.iter(a)},set:function(a,b){var d=null!=a.__id__?a.__id__:a.__id__=
++g.ds.ObjectMap.count;this.h[d]=b;this.h.__keys__[d]=a},h:null,__class__:g.ds.ObjectMap};g.ds.StringMap=function(){this.h={}};f["haxe.ds.StringMap"]=g.ds.StringMap;g.ds.StringMap.__name__=["haxe","ds","StringMap"];g.ds.StringMap.__interfaces__=[x];g.ds.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref["$"+a]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b.substr(1));return r.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},h:null,__class__:g.ds.StringMap};g.io={};g.io.Bytes=function(a,b){this.length=a;this.b=b};f["haxe.io.Bytes"]=g.io.Bytes;g.io.Bytes.__name__=["haxe","io","Bytes"];g.io.Bytes.alloc=function(a){for(var b=[],d=0;d<a;)d++,b.push(0);return new g.io.Bytes(a,
b)};g.io.Bytes.ofString=function(a){for(var b=[],d=0,e=a.length;d<e;){var k=d++,k=a.charCodeAt(k);127>=k?b.push(k):(2047>=k?b.push(192|k>>6):(65535>=k?b.push(224|k>>12):(b.push(240|k>>18),b.push(128|k>>12&63)),b.push(128|k>>6&63)),b.push(128|k&63))}return new g.io.Bytes(b.length,b)};g.io.Bytes.prototype={toString:function(){return this.readString(0,this.length)},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw g.io.Error.OutsideBounds;for(var d="",e=this.b,k=String.fromCharCode,f=a,l=a+
b;f<l;){var h=e[f++];if(128>h){if(0==h)break;d+=k(h)}else if(224>h)d+=k((h&63)<<6|e[f++]&127);else if(240>h)var m=e[f++],d=d+k((h&31)<<12|(m&127)<<6|e[f++]&127);else var m=e[f++],n=e[f++],d=d+k((h&15)<<18|(m&127)<<12|n<<6&127|e[f++]&127)}return d},b:null,length:null,__class__:g.io.Bytes};g.io.Error=f["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};g.io.Error.Blocked=["Blocked",0];g.io.Error.Blocked.toString=m;g.io.Error.Blocked.__enum__=
g.io.Error;g.io.Error.Overflow=["Overflow",1];g.io.Error.Overflow.toString=m;g.io.Error.Overflow.__enum__=g.io.Error;g.io.Error.OutsideBounds=["OutsideBounds",2];g.io.Error.OutsideBounds.toString=m;g.io.Error.OutsideBounds.__enum__=g.io.Error;g.io.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=g.io.Error;a.toString=m;return a};g.xml={};g.xml.Parser=function(){};f["haxe.xml.Parser"]=g.xml.Parser;g.xml.Parser.__name__=["haxe","xml","Parser"];g.xml.Parser.parse=function(a){var b=t.createDocument();
g.xml.Parser.doParse(a,0,b);return b};g.xml.Parser.doParse=function(a,b,d){null==b&&(b=0);for(var e=null,k=1,f=1,l=null,h=0,m=0,q=0,p=a.charCodeAt(b),s=new E;p==p;){switch(k){case 0:switch(p){case 10:case 13:case 9:case 32:break;default:k=f;continue}break;case 1:switch(p){case 60:k=0;f=2;break;default:h=b;k=13;continue}break;case 13:60==p?(k=t.createPCData(s.b+r.substr(a,h,b-h)),s=new E,d.addChild(k),m++,k=0,f=2):38==p&&(s.addSub(a,h,b-h),k=18,f=13,h=b+1);break;case 17:93==p&&93==a.charCodeAt(b+1)&&
62==a.charCodeAt(b+2)&&(k=t.createCData(r.substr(a,h,b-h)),d.addChild(k),m++,b+=2,k=1);break;case 2:switch(p){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=r.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;k=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=r.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;k=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;k=15}h=b+1;break;case 63:k=14;h=b;break;case 47:if(null==
d)throw"Expected node name";h=b+1;k=0;f=10;break;default:k=3;h=b;continue}break;case 3:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(b==h)throw"Expected node name";e=t.createElement(r.substr(a,h,b-h));d.addChild(e);k=0;f=4;continue}break;case 4:switch(p){case 47:k=11;m++;break;case 62:k=9;m++;break;default:k=5;h=b;continue}break;case 5:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(h==b)throw"Expected attribute name";l=r.substr(a,
h,b-h);if(e.exists(l))throw"Duplicate attribute";k=0;f=6;continue}break;case 6:switch(p){case 61:k=0;f=7;break;default:throw"Expected =";}break;case 7:switch(p){case 34:case 39:k=8;h=b;break;default:throw'Expected "';}break;case 8:p==a.charCodeAt(h)&&(f=r.substr(a,h+1,b-h-1),e.set(l,f),k=0,f=4);break;case 9:h=b=g.xml.Parser.doParse(a,b,e);k=1;break;case 11:switch(p){case 62:k=1;break;default:throw"Expected >";}break;case 12:switch(p){case 62:return 0==m&&d.addChild(t.createPCData("")),b;default:throw"Expected >";
}case 10:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(h==b)throw"Expected node name";if(r.substr(a,h,b-h)!=d.get_nodeName())throw"Expected </"+d.get_nodeName()+">";k=0;f=12;continue}break;case 15:45==p&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(d.addChild(t.createComment(r.substr(a,h,b-h))),b+=2,k=1);break;case 16:91==p?q++:93==p?q--:62==p&&0==q&&(d.addChild(t.createDocType(r.substr(a,h,b-h))),k=1);break;case 14:63==p&&62==a.charCodeAt(b+1)&&(b++,k=r.substr(a,
h+1,b-h-2),d.addChild(t.createProcessingInstruction(k)),k=1);break;case 18:59==p&&(h=r.substr(a,h,b-h),35==h.charCodeAt(0)?(h=120==h.charCodeAt(1)?n.parseInt("0"+r.substr(h,1,h.length-1)):n.parseInt(r.substr(h,1,h.length-1)),s.b+=n.string(String.fromCharCode(h))):g.xml.Parser.escapes.exists(h)?s.b+=n.string(g.xml.Parser.escapes.get(h)):s.b+=n.string("&"+h+";"),h=b+1,k=f)}p=a.charCodeAt(++b)}1==k&&(h=b,k=13);if(13==k)return b==h&&0!=m||d.addChild(t.createPCData(s.b+r.substr(a,h,b-h))),b;throw"Unexpected end";
};var q={Boot:function(){}};f["js.Boot"]=q.Boot;q.Boot.__name__=["js","Boot"];q.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};q.Boot.__trace=function(a,b){var d=null!=b?b.fileName+":"+b.lineNumber+": ":"",d=d+q.Boot.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var e=0,k=b.customParams;e<k.length;){var f=k[e];++e;d+=","+q.Boot.__string_rec(f,"")}var g;"undefined"!=typeof document&&null!=(g=document.getElementById("haxe:trace"))?
g.innerHTML+=q.Boot.__unhtml(d)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(d)};q.Boot.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var d=typeof a;"function"==d&&(a.__name__||a.__ename__)&&(d="object");switch(d){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];d=a[0]+"(";b+="\t";for(var e=2,k=a.length;e<k;)var f=e++,d=2!=f?d+(","+q.Boot.__string_rec(a[f],b)):d+q.Boot.__string_rec(a[f],b);return d+")"}e=a.length;
d="[";b+="\t";for(k=0;k<e;)f=k++,d+=(0<f?",":"")+q.Boot.__string_rec(a[f],b);return d+"]"}try{k=a.toString}catch(g){return"???"}if(null!=k&&k!=Object.toString&&(d=a.toString(),"[object Object]"!=d))return d;k=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(k in a)e&&!a.hasOwnProperty(k)||"prototype"==k||"__class__"==k||"__super__"==k||"__interfaces__"==k||"__properties__"==k||(2!=d.length&&(d+=", \n"),d+=b+k+" : "+q.Boot.__string_rec(a[k],b));b=b.substring(1);return d+="\n"+b+"}";case "function":return"<function>";
case "string":return a;default:return String(a)}};q.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var d=a.__interfaces__;if(null!=d)for(var e=0,k=d.length;e<k;){var f=e++,f=d[f];if(f==b||q.Boot.__interfLoop(f,b))return!0}return q.Boot.__interfLoop(a.__super__,b)};q.Boot.__instanceof=function(a,b){if(null==b)return!1;switch(b){case z:return(a|0)===a;case B:return"number"==typeof a;case C:return"boolean"==typeof a;case String:return"string"==typeof a;case N:return!0;default:if(null!=
a){if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(q.Boot.__interfLoop(a.__class__,b))return!0}}else return!1;return b==O&&null!=a.__name__||b==P&&null!=a.__ename__?!0:a.__enum__==b}};q.Boot.__cast=function(a,b){if(q.Boot.__instanceof(a,b))return a;throw"Cannot cast "+n.string(a)+" to "+n.string(b);};q.Browser=function(){};f["js.Browser"]=q.Browser;q.Browser.__name__=["js","Browser"];a.application.ApplicationMessage=function(a,b){this.handler=a;this.data=b};f["nfuzion.application.ApplicationMessage"]=
a.application.ApplicationMessage;a.application.ApplicationMessage.__name__=["nfuzion","application","ApplicationMessage"];a.application.ApplicationMessage.prototype={data:null,handler:null,__class__:a.application.ApplicationMessage};a.application.ApplicationTool=function(){};f["nfuzion.application.ApplicationTool"]=a.application.ApplicationTool;a.application.ApplicationTool.__name__=["nfuzion","application","ApplicationTool"];a.event={};a.event.IEventDispatcher=function(){};f["nfuzion.event.IEventDispatcher"]=
a.event.IEventDispatcher;a.event.IEventDispatcher.__name__=["nfuzion","event","IEventDispatcher"];a.event.IEventDispatcher.prototype={dispatchEvent:null,hasEventListener:null,removeEventListener:null,addEventListener:null,__class__:a.event.IEventDispatcher};a.event.EventDispatcher=function(){this.eventTypes=null};f["nfuzion.event.EventDispatcher"]=a.event.EventDispatcher;a.event.EventDispatcher.__name__=["nfuzion","event","EventDispatcher"];a.event.EventDispatcher.__interfaces__=[a.event.IEventDispatcher];
a.event.EventDispatcher.prototype={getFunctionIndex:function(a,b){for(var d=0,e=a.length;d<e;){var k=d++;if(w.compareMethods(a[k],b))return k}return-1},dispatchEvent:function(a){if(null!=this.eventTypes&&this.eventTypes.exists(a.type))for(var b=0,d=this.eventTypes.get(a.type).slice();b<d.length;){var e=d[b];++b;e(a);if(a.stopNow)break}},hasEventListener:function(a){return null==this.eventTypes?!1:this.eventTypes.exists(a)&&0<this.eventTypes.get(a).length?!0:!1},removeEventListener:function(a,b,d){null!=
this.eventTypes&&this.eventTypes.exists(a)&&(a=this.eventTypes.get(a),b=this.getFunctionIndex(a,b),0<=b&&a.splice(b,1))},addEventListener:function(a,b,d){null==this.eventTypes&&(this.eventTypes=new g.ds.StringMap);this.eventTypes.exists(a)||this.eventTypes.set(a,[]);a=this.eventTypes.get(a);0>this.getFunctionIndex(a,b)&&(this.invertDefaultPriority?a.unshift(b):a.push(b))},invertDefaultPriority:null,eventTypes:null,__class__:a.event.EventDispatcher};a.builder={};a.builder.Builder=function(){a.event.EventDispatcher.call(this);
this.set_sketch(null)};f["nfuzion.builder.Builder"]=a.builder.Builder;a.builder.Builder.__name__=["nfuzion","builder","Builder"];a.builder.Builder.__super__=a.event.EventDispatcher;a.builder.Builder.prototype=h(a.event.EventDispatcher.prototype,{themeComponent:function(a,b,d){null==d&&(d=!0);d&&a.setSquare(b._x,b._y,b._width,b._height);a.set_alpha(b.alpha);a.set_visible(b.visible);a.set_backgroundPaint(b.backgroundPaint);a.set_borderPaint(b.borderPaint);null!=b.borderWidth&&a.set_borderWidth(b.borderWidth);
a.set_frames(b.frames);null!=b.mask?(a.set_maskUrl(b.mask.url),a.maskBox.copyFromBox(b.mask)):a.set_maskUrl(null)},themeText:function(a,b,d){this.themeComponent(a,b);a.set_alignment(b.alignment);null==b.text||a.manualText||(a.set_text(b.text),a.manualText=!1);a.set_font(b.font);null!=b.paint&&a.set_paint(b.paint);a.set_wrap(b.wrap)},themeChild:function(c,b,d){null==d&&(d=!0);q.Boot.__instanceof(c,a.graphics.Text)?this.themeText(c,b,d):q.Boot.__instanceof(c,a.graphics.Container)?this.themeContainer(c,
b,d):g.Log.trace("ERROR: Unknown sketch type '"+p.getClassName(p.getClass(c))+"'.",{fileName:"Builder.hx",lineNumber:285,className:"nfuzion.builder.Builder",methodName:"themeChild"})},themeChildren:function(c,b){if(q.Boot.__instanceof(b,a.sketch.type.SketchContainer))for(var d=0,e=b.children;d<e.length;){var k=e[d];++d;var f=c.getChild(k.name);null!=f&&this.themeChild(f,k)}},themeContainer:function(a,b,d){null==d&&(d=!0);this.themeComponent(a,b,d);d=null;if(null!=b.className){var e=b.className;d=
this.sketch.getClass(e);null==d?g.Log.trace("ERROR: Class '"+e+"' not found.",{fileName:"Builder.hx",lineNumber:230,className:"nfuzion.builder.Builder",methodName:"themeContainer"}):(this.themeComponent(a,d,!1),a.setSize(d._width,d._height),this.themeChildren(a,d),a.sketch=d)}this.themeChildren(a,b)},theme:function(a,b){this.themeChild(a,b,!1)},buildText:function(c,b){var d=new a.graphics.Text(b.name,b);this.themeText(d,b);c.appendChild(d);return d},buildChildren:function(c,b){for(var d=0,e=b.children;d<
e.length;){var k=e[d];++d;switch(p.getClass(k)){case a.sketch.type.SketchContainer:this.buildContainer(c,k);break;case a.sketch.type.SketchText:this.buildText(c,k);break;default:g.Log.trace("ERROR: Unknown sketch type '"+p.getClassName(p.getClass(k))+"'.",{fileName:"Builder.hx",lineNumber:180,className:"nfuzion.builder.Builder",methodName:"buildChildren"})}}},buildContainer:function(c,b){var d=new a.graphics.Container(b.name,b);c.appendChild(d);this.configueComponent(d,b);var e=null;if(null!=b.className){var k=
b.className,e=this.sketch.getClass(k);null==e?g.Log.trace("ERROR: Class '"+k+"' not found.",{fileName:"Builder.hx",lineNumber:141,className:"nfuzion.builder.Builder",methodName:"buildContainer"}):(this.configueComponent(d,e),this.buildChildren(d,e),d.sketch=e)}this.buildChildren(d,b);null!=e&&(d.setPosition(b._x,b._y),d.set_borderWidth(e.borderWidth),d.set_borderPaint(e.borderPaint),d.set_backgroundPaint(e.backgroundPaint));return d},configueComponent:function(a,b){a.set_guises(b.guises);this.themeComponent(a,
b);a["goto"](b.initialFrameName)},buildOver:function(a,b){var d;d=this.sketch.getClass(a);if(null==d)return g.Log.trace("ERROR: Class '"+a+"' not found.",{fileName:"Builder.hx",lineNumber:101,className:"nfuzion.builder.Builder",methodName:"buildOver"}),!1;this.configueComponent(b,d);this.buildChildren(b,d);b.sketch=d;return!0},build:function(a,b){var d;d=this.sketch.getClass(a);if(null==d)return g.Log.trace("ERROR: Class '"+a+"' not found.",{fileName:"Builder.hx",lineNumber:79,className:"nfuzion.builder.Builder",
methodName:"build"}),!1;this.buildContainer(b,d);return!0},onSketchReady:function(c){null!=this.sketch&&this.sketch.ready&&(this.sketch.removeEventListener("BuilderEvent.ready",l(this,this.onSketchReady)),this.dispatchEvent(new a.builder.event.BuilderEvent("sketch")))},set_sketch:function(a){if(a!=this.sketch)if(this.sketch=a,a.ready)this.onSketchReady();else a.addEventListener("BuilderEvent.ready",l(this,this.onSketchReady));return this.sketch},sketch:null,__class__:a.builder.Builder,__properties__:{set_sketch:"set_sketch"}});
a.event.Event=function(a){this.type=a;this.stopNow=this.stop=!1};f["nfuzion.event.Event"]=a.event.Event;a.event.Event.__name__=["nfuzion","event","Event"];a.event.Event.prototype={stopImmediatePropagation:function(){this.stopNow=!0},stopPropagation:function(){this.stop=!0},stopNow:null,stop:null,type:null,__class__:a.event.Event};a.builder.event={};a.builder.event.BuilderEvent=function(c){a.event.Event.call(this,c)};f["nfuzion.builder.event.BuilderEvent"]=a.builder.event.BuilderEvent;a.builder.event.BuilderEvent.__name__=
["nfuzion","builder","event","BuilderEvent"];a.builder.event.BuilderEvent.__super__=a.event.Event;a.builder.event.BuilderEvent.prototype=h(a.event.Event.prototype,{__class__:a.builder.event.BuilderEvent});a.cache={};a.cache.ListCache=function(){this.dataRequester=this.dataDismisser=null;this.bufferSize=20;this.dataAtRangeIndexHint=-1;this.cached=this.requestInProgress=!1;a.event.EventDispatcher.call(this);this.requestTimer=new a.timer.Timer(5);this.set_listLength(0);this.set_listPosition(0);this.set_windowSize(1);
this.ranges=[];this.requestTimer.addEventListener("timer",l(this,this.onRequestTimeout))};f["nfuzion.cache.ListCache"]=a.cache.ListCache;a.cache.ListCache.__name__=["nfuzion","cache","ListCache"];a.cache.ListCache.__super__=a.event.EventDispatcher;a.cache.ListCache.prototype=h(a.event.EventDispatcher.prototype,{dismissDataEntry:function(a){null!=this.dataDismisser&&null==this.getCacheDataAt(a)&&this.dataDismisser(this.data.entries[a-this.data.offset])},dismissAllData:function(){if(null!=this.data){if(null!=
this.data)for(var a=0,b=this.data.entries.length;a<b;){var d=a++;this.dismissDataEntry(d)}this.data.entries=[]}},requestCacheRangeData:function(){for(var a=0,b=this.ranges.length;a<b;){var d=a++,d=this.ranges[d];if(d.entries.length<d.end-d.start+1){this.addDataRequest(d.start+d.entries.length,d.end);break}}},addCacheRangeData:function(c){if(0<this.ranges.length){var b=c.offset,d=c.offset+c.entries.length-1,e=this.findInsertionIndex(b);0>e&&e++;if(0<e&&this.ranges[e-1].end>=b){var k=this.ranges[e-
1];if(b<=k.start+k.entries.length)e--;else{var f=k.end;k.end=b-1;this.ranges.splice(e,0,new a.cache.type.CacheRange(b,f))}}for(;e<this.ranges.length&&this.ranges[e].start<=d;){k=this.ranges[e];for(f=b;f<=d;){var g=k.start+k.entries.length;if(f<g)k.entries[f-k.start]=c.entries[f-b];else if(f==g)k.entries.push(c.entries[f-b]),g++,g>k.end&&e+1<this.ranges.length&&this.ranges[e+1].start==g&&(g=this.ranges.splice(e+1,1)[0],k.entries=k.entries.concat(g.entries),k.end=g.end);else if(e+1<this.ranges.length&&
this.ranges[e+1].start==f)g=this.ranges.splice(e+1,1)[0],k.entries=k.entries.concat(g.entries),k.end=g.end;else break;f++}e++}}},clearCacheRanges:function(){this.ranges=[]},removeCacheRange:function(a,b){if(0>=a&&b>=this.listLength-1){if(null!=this.dataDismisser)for(var d=0,e=this.ranges;d<e.length;){var k=e[d];++d;this.dataDismisser(k.entries)}this.ranges=[]}else g.Log.trace("WARNING: Cannot remove partial cache range.  Removing all.",{fileName:"ListCache.hx",lineNumber:784,className:"nfuzion.cache.ListCache",
methodName:"removeCacheRange"}),this.removeCacheRange(0,this.listLength-1)},addCacheRange:function(c,b){b>=this.listLength&&(b=this.listLength-1);c>b&&(c=b);if(!(0>c)){var d=this.findInsertionIndex(c);-1==d&&(this.ranges.unshift(new a.cache.type.CacheRange(c,c)),d++);0<d&&this.ranges[d-1].end>=c&&d--;var e=this.ranges[d];if(null==e||b<e.start){var k=new a.cache.type.CacheRange(c,b);this.ranges.splice(d,0,k)}else for(;b>=e.start;){c<e.start&&(k=new a.cache.type.CacheRange(c,e.start-1),this.ranges.splice(d,
0,k),c=e.start,d++,e=this.ranges[d]);if(d+1>=this.ranges.length){e.end+1>=c?b>e.end&&(e.end=b):this.ranges.splice(d+1,0,new a.cache.type.CacheRange(c,b));break}else if(k=this.ranges[d+1],b<k.start){e.end+1>=c?b>e.end&&(e.end=b):this.ranges.splice(d+1,0,new a.cache.type.CacheRange(c,b));break}else e.end=k.start-1,c=e.end+1;d++;e=this.ranges[d]}this.requestData()}},findInsertionIndex:function(a){for(var b=0,d=this.ranges.length;b<d;){var e=b++;if(this.ranges[e].start>a)return e-1}return this.ranges.length},
addCacheWindow:function(a){a+this.windowSize>this.listLength&&(a=this.listLength-this.windowSize);this.addCacheRange(a,a+this.windowSize-1)},getCacheDataAt:function(a){if(0>=this.ranges.length)return this.dataAtRangeIndexHint=-1,null;if(0<=this.dataAtRangeIndexHint&&this.dataAtRangeIndexHint<this.ranges.length){var b=this.ranges[this.dataAtRangeIndexHint];if(a>=b.start&&a<b.start+b.entries.length)return b.entries[a-b.start]}var d=this.findInsertionIndex(a);if(0<=d&&(d>=this.ranges.length&&(d=this.ranges.length-
1),b=this.ranges[d],a>=b.start&&a<b.start+b.entries.length))return this.dataAtRangeIndexHint=d,b.entries[a-b.start];this.dataAtRangeIndexHint=-1;return null},getDataAt:function(a){return null!=this.data&&a>=this.data.offset&&a<this.data.offset+this.data.entries.length?this.data.entries[a-this.data.offset]:this.getCacheDataAt(a)},set_dataDismisser:function(a){return this.dataDismisser=a},dataDismisser:null,set_dataRequester:function(a){w.compareMethods(this.dataRequester,a)||(this.dataRequester=a,
this.invalidateData());return a},dataRequester:null,invalidateData:function(){this.dismissAllData();this.data=null;this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",0,this.listLength-1));this.requestInProgress=!1;this.requestData()},onRequestTimeout:function(a){g.Log.trace("ERROR: No response received for list request after "+this.requestTimer.period+" seconds.",{fileName:"ListCache.hx",lineNumber:476,className:"nfuzion.cache.ListCache",methodName:"onRequestTimeout"});this.requestTimer.reset();
this.requestInProgress=!1;this.requestData()},addDataRequest:function(a,b){b>this.listLength-1&&(b=this.listLength-1);0>a||0>b||b<a?g.Log.trace("WARNING: Request for invalid data range!",{fileName:"ListCache.hx",lineNumber:461,className:"nfuzion.cache.ListCache",methodName:"addDataRequest"}):(this.requestTimer.start(),this.requestedStart=a,this.requestedEnd=b,this.requestInProgress=!0,this.dataRequester(a,b))},requestData:function(){if(null!=this.dataRequester&&!this.requestInProgress&&0<this.listLength)if(null==
this.data){if(0<this.windowSize){var c=this.listPosition,b=this.listPosition+this.windowSize-1;b>=this.listLength&&(b=this.listLength-1);this.dismissAllData();this.data=new a.widget.type.PartialList(c,[]);c=this.fillCacheForward(c,b);0<this.data.entries.length&&this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",0,this.listLength-1));c<=b?this.addDataRequest(c,b):this.requestData()}}else{var d=this.data.offset,e=d+this.data.entries.length-1,k=this.listPosition,f=this.listPosition+
this.windowSize-1,c=-1;k<=e&&(k>=d?c=k:d<=f&&(c=d));b=-1;f>=d&&(f<=e?b=f:k<=e&&(b=e));k=this.listPosition+this.windowSize+this.bufferSize-1;k>=this.listLength&&(k=this.listLength-1);var g=this.listPosition-this.bufferSize;0>g&&(g=0);f=0;0<=c&&0<=b&&(f=b-c+1);var h=this.windowSize;h>this.listLength&&(h=this.listLength);this.listPosition<this.listLength&&f<h?(d=this.listPosition,c==this.listPosition&&(d=b+1),d<this.listLength&&(c=d+(h-f)-1,c>=this.listLength&&(c=this.listLength-1),b=this.fillCacheForward(d,
c),b!=d&&this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",this.data.offset,this.data.offset+this.data.entries.length-1)),b<=c?this.addDataRequest(d,c):this.requestData())):e<k?(c=this.fillCacheForward(e+1,k),c<=k?this.addDataRequest(c,k):this.requestData()):g<this.data.offset?(this.fillCacheBackward(g),g<=this.data.offset?this.addDataRequest(g,d-1):this.requestData()):this.requestCacheRangeData()}this.requestInProgress&&this.cached?(this.cached=!1,this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.caching",
this.requestedStart,this.requestedEnd))):this.requestInProgress||this.cached||(this.cached=!0,this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.cached",0,this.listLength-1)))},fillCacheBackward:function(a){for(;a<=this.data.offset;){var b=this.getCacheDataAt(this.data.offset-1);if(null==b)break;this.data.entries.unshift(b);this.data.offset--}},fillCacheForward:function(a,b){b>=this.listLength&&(b=this.listLength-1);if(a>b)return a;do{var d=this.getCacheDataAt(a);if(null==d)break;this.data.entries.push(d);
a++}while(a<=b);return a},addData:function(c){var b;if(null!=c){this.requestInProgress&&(b=this.requestedEnd-this.requestedStart+1,c.offset==this.requestedStart&&c.entries.length==b&&(this.requestTimer.reset(),this.requestInProgress=!1));if(c.offset>=this.listLength){g.Log.trace("WARNING: List received out-of-range data.",{fileName:"ListCache.hx",lineNumber:180,className:"nfuzion.cache.ListCache",methodName:"addData"});return}if(c.offset>=this.listPosition-20&&c.offset+c.entries.length<=this.listPosition+
this.windowSize+20){if(null==this.data||this.data.offset>c.offset+c.entries.length||c.offset>this.data.offset+this.data.entries.length)null!=c&&(this.dismissAllData(),this.data=c.clone());else{for(b=this.data.offset-1;b>=c.offset;)this.data.entries.unshift(c.entries[b-c.offset]),this.data.offset=b,b--;b=this.data.offset+this.data.entries.length;var d;for(d=c.entries.length;b<c.offset+d;)b>=this.data.offset&&b<this.data.offset+this.data.entries.length?this.data.entries[b-this.data.offset]=c.entries[b-
c.offset]:this.data.entries.push(c.entries[b-c.offset]),b++}this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",this.data.offset,this.data.offset+this.data.entries.length-1))}this.addCacheRangeData(c)}this.requestData()},dataEventHandler:function(a){this.addData(a.data)},set_listPosition:function(a){0>a&&(g.Log.trace("ERROR: Cannot set list position to less than 0.",{fileName:"ListCache.hx",lineNumber:120,className:"nfuzion.cache.ListCache",methodName:"set_listPosition"}),a=0);if(this.listPosition!=
a){this.listPosition=a;if(null!=this.data)if(a<this.data.offset||a>=this.data.offset+this.data.entries.length)this.dismissAllData(),this.data=null;else{for(;this.data.offset<a-this.bufferSize;)this.dismissDataEntry(this.data.entries.shift()),this.data.offset++;for(;this.data.offset+this.data.entries.length>a+this.windowSize+this.bufferSize;)this.dismissDataEntry(this.data.entries.pop())}this.requestData()}return a},listPosition:null,set_listLength:function(a){0>a&&(g.Log.trace("ERROR: Cannot set list length to less than 0.",
{fileName:"ListCache.hx",lineNumber:85,className:"nfuzion.cache.ListCache",methodName:"set_listLength"}),a=0);if(this.listLength!=a){if(a<this.listLength){if(this.data.offset+this.data.entries.length>=a){var b=this.data.offset+this.data.entries.length-a;if(b>this.data.entries.length)this.data.entries=[];else for(var d=0;d<b;)d++,this.data.entries.pop()}this.removeCacheRange(a,this.listLength-1)}this.listLength=a;this.requestData()}return a},listLength:null,set_windowSize:function(a){1>a&&(g.Log.trace("ERROR: Cannot set cache window size to less than 1.",
{fileName:"ListCache.hx",lineNumber:69,className:"nfuzion.cache.ListCache",methodName:"set_windowSize"}),a=1);this.windowSize!=a&&(this.windowSize=a,this.requestData());return a},windowSize:null,set_bufferSize:function(a){0>a&&(a=0);this.bufferSize!=a&&(this.bufferSize=a,this.requestData());return a},bufferSize:null,destroy:function(){this.requestTimer.removeEventListener("timer",l(this,this.onRequestTimeout));this.set_dataRequester(null);this.data=null},dataAtRangeIndexHint:null,requests:null,ranges:null,
requestedEnd:null,requestedStart:null,requestTimer:null,requestInProgress:null,data:null,cached:null,__class__:a.cache.ListCache,__properties__:{set_bufferSize:"set_bufferSize",set_windowSize:"set_windowSize",set_listLength:"set_listLength",set_listPosition:"set_listPosition",set_dataRequester:"set_dataRequester",set_dataDismisser:"set_dataDismisser"}});a.cache.event={};a.cache.event.CacheEvent=function(c,b,d){a.event.Event.call(this,c);this.start=b;this.end=d};f["nfuzion.cache.event.CacheEvent"]=
a.cache.event.CacheEvent;a.cache.event.CacheEvent.__name__=["nfuzion","cache","event","CacheEvent"];a.cache.event.CacheEvent.__super__=a.event.Event;a.cache.event.CacheEvent.prototype=h(a.event.Event.prototype,{end:null,start:null,__class__:a.cache.event.CacheEvent});a.cache.type={};a.cache.type.CacheRange=function(a,b){this.entries=[];this.start=a;this.end=b};f["nfuzion.cache.type.CacheRange"]=a.cache.type.CacheRange;a.cache.type.CacheRange.__name__=["nfuzion","cache","type","CacheRange"];a.cache.type.CacheRange.prototype=
{end:null,start:null,entries:null,__class__:a.cache.type.CacheRange};a.client={};a.client.IClient=function(){};f["nfuzion.client.IClient"]=a.client.IClient;a.client.IClient.__name__=["nfuzion","client","IClient"];a.client.IClient.__interfaces__=[a.event.IEventDispatcher];a.client.IClient.prototype={send:null,disconnect:null,connect:null,connected:null,port:null,host:null,__class__:a.client.IClient};a.client.Client=function(c,b){a.event.EventDispatcher.call(this);this.host=c;this.port=b};f["nfuzion.client.Client"]=
a.client.Client;a.client.Client.__name__=["nfuzion","client","Client"];a.client.Client.__interfaces__=[a.client.IClient];a.client.Client.__super__=a.event.EventDispatcher;a.client.Client.prototype=h(a.event.EventDispatcher.prototype,{send:function(a){return!1},disconnect:function(){},connect:function(){},port:null,host:null,connected:null,__class__:a.client.Client});a.client.GhostClient=function(){a.event.EventDispatcher.call(this);this.host="ghost";this.port=0;this.connected=!0;this.set_autoConnect(!1)};
f["nfuzion.client.GhostClient"]=a.client.GhostClient;a.client.GhostClient.__name__=["nfuzion","client","GhostClient"];a.client.GhostClient.__interfaces__=[a.client.IClient];a.client.GhostClient.__super__=a.event.EventDispatcher;a.client.GhostClient.prototype=h(a.event.EventDispatcher.prototype,{addMessageListener:function(a,b){},send:function(a){return!1},set_autoConnect:function(a){return a},autoConnect:null,disconnect:function(){},connect:function(){},connected:null,port:null,host:null,__class__:a.client.GhostClient,
__properties__:{set_autoConnect:"set_autoConnect"}});a.client.WebSocketClient=function(c,b){a.client.Client.call(this,c,b);this.client=null;this.closeRequested=this.connectRequested=this.connected=!1;this.txTimer=new a.timer.Timer(0.05)};f["nfuzion.client.WebSocketClient"]=a.client.WebSocketClient;a.client.WebSocketClient.__name__=["nfuzion","client","WebSocketClient"];a.client.WebSocketClient.__super__=a.client.Client;a.client.WebSocketClient.prototype=h(a.client.Client.prototype,{onError:function(a){g.Log.trace("ERROR:"+
n.string(a),{fileName:"WebSocketClient.hx",lineNumber:191,className:"nfuzion.client.WebSocketClient",methodName:"onError"})},onMessage:function(c){null!=c.data&&this.dispatchEvent(new a.client.event.ClientEvent("ClientEvent.data",this,c.data))},onClose:function(c){this.closeRequested=this.connectRequested=this.connected=!1;this.client=null;this.dispatchEvent(new a.client.event.ClientEvent("ClientEvent.disconnect",this))},onOpen:function(c){this.connected=!0;this.connectRequested=!1;this.closeRequested?
this.disconnect():this.dispatchEvent(new a.client.event.ClientEvent("ClientEvent.connect",this))},onTxTimer:function(a){if(0>=this.client.bufferedAmount){if(0<this.txQueue.length)try{this.client.send(this.txQueue.shift())}catch(b){g.Log.trace("ERROR: "+n.string(b),{fileName:"WebSocketClient.hx",lineNumber:144,className:"nfuzion.client.WebSocketClient",methodName:"onTxTimer"}),this.disconnect()}this.txTimer.reset()}},send:function(a){if(null!=this.client){if(0>=this.txQueue.length)if(0>=this.client.bufferedAmount)try{this.client.send(a)}catch(b){return g.Log.trace("ERROR: "+
n.string(b),{fileName:"WebSocketClient.hx",lineNumber:97,className:"nfuzion.client.WebSocketClient",methodName:"send"}),this.disconnect(),!1}else this.txQueue.push(a),this.txTimer.start();else this.txQueue.push(a);return!0}return!1},disconnect:function(){null!=this.client&&(this.connected?(this.txTimer.removeEventListener("timer",l(this,this.onTxTimer)),this.connected=!1,this.client.close()):this.closeRequested=!0)},connect:function(){this.connectRequested||(null!=this.client?this.disconnect():(this.txTimer.addEventListener("timer",
l(this,this.onTxTimer)),this.txQueue=[],this.connectRequested=!0,this.client=new WebSocket("ws://"+this.host+":"+n.string(this.port)+"?encoding=text"),this.client.onopen=l(this,this.onOpen),this.client.onclose=l(this,this.onClose),this.client.onerror=l(this,this.onError),this.client.onmessage=l(this,this.onMessage)))},txTimer:null,txQueue:null,client:null,closeRequested:null,connectRequested:null,__class__:a.client.WebSocketClient});a.client.event={};a.client.event.ClientEvent=function(c,b,d){a.event.Event.call(this,
c);this.client=b;this.data=d};f["nfuzion.client.event.ClientEvent"]=a.client.event.ClientEvent;a.client.event.ClientEvent.__name__=["nfuzion","client","event","ClientEvent"];a.client.event.ClientEvent.__super__=a.event.Event;a.client.event.ClientEvent.prototype=h(a.event.Event.prototype,{data:null,client:null,__class__:a.client.event.ClientEvent});a.debug={};a.debug.Debug=function(){};f["nfuzion.debug.Debug"]=a.debug.Debug;a.debug.Debug.__name__=["nfuzion","debug","Debug"];a.debug.Debug.__properties__=
{set_client:"set_client"};a.debug.Debug.initialize=function(){a.debug.Debug.buffer=[];g.Log.trace=a.debug.Debug.debugTrace};a.debug.Debug.debugTrace=function(c,b){var d=new a.message.debug.LetTrace(a.timer.Delay.now(),a.application.Application.appName,n.string(c),b.fileName,b.lineNumber,b.className,b.methodName);if(null==a.debug.Debug.client||!1==a.debug.Debug.client.get_connected())for(a.debug.Debug.buffer.push(d);20<a.debug.Debug.buffer.length;)a.debug.Debug.buffer.shift();else a.debug.Debug.client.send(d)};
a.debug.Debug.set_client=function(c){a.debug.Debug.client=c;if(c.get_connected())a.debug.Debug.onClientConnect();else c.addEventListener("SpanClientEvent.connect",a.debug.Debug.onClientConnect);return a.debug.Debug.client};a.debug.Debug.onClientConnect=function(c){for(;0<a.debug.Debug.buffer.length;)a.debug.Debug.client.send(a.debug.Debug.buffer.shift())};a.event.BubblingEvent=function(c,b){null==b&&(b=!0);a.event.Event.call(this,c);this.bubbles=b};f["nfuzion.event.BubblingEvent"]=a.event.BubblingEvent;
a.event.BubblingEvent.__name__=["nfuzion","event","BubblingEvent"];a.event.BubblingEvent.__super__=a.event.Event;a.event.BubblingEvent.prototype=h(a.event.Event.prototype,{bubbles:null,__class__:a.event.BubblingEvent});a.event.IListenerManager=function(){};f["nfuzion.event.IListenerManager"]=a.event.IListenerManager;a.event.IListenerManager.__name__=["nfuzion","event","IListenerManager"];a.event.IListenerManager.prototype={detachAllListeners:null,swapListener:null,detachListener:null,attachListener:null,
__class__:a.event.IListenerManager};a.event.ListenerManager=function(){this.listeners=[]};f["nfuzion.event.ListenerManager"]=a.event.ListenerManager;a.event.ListenerManager.__name__=["nfuzion","event","ListenerManager"];a.event.ListenerManager.prototype={detachAllListeners:function(){for(var a=0,b=this.listeners;a<b.length;){var d=b[a];++a;d.dispatcher.removeEventListener(d.type,d.listener)}this.listeners=[]},swapListener:function(a,b,d,e){null==e&&(e=0);for(var k=0,f=this.listeners.length;k<f;){var g=
k++,h=this.listeners[g];h.dispatcher==a&&h.type==b&&(h.dispatcher.removeEventListener(h.type,h.listener),this.listeners.splice(g,1))}null!=d&&this.attachListener(a,b,d,e)},detachListener:function(a,b,d){for(var e=0,k=this.listeners.length;e<k;){var f=e++,g=this.listeners[f];if(g.dispatcher==a&&g.type==b&&w.compareMethods(g.listener,d)){g.dispatcher.removeEventListener(g.type,g.listener);this.listeners.splice(f,1);break}}},attachListener:function(c,b,d,e){if(null!=c){e=0;for(var k=this.listeners.length;e<
k;){var f=e++,f=this.listeners[f];if(f.dispatcher==c&&f.type==b&&w.compareMethods(f.listener,d))return}this.listeners.push(new a.event.ListenerRecord(c,b,d));c.addEventListener(b,d)}else g.Log.trace("ERROR: Attempted to add a listener to a null EventDispatcher.",{fileName:"ListenerManager.hx",lineNumber:36,className:"nfuzion.event.ListenerManager",methodName:"attachListener"})},listeners:null,__class__:a.event.ListenerManager};a.event.ListenerManagerAndEventDispatcher=function(){a.event.ListenerManager.call(this);
this.eventDispatcher=new a.event.EventDispatcher};f["nfuzion.event.ListenerManagerAndEventDispatcher"]=a.event.ListenerManagerAndEventDispatcher;a.event.ListenerManagerAndEventDispatcher.__name__=["nfuzion","event","ListenerManagerAndEventDispatcher"];a.event.ListenerManagerAndEventDispatcher.__interfaces__=[a.event.IEventDispatcher];a.event.ListenerManagerAndEventDispatcher.__super__=a.event.ListenerManager;a.event.ListenerManagerAndEventDispatcher.prototype=h(a.event.ListenerManager.prototype,{dispatchEvent:function(a){this.eventDispatcher.dispatchEvent(a)},
hasEventListener:function(a){return this.eventDispatcher.hasEventListener(a)},removeEventListener:function(a,b,d){null==d&&(d=0);this.eventDispatcher.removeEventListener(a,b,d)},addEventListener:function(a,b,d){null==d&&(d=0);this.eventDispatcher.addEventListener(a,b,d)},eventDispatcher:null,__class__:a.event.ListenerManagerAndEventDispatcher});a.event.ListenerRecord=function(a,b,d){this.dispatcher=a;this.type=b;this.listener=d};f["nfuzion.event.ListenerRecord"]=a.event.ListenerRecord;a.event.ListenerRecord.__name__=
["nfuzion","event","ListenerRecord"];a.event.ListenerRecord.prototype={listener:null,type:null,dispatcher:null,__class__:a.event.ListenerRecord};a.font={};a.font.BaseFont=function(c,b,d,e){null==b&&(b=10);a.event.EventDispatcher.call(this);null==d&&(d=a.font.type.FontStyle.normal);null==e&&(e=a.font.type.FontWeight.normal);this.set_face(c);this.set_size(b);this.set_style(d);this.set_weight(e)};f["nfuzion.font.BaseFont"]=a.font.BaseFont;a.font.BaseFont.__name__=["nfuzion","font","BaseFont"];a.font.BaseFont.__super__=
a.event.EventDispatcher;a.font.BaseFont.prototype=h(a.event.EventDispatcher.prototype,{weightChanged:function(){},set_weight:function(c){null==c&&(c=a.font.type.FontWeight.normal);this.weight!=c&&(this.weight=c,this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",this)),this.weightChanged());return this.weight},weight:null,styleChanged:function(){},set_style:function(c){null==c&&(c=a.font.type.FontStyle.normal);this.style!=c&&(this.style=c,this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",
this)),this.styleChanged());return this.style},style:null,sizeChanged:function(){},set_size:function(c){0<c&&this.size!=c&&(this.size=c,this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",this)),this.sizeChanged());return this.size},size:null,faceChanged:function(){},set_face:function(c){this.face!=c&&(this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",this)),this.face=c,this.faceChanged());return this.face},face:null,__class__:a.font.BaseFont,__properties__:{set_face:"set_face",
set_size:"set_size",set_style:"set_style",set_weight:"set_weight"}});a.font.IFontFace=function(){};f["nfuzion.font.IFontFace"]=a.font.IFontFace;a.font.IFontFace.__name__=["nfuzion","font","IFontFace"];a.font.IFontFace.__interfaces__=[a.event.IEventDispatcher];a.font.IFontFace.prototype={implementation:null,ready:null,path:null,name:null,__class__:a.font.IFontFace};a.font.BaseFontFace=function(c){a.event.EventDispatcher.call(this);if(s.endsWith(c,".ttf")){this.path=c;var b=c.lastIndexOf("/")+1;0>b&&
(b=0);this.name=r.substr(c,b,c.length-(b+4))}else g.Log.trace("ERROR: Invalid font filename: "+c,{fileName:"BaseFontFace.hx",lineNumber:23,className:"nfuzion.font.BaseFontFace",methodName:"new"})};f["nfuzion.font.BaseFontFace"]=a.font.BaseFontFace;a.font.BaseFontFace.__name__=["nfuzion","font","BaseFontFace"];a.font.BaseFontFace.__interfaces__=[a.font.IFontFace];a.font.BaseFontFace.__super__=a.event.EventDispatcher;a.font.BaseFontFace.prototype=h(a.event.EventDispatcher.prototype,{implementation:null,
ready:null,path:null,name:null,__class__:a.font.BaseFontFace});a.font.Font=function(c,b,d,e){null==b&&(b=10);null==a.font.Font.styleElement&&(a.font.Font.styleElement=q.Browser.document.createElement("style"),q.Browser.document.head.appendChild(a.font.Font.styleElement));this.cssName="font_"+a.utility.BaseCode32.encodeString(n.string(a.font.Font.fontCount));a.font.Font.fontCount++;var k=a.font.Font.styleElement.sheet;k.insertRule("."+this.cssName+"{}",0);this.implementation=k.rules.item(0).style;
a.font.BaseFont.call(this,c,b,d,e)};f["nfuzion.font.Font"]=a.font.Font;a.font.Font.__name__=["nfuzion","font","Font"];a.font.Font.__super__=a.font.BaseFont;a.font.Font.prototype=h(a.font.BaseFont.prototype,{weightChanged:function(){this.implementation.fontWeight=n.string(this.weight)},styleChanged:function(){this.implementation.fontStyle=n.string(this.style)},sizeChanged:function(){this.implementation.fontSize=n.string(this.size)+"px"},faceChanged:function(){this.implementation.fontFamily=this.face.name},
cssName:null,implementation:null,__class__:a.font.Font});a.font.FontFace=function(c){a.font.BaseFontFace.call(this,c);this.implementation=q.Browser.document.createElement("style");q.Browser.document.head.appendChild(this.implementation);this.implementation.innerHTML="@font-face{font-family: "+this.name+";src: url('"+c+"');}";this.ready=!0};f["nfuzion.font.FontFace"]=a.font.FontFace;a.font.FontFace.__name__=["nfuzion","font","FontFace"];a.font.FontFace.__super__=a.font.BaseFontFace;a.font.FontFace.prototype=
h(a.font.BaseFontFace.prototype,{__class__:a.font.FontFace});a.font.FontManager=function(){this.fonts=new g.ds.StringMap;this.fontFaces=new g.ds.StringMap};f["nfuzion.font.FontManager"]=a.font.FontManager;a.font.FontManager.__name__=["nfuzion","font","FontManager"];a.font.FontManager.prototype={get:function(c){var b=this.fonts.get(c);null==b&&(b=new a.font.Font,this.fonts.set(c,b));return b},set:function(c,b,d,e,k){var f=null;this.fontFaces.exists(b)?f=this.fontFaces.get(b):(f=new a.font.FontFace(b),
this.fontFaces.set(b,f));b=null;this.fonts.exists(c)?(b=this.fonts.get(c),b.set_face(f),b.set_size(d),b.set_style(e),b.set_weight(k)):(b=new a.font.Font(f,d,e,k),this.fonts.set(c,b))},fontFaces:null,fonts:null,__class__:a.font.FontManager};a.font.event={};a.font.event.FontEvent=function(c,b){a.event.Event.call(this,c);this.target=b};f["nfuzion.font.event.FontEvent"]=a.font.event.FontEvent;a.font.event.FontEvent.__name__=["nfuzion","font","event","FontEvent"];a.font.event.FontEvent.__super__=a.event.Event;
a.font.event.FontEvent.prototype=h(a.event.Event.prototype,{target:null,__class__:a.font.event.FontEvent});a.font.event.FontFaceEvent=function(c,b){a.event.Event.call(this,c);this.target=b};f["nfuzion.font.event.FontFaceEvent"]=a.font.event.FontFaceEvent;a.font.event.FontFaceEvent.__name__=["nfuzion","font","event","FontFaceEvent"];a.font.event.FontFaceEvent.__super__=a.event.Event;a.font.event.FontFaceEvent.prototype=h(a.event.Event.prototype,{target:null,__class__:a.font.event.FontFaceEvent});a.font.type=
{};a.font.type.FontStyle=f["nfuzion.font.type.FontStyle"]={__ename__:["nfuzion","font","type","FontStyle"],__constructs__:["normal","italic"]};a.font.type.FontStyle.normal=["normal",0];a.font.type.FontStyle.normal.toString=m;a.font.type.FontStyle.normal.__enum__=a.font.type.FontStyle;a.font.type.FontStyle.italic=["italic",1];a.font.type.FontStyle.italic.toString=m;a.font.type.FontStyle.italic.__enum__=a.font.type.FontStyle;a.font.type.FontWeight=f["nfuzion.font.type.FontWeight"]={__ename__:["nfuzion",
"font","type","FontWeight"],__constructs__:["normal","bold","bolder","lighter","light"]};a.font.type.FontWeight.normal=["normal",0];a.font.type.FontWeight.normal.toString=m;a.font.type.FontWeight.normal.__enum__=a.font.type.FontWeight;a.font.type.FontWeight.bold=["bold",1];a.font.type.FontWeight.bold.toString=m;a.font.type.FontWeight.bold.__enum__=a.font.type.FontWeight;a.font.type.FontWeight.bolder=["bolder",2];a.font.type.FontWeight.bolder.toString=m;a.font.type.FontWeight.bolder.__enum__=a.font.type.FontWeight;
a.font.type.FontWeight.lighter=["lighter",3];a.font.type.FontWeight.lighter.toString=m;a.font.type.FontWeight.lighter.__enum__=a.font.type.FontWeight;a.font.type.FontWeight.light=["light",4];a.font.type.FontWeight.light.toString=m;a.font.type.FontWeight.light.__enum__=a.font.type.FontWeight;a.geometry={};a.geometry.IBox=function(){};f["nfuzion.geometry.IBox"]=a.geometry.IBox;a.geometry.IBox.__name__=["nfuzion","geometry","IBox"];a.geometry.IBox.__interfaces__=[a.event.IEventDispatcher];a.geometry.IBox.prototype=
{cloneBox:null,copyFromBox:null,setSize:null,setPosition:null,setSquare:null,setBox:null,__class__:a.geometry.IBox};a.geometry.Box=function(c,b,d,e){a.event.EventDispatcher.call(this);this._x=c;this._y=b;this._width=d;this._height=e;this.xChanged();this.yChanged();this.widthChanged();this.heightChanged();this.positionChanged();this.sizeChanged();this.boxChanged()};f["nfuzion.geometry.Box"]=a.geometry.Box;a.geometry.Box.__name__=["nfuzion","geometry","Box"];a.geometry.Box.__interfaces__=[a.geometry.IBox];
a.geometry.Box.createBox=function(c,b,d,e){return new a.geometry.Box(c,b,b-c+1,e-d+1)};a.geometry.Box.__super__=a.event.EventDispatcher;a.geometry.Box.prototype=h(a.event.EventDispatcher.prototype,{cloneBox:function(){return new a.geometry.Box(this._x,this._y,this._width,this._height)},boxChanged:function(){this.dispatchEvent(new a.geometry.event.BoxEvent("change"))},sizeChanged:function(){this.dispatchEvent(new a.geometry.event.BoxEvent("changeSize"))},positionChanged:function(){this.dispatchEvent(new a.geometry.event.BoxEvent("changePosition"))},
heightChanged:function(){},widthChanged:function(){},yChanged:function(){},xChanged:function(){},cropWithBox:function(a){var b=this._x,d=this.get_right(),e=this._y,k=this.get_bottom();b<a._x&&(b=a._x);d>a.get_right()&&(d=a.get_right());e<a._y&&(e=a._y);k>a.get_bottom()&&(k=a.get_bottom());this.setBox(b,d,e,k)},unionWithBox:function(a){var b=this._x,d=this.get_right(),e=this._y,k=this.get_bottom();a._x<b&&(b=a._x);a.get_right()>d&&(d=a.get_right());a._y<e&&(e=a._y);a.get_bottom()>k&&(k=a.get_bottom());
this.setBox(b,d,e,k)},copyFromBox:function(a){this.setSquare(a._x,a._y,a._width,a._height)},set_height:function(a){this._height!=a&&(this._height=a,this.heightChanged(),this.boxChanged(),this.sizeChanged());return this._height},get_height:function(){return this._height},set_width:function(a){this._width!=a&&(this._width=a,this.widthChanged(),this.boxChanged(),this.sizeChanged());return this._width},get_width:function(){return this._width},set_y:function(a){this._y!=a&&(this._y=a,this.yChanged(),this.positionChanged(),
this.boxChanged());return this._y},get_y:function(){return this._y},set_x:function(a){this._x!=a&&(this._x=a,this.xChanged(),this.positionChanged(),this.boxChanged());return this._x},get_x:function(){return this._x},set_bottom:function(a){a!=this._y+this._height-1&&(this._height=a-this._y+1,this.heightChanged(),this.sizeChanged(),this.boxChanged());return a},get_bottom:function(){return this._y+this._height-1},set_top:function(a){this._y!=a&&(a=this._y-a,this._y-=a,this._height+=a,this.yChanged(),
this.heightChanged(),this.positionChanged(),this.sizeChanged(),this.boxChanged());return this._y},get_top:function(){return this._y},set_right:function(a){a!=this._x+this._width-1&&(this._width=a-this._x+1,this.widthChanged(),this.sizeChanged(),this.boxChanged());return a},get_right:function(){return this._x+this._width-1},set_left:function(a){this._x!=a&&(a=this._x-a,this._x-=a,this._width+=a,this.xChanged(),this.widthChanged(),this.positionChanged(),this.sizeChanged(),this.boxChanged());return this._x},
get_left:function(){return this._x},setSize:function(a,b){var d=this._width,e=this._height;this._width=a;this._height=b;var k=!1;d!=this._width&&(this.widthChanged(),k=!0);e!=this._height&&(this.heightChanged(),k=!0);k&&(this.sizeChanged(),this.boxChanged())},setPosition:function(a,b){var d=this._x,e=this._y;this._x=a;this._y=b;var k=!1;d!=this._x&&(this.xChanged(),k=!0);e!=this._y&&(this.yChanged(),k=!0);k&&(this.positionChanged(),this.boxChanged())},setSquare:function(a,b,d,e){var k=this._width,
f=this._height,g=this._x,h=this._y;this._x=a;this._y=b;this._width=d;this._height=e;d=b=a=!1;g!=this._x&&(this.xChanged(),d=a=!0);h!=this._y&&(this.yChanged(),d=a=!0);k!=this._width&&(this.widthChanged(),d=b=!0);f!=this._height&&(this.heightChanged(),d=b=!0);a&&this.positionChanged();b&&this.sizeChanged();d&&this.boxChanged()},setBox:function(a,b,d,e){var k=this._width,f=this._height,g=this._x,h=this._y;this._x=a;this._y=d;this._width=b-a+1;this._height=e-d+1;d=b=a=!1;g!=this._x&&(this.xChanged(),
d=a=!0);h!=this._y&&(this.yChanged(),d=a=!0);k!=this._width&&(this.widthChanged(),d=b=!0);f!=this._height&&(this.heightChanged(),d=b=!0);a&&this.positionChanged();b&&this.sizeChanged();d&&this.boxChanged()},_height:null,_width:null,_y:null,_x:null,changed:null,__class__:a.geometry.Box,__properties__:{set_left:"set_left",get_left:"get_left",set_right:"set_right",get_right:"get_right",set_top:"set_top",get_top:"get_top",set_bottom:"set_bottom",get_bottom:"get_bottom",set_x:"set_x",get_x:"get_x",set_y:"set_y",
get_y:"get_y",set_width:"set_width",get_width:"get_width",set_height:"set_height",get_height:"get_height"}});a.geometry.IRelativeBox=function(){};f["nfuzion.geometry.IRelativeBox"]=a.geometry.IRelativeBox;a.geometry.IRelativeBox.__name__=["nfuzion","geometry","IRelativeBox"];a.geometry.IRelativeBox.__interfaces__=[a.geometry.IBox];a.geometry.IRelativeBox.prototype={referenceBox:null,setRelativeBox:null,bottomIsRelative:null,topIsRelative:null,rightIsRelative:null,leftIsRelative:null,__class__:a.geometry.IRelativeBox};
a.geometry.Point=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};f["nfuzion.geometry.Point"]=a.geometry.Point;a.geometry.Point.__name__=["nfuzion","geometry","Point"];a.geometry.Point.prototype={toString:function(){return"("+n.string(this.x)+", "+n.string(this.y)+")"},divide:function(c){return new a.geometry.Point(this.x/c.x,this.y/c.y)},multiply:function(c){return new a.geometry.Point(this.x*c.x,this.y*c.y)},subtract:function(c){return new a.geometry.Point(this.x-c.x,this.y-c.y)},
add:function(c){return new a.geometry.Point(this.x+c.x,this.y+c.y)},equals:function(a){return this.x==a.x&&this.y==a.y?!0:!1},clone:function(){return new a.geometry.Point(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},length:null,y:null,x:null,__class__:a.geometry.Point,__properties__:{get_length:"get_length"}};a.geometry.RelativeBox=function(c,b,d,e){this.listeningToParent=this.bottomIsRelative=this.topIsRelative=this.rightIsRelative=
this.leftIsRelative=!1;a.geometry.Box.call(this,c,b,d,e)};f["nfuzion.geometry.RelativeBox"]=a.geometry.RelativeBox;a.geometry.RelativeBox.__name__=["nfuzion","geometry","RelativeBox"];a.geometry.RelativeBox.__interfaces__=[a.geometry.IRelativeBox];a.geometry.RelativeBox.__super__=a.geometry.Box;a.geometry.RelativeBox.prototype=h(a.geometry.Box.prototype,{onReferenceSizeChange:function(a){if(null!=this.referenceBox){a=this._x;var b=this.get_right(),d=this._y,e=this.get_bottom();this.leftIsRelative&&
(a=this.get_relativeLeft()*this.referenceBox.get_width());this.rightIsRelative&&(b=this.get_relativeRight()*this.referenceBox.get_width());this.topIsRelative&&(d=this.get_relativeTop()*this.referenceBox.get_height());this.bottomIsRelative&&(e=this.get_relativeBottom()*this.referenceBox.get_height());this.pauseRelativeBox=!0;this.setBox(a,b,d,e);this.pauseRelativeBox=!1}},updateRelativeBox:function(){(this.leftIsRelative||this.rightIsRelative||this.topIsRelative||this.bottomIsRelative)&&!this.listeningToParent&&
null!=this.referenceBox&&(this.listeningToParent=!0,this.referenceBox.addEventListener("changeSize",l(this,this.onReferenceSizeChange)),this.onReferenceSizeChange())},set_referenceBox:function(a){a!=this.referenceBox&&(null!=this.referenceBox&&(this.referenceBox.removeEventListener("changeSize",l(this,this.onReferenceSizeChange)),this.listeningToParent=!1),this.referenceBox=a,this.updateRelativeBox());return this.referenceBox},referenceBox:null,setRelativeBox:function(a,b,d,e){this.bottomIsRelative=
this.topIsRelative=this.rightIsRelative=this.leftIsRelative=!0;this.set_relativeLeft(a);this.set_relativeRight(b);this.set_relativeTop(d);this.set_relativeBottom(e);this.updateRelativeBox()},set_relativeY:function(a){this.set_relativeTop(a);return this.get_relativeTop()},get_relativeY:function(){return this.get_relativeTop()},set_relativeX:function(a){this.set_relativeLeft(a);return this.get_relativeLeft()},get_relativeX:function(){return this.get_relativeLeft()},set_relativeBottom:function(a){var b=
this.pauseRelativeBox;this.pauseRelativeBox=!0;null!=this.referenceBox&&this.set_bottom(this.referenceBox.get_height()*a);this.relativeBottom=a;this.pauseRelativeBox=b;this.bottomIsRelative=!0;this.updateRelativeBox();return this.get_relativeBottom()},get_relativeBottom:function(){return this.bottomIsRelative?this.relativeBottom:0==this.referenceBox.get_height()?0:this.get_bottom()/this.referenceBox.get_height()},relativeBottom:null,set_relativeTop:function(a){var b=this.pauseRelativeBox;this.pauseRelativeBox=
!0;null!=this.referenceBox&&this.set_top(this.referenceBox.get_height()*a);this.relativeTop=a;this.pauseRelativeBox=b;this.topIsRelative=!0;this.updateRelativeBox();return this.get_relativeTop()},get_relativeTop:function(){return this.topIsRelative?this.relativeTop:0==this.referenceBox.get_height()?0:this._y/this.referenceBox.get_height()},relativeTop:null,set_relativeRight:function(a){var b=this.pauseRelativeBox;this.pauseRelativeBox=!0;null!=this.referenceBox&&this.set_right(this.referenceBox.get_width()*
a);this.relativeRight=a;this.pauseRelativeBox=b;this.rightIsRelative=!0;this.updateRelativeBox();return this.get_relativeRight()},get_relativeRight:function(){return this.rightIsRelative?this.relativeRight:0==this.referenceBox.get_width()?0:this.get_right()/this.referenceBox.get_width()},relativeRight:null,set_relativeLeft:function(a){var b=this.pauseRelativeBox;this.pauseRelativeBox=!0;null!=this.referenceBox&&this.set_left(this.referenceBox.get_width()*a);this.relativeLeft=a;this.pauseRelativeBox=
b;this.leftIsRelative=!0;this.updateRelativeBox();return this.get_relativeLeft()},get_relativeLeft:function(){return this.leftIsRelative?this.relativeLeft:0==this.referenceBox.get_width()?0:this._x/this.referenceBox.get_width()},relativeLeft:null,setBox:function(c,b,d,e){this.pauseRelativeBox||(this.bottomIsRelative=this.topIsRelative=this.rightIsRelative=this.leftIsRelative=!1);a.geometry.Box.prototype.setBox.call(this,c,b,d,e)},set_bottom:function(c){this.pauseRelativeBox||(this.bottomIsRelative=
!1);return a.geometry.Box.prototype.set_bottom.call(this,c)},set_top:function(c){this.pauseRelativeBox||(this.topIsRelative=!1);return a.geometry.Box.prototype.set_top.call(this,c)},set_right:function(c){this.pauseRelativeBox||(this.rightIsRelative=!1);return a.geometry.Box.prototype.set_right.call(this,c)},set_left:function(c){this.pauseRelativeBox||(this.leftIsRelative=!1);return a.geometry.Box.prototype.set_left.call(this,c)},pauseRelativeBox:null,listeningToParent:null,bottomIsRelative:null,topIsRelative:null,
rightIsRelative:null,leftIsRelative:null,__class__:a.geometry.RelativeBox,__properties__:h(a.geometry.Box.prototype.__properties__,{set_relativeLeft:"set_relativeLeft",get_relativeLeft:"get_relativeLeft",set_relativeRight:"set_relativeRight",get_relativeRight:"get_relativeRight",set_relativeTop:"set_relativeTop",get_relativeTop:"get_relativeTop",set_relativeBottom:"set_relativeBottom",get_relativeBottom:"get_relativeBottom",set_relativeX:"set_relativeX",get_relativeX:"get_relativeX",set_relativeY:"set_relativeY",
get_relativeY:"get_relativeY",set_referenceBox:"set_referenceBox"})});a.geometry.event={};a.geometry.event.BoxEvent=function(c){a.event.Event.call(this,c)};f["nfuzion.geometry.event.BoxEvent"]=a.geometry.event.BoxEvent;a.geometry.event.BoxEvent.__name__=["nfuzion","geometry","event","BoxEvent"];a.geometry.event.BoxEvent.__super__=a.event.Event;a.geometry.event.BoxEvent.prototype=h(a.event.Event.prototype,{__class__:a.geometry.event.BoxEvent});a.relation={};a.relation.IChild=function(){};f["nfuzion.relation.IChild"]=
a.relation.IChild;a.relation.IChild.__name__=["nfuzion","relation","IChild"];a.relation.IChild.prototype={implementation:null,orphan:null,adopt:null,parent:null,__class__:a.relation.IChild};a.graphics={};a.graphics.IComponent=function(){};f["nfuzion.graphics.IComponent"]=a.graphics.IComponent;a.graphics.IComponent.__name__=["nfuzion","graphics","IComponent"];a.graphics.IComponent.__interfaces__=[a.relation.IChild,a.geometry.IBox];a.graphics.IComponent.prototype={canvas:null,layout:null,finalYScale:null,
finalXScale:null,yScale:null,xScale:null,guise:null,guises:null,defaultFrame:null,gotoDefault:null,"goto":null,currentFrame:null,frames:null,maskBox:null,maskFit:null,maskUrl:null,borderWidth:null,borderPaint:null,backgroundPaint:null,backgroundBox:null,backgroundFit:null,backgroundUrl:null,destroy:null,bubbleEvent:null,copy:null,clone:null,touchEnabled:null,screen:null,globalPosition:null,globalToLocal:null,localToGlobal:null,visible:null,alpha:null,removedFromStage:null,addedToStage:null,stage:null,
initialized:null,name:null,__class__:a.graphics.IComponent};a.graphics.BaseComponent=function(c,b){null==c&&(c="");this.canvas=null;this.xScale=this.yScale=1;this.defaultFrame=this.guise=null;this.alpha=1;this.desroyed=this.initialized=this.canvasCreated=!1;this.name=c;this.currentSketch=this.sketch=b;this.set_frames(new g.ds.StringMap);this.set_guises(new g.ds.StringMap);this.onStage=!1;this.create();if(null==this.implementation)throw"Failed to create implementation.";this.backgroundBox=new a.geometry.Box(0,
0,0,0);this.backgroundBox.addEventListener("change",l(this,this.backgroundBoxChanged));this.maskBox=new a.geometry.Box(0,0,0,0);this.maskBox.addEventListener("change",l(this,this.maskBoxChanged));a.geometry.Box.call(this,0,0,0,0);this.initialize()};f["nfuzion.graphics.BaseComponent"]=a.graphics.BaseComponent;a.graphics.BaseComponent.__name__=["nfuzion","graphics","BaseComponent"];a.graphics.BaseComponent.__interfaces__=[a.graphics.IComponent];a.graphics.BaseComponent.__super__=a.geometry.Box;a.graphics.BaseComponent.prototype=
h(a.geometry.Box.prototype,{createCanvas:function(){return null},get_canvas:function(){this.canvasCreated||(this.canvas=this.createCanvas());return this.canvas},canvas:null,get_finalYScale:function(){for(var a=this.parent,b=this.yScale;null!=a&&a!=this.get_stage();)b*=a.yScale,a=a.parent;return b},finalYScale:null,get_finalXScale:function(){for(var a=this.parent,b=this.xScale;null!=a&&a!=this.get_stage();)b*=a.xScale,a=a.parent;return b},finalXScale:null,set_layout:function(a){this.layout!=a&&(this.layout=
a,null!=this.layout&&this.layout.detach(),this.layout.attach(this)||g.Log.trace("Could not attach layout to component '"+this.get_fullName()+"'.",{fileName:"BaseComponent.hx",lineNumber:926,className:"nfuzion.graphics.BaseComponent",methodName:"set_layout"}));return this.layout},layout:null,yScaleChanged:function(){},set_yScale:function(a){this.yScale!=a&&(this.yScale=a,this.yScaleChanged());return this.yScale},yScale:null,xScaleChanged:function(){},set_xScale:function(a){this.xScale!=a&&(this.xScale=
a,this.xScaleChanged());return this.xScale},xScale:null,get_fullName:function(){return null!=this.parent?this.parent.get_fullName()+"."+this.name:this.name},fullName:null,updateGuise:function(){var c=this.sketch;null!=this.guise&&null!=this.guises&&this.guises.exists(this.guise)&&(c=this.guises.get(this.guise));c!=this.currentSketch&&null!=this.guises&&(this.currentSketch=c,a.nTactic.NTactic.builder.theme(this,this.currentSketch))},set_guise:function(a){a!=this.guise&&(this.guise=a,this.updateGuise());
return this.guise},guise:null,set_guises:function(a){this.guises!=a&&(this.guises=a,this.updateGuise());return this.guises},guises:null,set_frames:function(a){if(this.frames!=a){if(null!=a){if(null!=this.frames)for(var b=function(a){return function(){return a.iterator()}}(this.frames)();b.hasNext();){var d=b.next();this.removeImage(d.url)}this.frames=a;for(b=function(a){return function(){return a.iterator()}}(a)();b.hasNext();)d=b.next(),null==d.url&&g.Log.trace("frame null on '"+this.get_fullName()+
"'",{fileName:"BaseComponent.hx",lineNumber:769,className:"nfuzion.graphics.BaseComponent",methodName:"set_frames"}),this.addImage(d.url)}else this.frames=null;if(null!=this.currentFrame&&null!=a)this["goto"](this.currentFrame)}return this.frames},frames:null,maskFitChanged:function(){},set_maskFit:function(c){null==c&&(c=a.graphics.type.Fit.none);this.maskFit!=c&&(this.maskFit=c,this.maskFitChanged());return this.maskFit},maskFit:null,maskImageReady:function(a){null!=a&&a.target.removeEventListener("ImageEvent.ready",
l(this,this.maskImageReady))},maskUrlChanged:function(){},set_maskUrl:function(a){if(null==this.maskImage||a!=this.maskUrl)this.maskUrl=a,null!=this.maskImage&&this.removeImage(this.maskImage.url),null!=a&&(this.maskImage=this.addImage(a),this.maskUrlChanged(),null!=this.maskImage&&(this.maskImage.ready?this.maskImageReady():this.maskImage.addEventListener("ImageEvent.ready",l(this,this.maskImageReady))));return this.maskUrl},maskUrl:null,maskBoxChanged:function(a){},borderWidthChanged:function(){},
set_borderWidth:function(a){0>a&&(a=0);a!=this.borderWidth&&(this.borderWidth=a,this.borderWidthChanged());return this.borderWidth},borderWidth:null,borderPaintChanged:function(){},set_borderPaint:function(a){this.borderPaint!=a&&(this.disusePaint(this.borderPaint),this.borderPaint=a,this.usePaint(this.borderPaint),this.borderPaintChanged());return this.borderPaint},borderPaint:null,backgroundPaintChanged:function(){},set_backgroundPaint:function(a){this.backgroundPaint!=a&&(this.backgroundPaintChanged(),
this.disusePaint(this.backgroundPaint),this.backgroundPaint=a,this.usePaint(this.backgroundPaint),this.backgroundPaintChanged());return this.backgroundPaint},backgroundPaint:null,backgroundFitChanged:function(){},set_backgroundFit:function(c){null==c&&(c=a.graphics.type.Fit.none);this.backgroundFit!=c&&(this.backgroundFit=c,this.backgroundFitChanged());return this.backgroundFit},backgroundFit:null,backgroundImageReady:function(a){null!=a&&a.target.removeEventListener("ImageEvent.ready",l(this,this.backgroundImageReady))},
backgroundUrlChanged:function(){},set_backgroundUrl:function(a){this.currentFrame=null;if(null==this.backgroundImage||a!=this.backgroundUrl)this.backgroundUrl=a,this.backgroundUrlChanged(),null!=this.backgroundImage&&this.removeImage(this.backgroundImage.url),null!=a&&(this.backgroundImage=this.addImage(a),null!=this.backgroundImage&&(this.backgroundImage.ready?this.backgroundImageReady():this.backgroundImage.addEventListener("ImageEvent.ready",l(this,this.backgroundImageReady))));return this.backgroundUrl},
backgroundUrl:null,backgroundBoxChanged:function(a){},destroy:function(){this.desroyed=!0;this.canvasCreated&&this.get_canvas().destroy();this.backgroundBox.removeEventListener("change",l(this,this.backgroundBoxChanged));this.maskBox.removeEventListener("change",l(this,this.maskBoxChanged));null!=this.backgroundImage&&this.backgroundImage.removeEventListener("ImageEvent.ready",l(this,this.backgroundImageReady));null!=this.maskImage&&this.maskImage.removeEventListener("ImageEvent.ready",l(this,this.maskImageReady));
null!=this.parent&&(this.parent.removeChild(this),this.parent=null);this.eventTypes=null;this.set_screen(null);this.implementation=this.maskBox=null;this.set_frames(null);this.set_guises(null)},onPaintChange:function(a){a=a.target;a==this.backgroundPaint&&this.set_backgroundPaint(this.backgroundPaint);a==this.borderPaint&&this.set_borderPaint(this.borderPaint)},disusePaint:function(a){null!=a&&a.removeEventListener("PaintEvent.change",l(this,this.onPaintChange))},usePaint:function(a){null!=a&&a.addEventListener("PaintEvent.change",
l(this,this.onPaintChange))},disusePaints:function(){this.disusePaint(this.borderPaint);this.disusePaint(this.backgroundPaint)},usePaints:function(){this.usePaint(this.borderPaint);this.usePaint(this.backgroundPaint)},bubbleEvent:function(a){var b=this;do b.touchEnabled&&b.dispatchEvent(a),b=b.parent;while(a.bubbles&&!a.stop&&!a.stopNow&&null!=b)},copy:function(a){this.copyFromBox(a);this.sketch=a.sketch;this.set_guises(a.guises);this.set_guise(a.guise);this.set_alpha(a.alpha);this.set_visible(a.visible);
this.set_imposeTouchDisabled(a.imposeTouchDisabled);this.set_borderPaint(a.borderPaint);this.set_borderWidth(a.borderWidth);this.maskBox.copyFromBox(a.maskBox);this.set_maskFit(a.maskFit);this.set_maskUrl(a.maskUrl);this.set_frames(a.frames);this.set_defaultFrame(a.defaultFrame);this.set_backgroundPaint(a.backgroundPaint);if(null==a.currentFrame)this.backgroundBox.copyFromBox(a.backgroundBox),this.set_backgroundUrl(a.backgroundUrl),this.set_backgroundFit(a.backgroundFit);else this["goto"](a.currentFrame)},
clone:function(){g.Log.trace("ERROR: Cannot clone BaseComponent.",{fileName:"BaseComponent.hx",lineNumber:405,className:"nfuzion.graphics.BaseComponent",methodName:"clone"});return null},imposeTouchDisabledChanged:function(){},set_imposeTouchDisabled:function(a){a!=this.imposeTouchDisabled&&(this.imposeTouchDisabled=a,this.imposeTouchDisabledChanged());return this.imposeTouchDisabled},imposeTouchDisabled:null,touchEnabledChanged:function(){},set_touchEnabled:function(a){a!=this.touchEnabled&&(this.touchEnabled=
a,this.touchEnabledChanged());return this.touchEnabled},touchEnabled:null,set_defaultFrame:function(a){null==a||this.frames.exists(a)||(g.Log.trace("WARNING: Attempted to set a default frame that doesn't exist",{fileName:"BaseComponent.hx",lineNumber:353,className:"nfuzion.graphics.BaseComponent",methodName:"set_defaultFrame"}),a=null);return this.defaultFrame=a},defaultFrame:null,gotoDefault:function(){this["goto"](this.defaultFrame)},"goto":function(a){var b=!1,d=null;if(null==a)this.set_backgroundUrl(null),
b=!0;else{var e=this.frames.get(a);null!=e?(d=a,this.set_backgroundUrl(e.url),this.backgroundBox.copyFromBox(e),this.set_backgroundFit(e.fit),b=!0):this.set_backgroundUrl(null)}this.currentFrame=d;return b},removedFromScreen:function(){null!=this.backgroundUrl&&this.removeImage(this.backgroundUrl)},addedToScreen:function(){if(null!=this.backgroundUrl){var a=this.currentFrame;this.set_backgroundUrl(this.backgroundUrl);this.currentFrame=a}null!=this.maskUrl&&this.set_maskUrl(this.maskUrl)},set_screen:function(a){a!=
this.screen&&(null!=this.screen&&this.removedFromScreen(),this.screen=a,null!=this.screen&&this.addedToScreen());return this.screen},screen:null,getImage:function(a){return null!=this.screen?this.screen.getImage(a):null},removeImage:function(a){null!=this.screen&&this.screen.removeImage(a)},addImage:function(a){return null!=this.screen&&null!=a?this.screen.addImage(a):null},get_globalPosition:function(){var c=new a.geometry.Point;if(this!=this.get_stage()){var b=this;do c.x+=b._x,c.y+=b._y,b=b.parent;
while(b!=this.get_stage()&&null!=b)}return c},globalPosition:null,globalToLocal:function(c){return c.clone().divide(new a.geometry.Point(this.get_finalXScale(),this.get_finalYScale())).subtract(this.get_globalPosition())},localToGlobal:function(c){return this.get_globalPosition().add(c).multiply(new a.geometry.Point(this.get_finalXScale(),this.get_finalYScale()))},visibleChanged:function(){},set_visible:function(a){a!=this.visible&&(this.visible=a,this.visibleChanged());return a},visible:null,alphaChanged:function(){},
set_alpha:function(a){0>a&&(a=0);1<a&&(a=1);this.alpha=a;this.alphaChanged();return a},alpha:null,create:function(){},initialize:function(){this.set_visible(!0);this.set_backgroundFit(a.graphics.type.Fit.none);this.set_borderPaint(null);this.set_borderWidth(0);this.set_maskFit(a.graphics.type.Fit.none);this.set_touchEnabled(!1);this.set_imposeTouchDisabled(!1);this.set_maskFit(a.graphics.type.Fit.none);this.initialized=!0},removedFromStage:function(){null==this.get_stage()&&this.onStage&&(this.onStage=
!1,this.dispatchEvent(new a.graphics.event.ComponentEvent("removedFromStage",this)),this.disusePaints())},addedToStage:function(){null==this.get_stage()||this.onStage||(this.onStage=!0,this.dispatchEvent(new a.graphics.event.ComponentEvent("addedToStage",this)));this.usePaints()},get_stage:function(){return null!=this.parent?this.parent.get_stage():null},stage:null,orphan:function(){this.dispatchEvent(new a.graphics.event.ComponentEvent("orphaning",this));this.parent=null;this.removedFromStage();
this.set_screen(null)},adopt:function(c){if(null!=this.parent){var b=this.parent;this.orphan();b.removeChild(this)}this.parent=c;this.set_screen(c.screen);this.addedToStage();this.dispatchEvent(new a.graphics.event.ComponentEvent("adopted",this))},canvasCreated:null,desroyed:null,maskImage:null,backgroundImage:null,onStage:null,currentSketch:null,sketch:null,maskBox:null,backgroundBox:null,initialized:null,parent:null,name:null,currentFrame:null,implementation:null,__class__:a.graphics.BaseComponent,
__properties__:h(a.geometry.Box.prototype.__properties__,{get_stage:"get_stage",set_alpha:"set_alpha",set_visible:"set_visible",get_globalPosition:"get_globalPosition",set_screen:"set_screen",set_defaultFrame:"set_defaultFrame",set_touchEnabled:"set_touchEnabled",set_imposeTouchDisabled:"set_imposeTouchDisabled",set_backgroundUrl:"set_backgroundUrl",set_backgroundFit:"set_backgroundFit",set_backgroundPaint:"set_backgroundPaint",set_borderPaint:"set_borderPaint",set_borderWidth:"set_borderWidth",set_maskUrl:"set_maskUrl",
set_maskFit:"set_maskFit",set_frames:"set_frames",set_guises:"set_guises",set_guise:"set_guise",get_fullName:"get_fullName",set_xScale:"set_xScale",set_yScale:"set_yScale",set_layout:"set_layout",get_finalXScale:"get_finalXScale",get_finalYScale:"get_finalYScale",get_canvas:"get_canvas"})});a.graphics.Component=function(c,b){null==c&&(c="");this.vFlipped=this.hFlipped=!1;this.borderDiv=this.backgroundDiv=null;a.graphics.BaseComponent.call(this,c,b)};f["nfuzion.graphics.Component"]=a.graphics.Component;
a.graphics.Component.__name__=["nfuzion","graphics","Component"];a.graphics.Component.__super__=a.graphics.BaseComponent;a.graphics.Component.prototype=h(a.graphics.BaseComponent.prototype,{yScaleChanged:function(){this.yChanged()},xScaleChanged:function(){this.xChanged()},updateMask:function(a){if(this.initialized&&null!=this.maskImage&&this.maskImage.ready)switch(this.maskFit[1]){case 0:this.implementation.style.webkitMaskBoxImage=null;this.implementation.style.webkitMaskImage="url("+this.maskUrl+
")";this.implementation.style.webkitMaskPosition=n.string(-1*this.maskBox._x)+"px -"+n.string(this.maskBox._y)+"px";break;case 2:throw"Not implemented.";case 1:throw"Not implemented.";case 3:this.implementation.style.webkitMaskBoxImage="url("+this.maskUrl+") stretch";break;case 4:throw"Not implemented.";case 6:throw"Not implemented.";case 5:throw"Not implemented.";case 7:throw"Not implemented.";case 8:throw"Not implemented.";}},maskImageReady:function(c){a.graphics.BaseComponent.prototype.maskImageReady.call(this,
c);this.updateMask()},maskFitChanged:function(){this.updateMask()},maskBoxChanged:function(a){this.updateMask()},updateBackground:function(a){if(this.initialized&&null!=this.implementation&&null!=this.backgroundDiv&&(null==this.backgroundUrl||null!=this.backgroundImage&&this.backgroundImage.ready)&&null!=this.backgroundImage)switch(this.backgroundFit[1]){case 0:this.backgroundDiv.style.backgroundImage="url('"+this.backgroundUrl+"')";this.backgroundDiv.style.backgroundSize=null;this.backgroundDiv.style.backgroundPosition=
n.string(-1*this.backgroundBox._x)+"px -"+n.string(this.backgroundBox._y)+"px";this.backgroundDiv.style.webkitTransform=null;break;case 2:throw"Not implemented.";case 1:this.backgroundDiv.style.backgroundImage="url('"+this.backgroundUrl+"')";this.backgroundDiv.style.backgroundSize="cover";this.backgroundDiv.style.backgroundPosition="center";this.backgroundDiv.style.webkitTransform=null;break;case 3:throw"Not implemented.";case 4:throw"Not implemented.";case 6:throw"Not implemented.";case 5:throw"Not implemented.";
case 7:this.backgroundDiv.style.backgroundImage="url('"+this.backgroundUrl+"')";this.backgroundDiv.style.backgroundSize=null;this.backgroundDiv.style.backgroundPosition=n.string(-1*this.backgroundBox._x)+"px -"+n.string(this.backgroundBox._y)+"px";a=Math.abs(this._width)/this.backgroundBox._width;var b=Math.abs(this._height)/this.backgroundBox._height;this.backgroundDiv.style.width=n.string(Math.round(this._width/a))+"px";this.backgroundDiv.style.height=n.string(Math.round(this._height/b))+"px";this.backgroundDiv.style.webkitTransform=
"scale("+n.string(a)+", "+n.string(b)+")";this.backgroundDiv.style.webkitTransformOrigin="0% 0%";break;case 8:throw"Not implemented.";}},updateBorder:function(){null!=this.borderDiv&&(this.borderDiv.style.width=n.string(Math.round(Math.abs(this._width)-2*this.borderWidth))+"px",this.borderDiv.style.height=n.string(Math.round(Math.abs(this._height)-2*this.borderWidth))+"px",this.borderDiv.style.border=null!=this.borderPaint&&0<this.borderWidth?this.borderWidth+"px solid #"+a.utility.ColorTools.toString(this.borderPaint.color):
null)},borderWidthChanged:function(){0<this.borderWidth&&null==this.borderDiv&&(this.borderDiv=q.Browser.document.createElement("div"),this.borderDiv.style.left="0px",this.borderDiv.style.top="0px",null!=this.implementation.firstChild?this.implementation.insertBefore(this.borderDiv,this.implementation.firstChild):this.implementation.appendChild(this.borderDiv));null!=this.borderPaint&&this.updateBorder()},borderPaintChanged:function(){0<this.borderWidth&&this.updateBorder()},backgroundPaintChanged:function(){this.implementation.style.backgroundColor=
null!=this.backgroundPaint?"#"+a.utility.ColorTools.toString(this.backgroundPaint.color):null},backgroundFitChanged:function(){this.updateBackground()},backgroundImageReady:function(c){a.graphics.BaseComponent.prototype.backgroundImageReady.call(this,c);this.updateBackground()},backgroundUrlChanged:function(){null==this.backgroundDiv&&null!=this.backgroundUrl&&(this.backgroundDiv=q.Browser.document.createElement("div"),this.backgroundDiv.style.left="0px",this.backgroundDiv.style.top="0px",this.backgroundDiv.style.width=
"100%",this.backgroundDiv.style.height="100%",null!=this.implementation.firstChild?this.implementation.insertBefore(this.backgroundDiv,this.implementation.firstChild):this.implementation.appendChild(this.backgroundDiv))},backgroundBoxChanged:function(a){this.updateBackground()},visibleChanged:function(){this.implementation.style.display=this.visible?"block":"none"},destroy:function(){a.graphics.BaseComponent.prototype.destroy.call(this);this.implementation=this.implementation.component=null},clone:function(){var c=
new a.graphics.Component(this.name);c.copy(this);return c},updateTouchEnabled:function(){null!=this.implementation&&(this.implementation.style.pointerEvents=this.touchEnabled&&!this.imposeTouchDisabled?"auto":null)},imposeTouchDisabledChanged:function(){this.updateTouchEnabled()},touchEnabledChanged:function(){this.updateTouchEnabled()},alphaChanged:function(){this.implementation.style.opacity=n.string(this.alpha)},updateTransform:function(){var a;a=""+("translate3d("+this.xTransform+"px,"+this.yTransform+
"px,0) ");1!=this.xScale&&(a+="scaleX("+this.xScale+") ");1!=this.yScale&&(a+="scaleY("+this.yScale+") ");0>this._width&&(a+="rotateY(180deg) ");0>this._height&&(a+="rotateX(180deg) ");this.implementation.style.webkitTransform=a},positionChanged:function(){this.updateTransform();a.graphics.BaseComponent.prototype.positionChanged.call(this)},heightChanged:function(){a.graphics.BaseComponent.prototype.heightChanged.call(this);0<=this._height?(this.vFlipped&&(this.vFlipped=!1,this.yChanged(),this.updateTransform()),
this.implementation.style.height=n.string(Math.round(this._height))+"px"):(this.yChanged(),this.vFlipped||(this.vFlipped=!0),this.updateTransform(),this.implementation.style.height=n.string(Math.round(-this._height))+"px");0<this.borderWidth&&null!=this.borderPaint&&this.updateBorder();null!=this.backgroundImage&&this.updateBackground()},yChanged:function(){a.graphics.BaseComponent.prototype.yChanged.call(this);this.yTransform=this.vFlipped?n.string(this._y+this._height+this._height*(1-this.yScale)/
2):n.string(this._y-this._height*(1-this.yScale)/2)},widthChanged:function(){a.graphics.BaseComponent.prototype.widthChanged.call(this);0<=this._width?(this.hFlipped&&(this.hFlipped=!1,this.xChanged(),this.updateTransform()),this.implementation.style.width=n.string(Math.round(this._width))+"px"):(this.xChanged(),this.hFlipped||(this.hFlipped=!0),this.updateTransform(),this.implementation.style.width=n.string(Math.round(-this._width))+"px");0<this.borderWidth&&null!=this.borderPaint&&this.updateBorder();
null!=this.backgroundImage&&this.updateBackground()},xChanged:function(){a.graphics.BaseComponent.prototype.xChanged.call(this);this.xTransform=this.hFlipped?n.string(this._x+this._width*this.xScale):n.string(this._x-this._width*(1-this.xScale)/2)},create:function(){this.implementation=q.Browser.document.createElement("div");this.updateTouchEnabled();this.implementation.component=this},removedFromStage:function(){a.graphics.BaseComponent.prototype.removedFromStage.call(this);null==this.get_stage()&&
this.onStage&&(this.implementation.removeEventListener("touchenter",l(this,this.onTouchEnter),!1),this.implementation.removeEventListener("touchleave",l(this,this.onTouchLeave),!1))},addedToStage:function(){a.graphics.BaseComponent.prototype.addedToStage.call(this);this.implementation.addEventListener("touchleave",l(this,this.onTouchLeave),!1);this.implementation.addEventListener("touchenter",l(this,this.onTouchEnter),!1)},onTouchLeave:function(c){c.stopPropagation();c.preventDefault();for(var b=
0,d=c.changedTouches.length;b<d;){var e=b++,e=c.changedTouches.item(e);this.dispatchEvent(new a.graphics.event.TouchEvent("out",this,e.identifier,new a.geometry.Point(e.clientX,e.clientY)))}return!1},onTouchEnter:function(c){c.stopPropagation();c.preventDefault();for(var b=0,d=c.changedTouches.length;b<d;){var e=b++,e=c.changedTouches.item(e);this.dispatchEvent(new a.graphics.event.TouchEvent("over",this,e.identifier,new a.geometry.Point(e.clientX,e.clientY)))}return!1},yTransform:null,xTransform:null,
vFlipped:null,hFlipped:null,backgroundDiv:null,borderDiv:null,__class__:a.graphics.Component});a.relation.IParent=function(){};f["nfuzion.relation.IParent"]=a.relation.IParent;a.relation.IParent.__name__=["nfuzion","relation","IParent"];a.relation.IParent.prototype={removeChildAt:null,removeChild:null,insertChildAfter:null,insertChild:null,appendChild:null,getChildIndex:null,getChildAt:null,getChild:null,childCount:null,__class__:a.relation.IParent};a.graphics.IContainer=function(){};f["nfuzion.graphics.IContainer"]=
a.graphics.IContainer;a.graphics.IContainer.__name__=["nfuzion","graphics","IContainer"];a.graphics.IContainer.__interfaces__=[a.relation.IParent,a.graphics.IComponent];a.graphics.IContainer.prototype={forceTouchChildrenDisabled:null,childCount:null,getChildIndex:null,getChild:null,getChildAt:null,removeChildAt:null,removeChild:null,insertChildAfter:null,insertChild:null,appendChild:null,children:null,__class__:a.graphics.IContainer};a.graphics.Container=function(c,b){a.graphics.Component.call(this,
c,b)};f["nfuzion.graphics.Container"]=a.graphics.Container;a.graphics.Container.__name__=["nfuzion","graphics","Container"];a.graphics.Container.__interfaces__=[a.graphics.IContainer];a.graphics.Container.__super__=a.graphics.Component;a.graphics.Container.prototype=h(a.graphics.Component.prototype,{set_screen:function(c){for(var b=0,d=this.children;b<d.length;){var e=d[b];++b;e.set_screen(c)}return a.graphics.Component.prototype.set_screen.call(this,c)},destroy:function(){for(;0<this.children.length;){var c=
this.children.pop();this.removeChild(c);c.orphan();c.destroy()}a.graphics.Component.prototype.destroy.call(this)},copy:function(c){a.graphics.Component.prototype.copy.call(this,c);if(!q.Boot.__instanceof(c,a.graphics.Container))throw"ERROR: Source component is not an instance of Container.";for(var b=0,d=c.children;b<d.length;){var e=d[b];++b;e=e.clone();this.appendChild(e)}this.set_forceTouchChildrenDisabled(c.forceTouchChildrenDisabled)},clone:function(){var c=new a.graphics.Container(this.name);
c.copy(this);return c},set_forceTouchChildrenDisabled:function(a){this.forceTouchChildrenDisabled=a;for(var b=0,d=this.children;b<d.length;){var e=d[b];++b;e.set_imposeTouchDisabled(a)}return a},forceTouchChildrenDisabled:null,get_childCount:function(){return this.children.length},childCount:null,getChildIndex:function(a){for(var b=0,d=this.get_childCount();b<d;){var e=b++;if(this.children[e]==a)return e}return-1},getChild:function(a){for(var b=0,d=this.children;b<d.length;){var e=d[b];++b;if(e.name==
a)return e}return null},getChildAt:function(a){return 0<=a&&a<this.children.length?this.children[a]:null},removeChildAt:function(a){return 0<=a&&a<this.children.length?this.removeChild(this.children[a]):!1},removedFromStage:function(){a.graphics.Component.prototype.removedFromStage.call(this);for(var c=0,b=this.children;c<b.length;){var d=b[c];++c;d.removedFromStage()}},addedToStage:function(){a.graphics.Component.prototype.addedToStage.call(this);for(var c=0,b=this.children;c<b.length;){var d=b[c];
++c;d.addedToStage()}},removeChild:function(a){var b=r.remove(this.children,a);b&&(this.implementation.removeChild(a.implementation),a.orphan());return b},insertChildAfter:function(a,b){var d=this.getChildIndex(b);return 0<=d?(this.insertChild(a,d+1),!0):!1},insertChild:function(a,b){null==b&&(b=0);if(0==this.get_childCount()||b>=this.get_childCount())return this.appendChild(a);0>=b&&(b=0);a.adopt(this);var d=this.getChildAt(b);if(null==d)return!1;this.implementation.insertBefore(a.implementation,
d.implementation);this.children.splice(b,0,a);return!0},appendChild:function(a){if(null==a)return!1;a.adopt(this);this.implementation.appendChild(a.implementation);this.children.push(a);return!0},initialize:function(){a.graphics.Component.prototype.initialize.call(this);this.children=[];this.set_forceTouchChildrenDisabled(!1)},children:null,__class__:a.graphics.Container,__properties__:h(a.graphics.Component.prototype.__properties__,{get_childCount:"get_childCount",set_forceTouchChildrenDisabled:"set_forceTouchChildrenDisabled"})});
a.graphics.ICanvas=function(){};f["nfuzion.graphics.ICanvas"]=a.graphics.ICanvas;a.graphics.ICanvas.__name__=["nfuzion","graphics","ICanvas"];a.graphics.ICanvas.prototype={destroy:null,lineTo:null,moveTo:null,lineAlpha:null,linePaint:null,lineThickness:null,clear:null,component:null,__class__:a.graphics.ICanvas};a.graphics.IStage=function(){};f["nfuzion.graphics.IStage"]=a.graphics.IStage;a.graphics.IStage.__name__=["nfuzion","graphics","IStage"];a.graphics.IStage.__interfaces__=[a.graphics.IContainer];
a.graphics.IStage.prototype={touchActive:null,maxFrameRate:null,__class__:a.graphics.IStage};a.graphics.IText=function(){};f["nfuzion.graphics.IText"]=a.graphics.IText;a.graphics.IText.__name__=["nfuzion","graphics","IText"];a.graphics.IText.__interfaces__=[a.graphics.IComponent];a.graphics.IText.prototype={manualText:null,selectable:null,editable:null,wrap:null,font:null,paint:null,__class__:a.graphics.IText};a.graphics.Stage=function(c,b,d){this.animating=this.frameRequested=!1;a.graphics.Container.call(this,
"stage");this.set_visible(!1);this.set_touchEnabled(!0);var e=q.Browser.document.createElement("style");e.type="text/css";q.Browser.document.head.appendChild(e);e.innerHTML="div{white-space: nowrap;text-overflow: ellipsis;top: 0px;left: 0px;width: 0px;height: 0px;-webkit-transform: translate3d(0,0,0);-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;position: absolute;vertical-align: text-bottom;cursor: default;overflow: hidden;pointer-events: none;}";
this.bodyCss=q.Browser.document.createElement("style");this.bodyCss.type="text/css";q.Browser.document.head.appendChild(this.bodyCss);this.touchActive=!1;this.set_width(c);this.set_height(b);this.set_backgroundPaint(d);this.requestAnimationFrame=l(this,this.requestAnimationFrameFallback);null!=(I=q.Browser.window,l(I,I.requestAnimationFrame))?this.requestAnimationFrame=(I=q.Browser.window,l(I,I.requestAnimationFrame)):null!=window.webkitRequestAnimationFrame?this.requestAnimationFrame=l(this,this.webkitRequestAnimationFrame):
null!=window.mozRequestAnimationFrame&&(this.requestAnimationFrame=window.mozRequestAnimationFrame)};f["nfuzion.graphics.Stage"]=a.graphics.Stage;a.graphics.Stage.__name__=["nfuzion","graphics","Stage"];a.graphics.Stage.__interfaces__=[a.graphics.IStage];a.graphics.Stage.__super__=a.graphics.Container;a.graphics.Stage.prototype=h(a.graphics.Container.prototype,{set_visible:function(c){q.Browser.document.body.appendChild(this.implementation);return a.graphics.Container.prototype.set_visible.call(this,
c)},set_backgroundPaint:function(c){c=a.graphics.Container.prototype.set_backgroundPaint.call(this,c);this.bodyCss.innerHTML="html, body{background-color:#"+a.utility.ColorTools.toString(c.color)+";}";return c},copy:function(a){throw"Illegal operation: Cannot copy Stage.";},clone:function(){return null},onAnimationFrame:function(c){this.frameRequested=!1;this.dispatchEvent(new a.graphics.event.StageEvent("paint",this));this.animating&&this.requestFrame();return!0},onFrameDelay:function(){this.onAnimationFrame()},
requestAnimationFrameFallback:function(c){this.frameDelay=new a.timer.Delay(l(this,this.onFrameDelay),1/30);return 0},webkitRequestAnimationFrame:function(a){return window.webkitRequestAnimationFrame(a)},requestFrame:function(){this.frameRequested||(this.frameRequested=!0,this.requestAnimationFrame(l(this,this.onAnimationFrame)))},removeEventListener:function(c,b,d){null==d&&(d=0);a.graphics.Container.prototype.removeEventListener.call(this,c,b,d);"paint"!=c||this.hasEventListener("paint")||(this.animating=
!1)},addEventListener:function(c,b,d){null==d&&(d=0);a.graphics.Container.prototype.addEventListener.call(this,c,b,d);"paint"!=c||this.animating||(this.animating=!0,this.requestFrame())},get_stage:function(){return a.nTactic.NTactic.stage},getComponent:function(a){if(null==a)return null;var b=null;do b=a.component,null==b&&(a=q.Boot.__instanceof(a.parentNode,HTMLDivElement)?a.parentNode:null);while(null!=a&&null==b);if(null!=b)for(;!b.touchEnabled&&b!=this.get_stage();)b=b.parent;return b},onMouseUp:function(c){if(!this.touchActive&&
0==c.button){q.Browser.document.onmousemove=null;this.implementation.onmouseover=null;var b=this.implementation.onmouseout=null;q.Boot.__instanceof(c.target,HTMLDivElement)&&(b=this.getComponent(c.target));null==b&&(b=this);b.bubbleEvent(new a.graphics.event.TouchEvent("end",b,-1,new a.geometry.Point(c.clientX,c.clientY)))}},onMouseOut:function(c){if(!this.touchActive&&0==c.button){var b=null;q.Boot.__instanceof(c.target,HTMLDivElement)&&(b=this.getComponent(c.target));null==b&&(b=this);b.dispatchEvent(new a.graphics.event.TouchEvent("out",
b,-1,new a.geometry.Point(c.clientX,c.clientY)))}},onMouseMove:function(c){if(!this.touchActive){var b=null;q.Boot.__instanceof(c.target,HTMLDivElement)&&(b=this.getComponent(c.target));null==b&&(b=this);b.bubbleEvent(new a.graphics.event.TouchEvent("move",b,-1,new a.geometry.Point(c.clientX,c.clientY)))}},onMouseOver:function(c){if(!this.touchActive&&0==c.button){var b=null;q.Boot.__instanceof(c.target,HTMLDivElement)&&(b=this.getComponent(c.target));null==b&&(b=this);b.dispatchEvent(new a.graphics.event.TouchEvent("over",
b,-1,new a.geometry.Point(c.clientX,c.clientY)))}},onMouseDown:function(c){if(!this.touchActive&&0==c.button){q.Browser.document.onmousemove=l(this,this.onMouseMove);this.implementation.onmouseover=l(this,this.onMouseOver);this.implementation.onmouseout=l(this,this.onMouseOut);var b=null;q.Boot.__instanceof(c.target,HTMLDivElement)&&(b=this.getComponent(c.target));null==b&&(b=this);b.bubbleEvent(new a.graphics.event.TouchEvent("begin",b,-1,new a.geometry.Point(c.clientX,c.clientY)))}},onTouchEnd:function(c){0>=
c.touches.length&&(this.touchActive=!1);c.stopPropagation();c.preventDefault();for(var b=0,d=c.changedTouches.length;b<d;){var e=b++,e=c.changedTouches.item(e),k=new a.geometry.Point(e.clientX,e.clientY),f=q.Browser.document.elementFromPoint(e.clientX,e.clientY),f=this.getComponent(f);null==f&&(f=this);f.bubbleEvent(new a.graphics.event.TouchEvent("end",f,e.identifier,k))}return!1},onTouchCancel:function(a){return this.onTouchEnd(a)},onTouchMove:function(c){c.stopPropagation();c.preventDefault();
for(var b=0,d=c.changedTouches.length;b<d;){var e=b++,e=c.changedTouches.item(e),k=new a.geometry.Point(e.clientX,e.clientY),f=this.getComponent(c.target);null==f&&(f=this);f.bubbleEvent(new a.graphics.event.TouchEvent("move",f,e.identifier,k))}return!1},onTouchStart:function(c){this.touchActive=!0;c.stopPropagation();c.preventDefault();for(var b=0,d=c.changedTouches.length;b<d;){var e=b++,e=c.changedTouches.item(e),k=new a.geometry.Point(e.clientX,e.clientY),f=q.Browser.document.elementFromPoint(e.clientX,
e.clientY),f=this.getComponent(f);null==f&&(f=this);f.bubbleEvent(new a.graphics.event.TouchEvent("begin",f,e.identifier,k))}return!1},initialize:function(){this.implementation.addEventListener("touchstart",l(this,this.onTouchStart),!1);this.implementation.addEventListener("touchmove",l(this,this.onTouchMove),!1);this.implementation.addEventListener("touchend",l(this,this.onTouchEnd),!1);this.implementation.addEventListener("touchcancel",l(this,this.onTouchCancel),!1);this.implementation.onmousedown=
l(this,this.onMouseDown);q.Browser.document.onmouseup=l(this,this.onMouseUp);a.graphics.Container.prototype.initialize.call(this)},frameRequested:null,animating:null,requestAnimationFrame:null,touchActive:null,maxFrameRate:null,bodyCss:null,frameDelay:null,__class__:a.graphics.Stage});a.graphics.Text=function(c,b){null==c&&(c="");this.wrap=this.editable=this.selectable=!1;this.textNode=q.Browser.document.createTextNode("");a.graphics.Component.call(this,c,b);this.implementation.appendChild(this.textNode)};
f["nfuzion.graphics.Text"]=a.graphics.Text;a.graphics.Text.__name__=["nfuzion","graphics","Text"];a.graphics.Text.__interfaces__=[a.graphics.IText];a.graphics.Text.__super__=a.graphics.Component;a.graphics.Text.prototype=h(a.graphics.Component.prototype,{set_selectable:function(a){return this.selectable=a},selectable:null,set_editable:function(a){return this.editable=a},editable:null,destroy:function(){a.graphics.Component.prototype.destroy.call(this)},onPaintChange:function(c){a.graphics.Component.prototype.onPaintChange.call(this,
c);c.target==this.paint&&this.set_paint(this.paint)},disusePaints:function(){a.graphics.Component.prototype.disusePaints.call(this);this.disusePaint(this.paint)},usePaints:function(){a.graphics.Component.prototype.usePaints.call(this);this.usePaint(this.paint)},copy:function(c){a.graphics.Component.prototype.copy.call(this,c);if(!q.Boot.__instanceof(c,a.graphics.Text))throw"ERROR: Source component is not an instance of Text.";this.set_alignment(c.alignment);this.set_text(c.get_text());this.set_paint(c.paint);
this.set_font(c.font)},clone:function(){var c=new a.graphics.Text(this.name);c.copy(this);return c},set_wrap:function(a){a!=this.wrap&&(this.wrap=a,this.implementation.style.whiteSpace=a?"normal":"nowrap");return this.wrap},wrap:null,set_font:function(a){null!=a?(this.font=a,this.implementation.className=a.cssName):g.Log.trace("ERROR: Cannot set font to null.",{fileName:"Text.hx",lineNumber:132,className:"nfuzion.graphics.Text",methodName:"set_font"});return this.font},font:null,set_paint:function(c){this.paint!=
c&&(this.disusePaint(this.paint),this.paint=c,this.usePaint(this.paint));this.implementation.style.color="#"+a.utility.ColorTools.toString(c.color);return c},paint:null,set_text:function(a){this.manualText=!0;return this.textNode.data=a},get_text:function(){return this.textNode.data},set_alignment:function(a){this.alignment=a;this.implementation.style.textAlign=n.string(a);return a},alignment:null,initialize:function(){a.graphics.Component.prototype.initialize.call(this);this.manualText=!1;this.set_paint(new a.paint.Paint)},
create:function(){a.graphics.Component.prototype.create.call(this);this.set_alignment(a.type.Alignment.left)},textNode:null,manualText:null,__class__:a.graphics.Text,__properties__:h(a.graphics.Component.prototype.__properties__,{set_alignment:"set_alignment",set_text:"set_text",get_text:"get_text",set_paint:"set_paint",set_font:"set_font",set_wrap:"set_wrap",set_editable:"set_editable",set_selectable:"set_selectable"})});a.graphics.event={};a.graphics.event.ComponentEvent=function(c,b){a.event.Event.call(this,
c);this.target=b};f["nfuzion.graphics.event.ComponentEvent"]=a.graphics.event.ComponentEvent;a.graphics.event.ComponentEvent.__name__=["nfuzion","graphics","event","ComponentEvent"];a.graphics.event.ComponentEvent.__super__=a.event.Event;a.graphics.event.ComponentEvent.prototype=h(a.event.Event.prototype,{target:null,__class__:a.graphics.event.ComponentEvent});a.graphics.event.StageEvent=function(c,b){a.event.Event.call(this,c);this.target=b};f["nfuzion.graphics.event.StageEvent"]=a.graphics.event.StageEvent;
a.graphics.event.StageEvent.__name__=["nfuzion","graphics","event","StageEvent"];a.graphics.event.StageEvent.__super__=a.event.Event;a.graphics.event.StageEvent.prototype=h(a.event.Event.prototype,{target:null,__class__:a.graphics.event.StageEvent});a.graphics.event.TouchEvent=function(c,b,d,e,k,f){null==f&&(f=!0);null==k&&(k=0);a.event.BubblingEvent.call(this,c,f);this.target=b;this.id=d;this.global=e;this.local=b.globalToLocal(e);this.timestamp=k};f["nfuzion.graphics.event.TouchEvent"]=a.graphics.event.TouchEvent;
a.graphics.event.TouchEvent.__name__=["nfuzion","graphics","event","TouchEvent"];a.graphics.event.TouchEvent.__super__=a.event.BubblingEvent;a.graphics.event.TouchEvent.prototype=h(a.event.BubblingEvent.prototype,{timestamp:null,local:null,global:null,id:null,target:null,__class__:a.graphics.event.TouchEvent});a.graphics.type={};a.graphics.type.Fit=f["nfuzion.graphics.type.Fit"]={__ename__:["nfuzion","graphics","type","Fit"],__constructs__:"none coverAll containAll stretchAll tileAll cover contain stretch tile".split(" ")};
a.graphics.type.Fit.none=["none",0];a.graphics.type.Fit.none.toString=m;a.graphics.type.Fit.none.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.coverAll=["coverAll",1];a.graphics.type.Fit.coverAll.toString=m;a.graphics.type.Fit.coverAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.containAll=["containAll",2];a.graphics.type.Fit.containAll.toString=m;a.graphics.type.Fit.containAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.stretchAll=["stretchAll",3];a.graphics.type.Fit.stretchAll.toString=
m;a.graphics.type.Fit.stretchAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.tileAll=["tileAll",4];a.graphics.type.Fit.tileAll.toString=m;a.graphics.type.Fit.tileAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.cover=["cover",5];a.graphics.type.Fit.cover.toString=m;a.graphics.type.Fit.cover.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.contain=["contain",6];a.graphics.type.Fit.contain.toString=m;a.graphics.type.Fit.contain.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.stretch=["stretch",
7];a.graphics.type.Fit.stretch.toString=m;a.graphics.type.Fit.stretch.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.tile=["tile",8];a.graphics.type.Fit.tile.toString=m;a.graphics.type.Fit.tile.__enum__=a.graphics.type.Fit;a.image={};a.image.IImage=function(){};f["nfuzion.image.IImage"]=a.image.IImage;a.image.IImage.__name__=["nfuzion","image","IImage"];a.image.IImage.__interfaces__=[a.event.IEventDispatcher];a.image.IImage.prototype={project:null,useCount:null,height:null,width:null,failed:null,
ready:null,url:null,__class__:a.image.IImage};a.image.Image=function(c){a.event.EventDispatcher.call(this);this.url=c;this.ready=!1;this.loadAttempts=this.useCount=this.height=this.width=0;this.implementation=q.Browser.document.createElement("img");this.implementation.onload=l(this,this.onLoad);this.implementation.onerror=l(this,this.onError);this.load()};f["nfuzion.image.Image"]=a.image.Image;a.image.Image.__name__=["nfuzion","image","Image"];a.image.Image.__interfaces__=[a.image.IImage];a.image.Image.__super__=
a.event.EventDispatcher;a.image.Image.prototype=h(a.event.EventDispatcher.prototype,{project:function(a){return!1},onError:function(c){this.failed=!0;this.ready=!1;this.dispatchEvent(new a.image.event.ImageEvent("ImageEvent.error",this));5>this.loadAttempts&&(this.implementation.src=null,this.load())},onLoad:function(c){this.ready=!0;this.failed=!1;this.width=this.implementation.width;this.height=this.implementation.height;this.dispatchEvent(new a.image.event.ImageEvent("ImageEvent.ready",this))},
load:function(){this.loadAttempts++;this.implementation.src=this.url},loadAttempts:null,implementation:null,useCount:null,height:null,width:null,failed:null,ready:null,url:null,__class__:a.image.Image});a.image.ImageLoader=function(c,b,d,e){a.event.EventDispatcher.call(this);this.url=c;this.component=b;this.fit=d;this.timeout=e;this.complete=!1;this.tinyUrl=r.substr(c,c.lastIndexOf("/")+1,null);this.load()};f["nfuzion.image.ImageLoader"]=a.image.ImageLoader;a.image.ImageLoader.__name__=["nfuzion",
"image","ImageLoader"];a.image.ImageLoader.__super__=a.event.EventDispatcher;a.image.ImageLoader.prototype=h(a.event.EventDispatcher.prototype,{destroy:function(){this.complete||a.nTactic.NTactic.imageManager.remove(this.url);null!=this.image&&(this.image.removeEventListener("ImageEvent.ready",l(this,this.onImageEvent)),this.image.removeEventListener("ImageEvent.error",l(this,this.onImageEvent)));null!=this.delay&&(this.delay.destroy(),this.delay=null);this.component=this.image=null},onComplete:function(){this.complete=
!0;this.dispatchEvent(new a.image.event.ImageLoaderEvent("ImageLoaderEvent.complete",this))},setDefaultImage:function(){this.component.gotoDefault()},setImage:function(){this.component.set_backgroundUrl(this.url);this.component.set_backgroundFit(this.fit)},onDelayTimer:function(){this.delay.destroy();this.delay=null;this.setDefaultImage()},onImageEvent:function(c){null!=this.delay&&this.delay.destroy();c.target.removeEventListener("ImageEvent.ready",l(this,this.onImageEvent));c.target.removeEventListener("ImageEvent.error",
l(this,this.onImageEvent));"ImageEvent.ready"==c.type?this.setImage():this.setDefaultImage();a.nTactic.NTactic.imageManager.remove(this.url);this.onComplete()},load:function(){this.image=a.nTactic.NTactic.imageManager.cite(this.url);null!=this.image&&this.image.ready?(this.setImage(),this.onComplete()):(this.image=a.nTactic.NTactic.imageManager.add(this.url),this.image.ready?(this.setImage(),a.nTactic.NTactic.imageManager.remove(this.url),this.onComplete()):(this.image.addEventListener("ImageEvent.ready",
l(this,this.onImageEvent)),this.image.addEventListener("ImageEvent.error",l(this,this.onImageEvent)),this.image.failed?(this.setDefaultImage(),a.nTactic.NTactic.imageManager.remove(this.url)):null!=this.timeout&&(this.delay=new a.timer.Delay(l(this,this.onDelayTimer),this.timeout))))},tinyUrl:null,delay:null,image:null,complete:null,timeout:null,component:null,fit:null,url:null,__class__:a.image.ImageLoader});a.image.ImageManager=function(){this.images=new g.ds.StringMap};f["nfuzion.image.ImageManager"]=
a.image.ImageManager;a.image.ImageManager.__name__=["nfuzion","image","ImageManager"];a.image.ImageManager.prototype={remove:function(a){if(null!=a){var b=this.images.get(a);if(null==b)return null;b.useCount--;0>=b.useCount&&this.images.remove(a);return b}return null},cite:function(a){return this.images.get(a)},add:function(c){if(null!=c){var b=this.images.get(c);null==b&&(b=new a.image.Image(c),this.images.set(c,b));b.useCount++;return b}return null},images:null,__class__:a.image.ImageManager};a.image.event=
{};a.image.event.ImageEvent=function(c,b){a.event.Event.call(this,c);this.target=b};f["nfuzion.image.event.ImageEvent"]=a.image.event.ImageEvent;a.image.event.ImageEvent.__name__=["nfuzion","image","event","ImageEvent"];a.image.event.ImageEvent.__super__=a.event.Event;a.image.event.ImageEvent.prototype=h(a.event.Event.prototype,{target:null,__class__:a.image.event.ImageEvent});a.image.event.ImageLoaderEvent=function(c,b){a.event.Event.call(this,c);this.imageLoader=b};f["nfuzion.image.event.ImageLoaderEvent"]=
a.image.event.ImageLoaderEvent;a.image.event.ImageLoaderEvent.__name__=["nfuzion","image","event","ImageLoaderEvent"];a.image.event.ImageLoaderEvent.__super__=a.event.Event;a.image.event.ImageLoaderEvent.prototype=h(a.event.Event.prototype,{imageLoader:null,__class__:a.image.event.ImageLoaderEvent});a.layout={};a.layout.ILayout=function(){};f["nfuzion.layout.ILayout"]=a.layout.ILayout;a.layout.ILayout.__name__=["nfuzion","layout","ILayout"];a.layout.ILayout.__interfaces__=[a.event.IListenerManager,
a.event.IEventDispatcher];a.layout.ILayout.prototype={detach:null,attach:null,__class__:a.layout.ILayout};a.layout.BaseLayout=function(){a.event.ListenerManagerAndEventDispatcher.call(this)};f["nfuzion.layout.BaseLayout"]=a.layout.BaseLayout;a.layout.BaseLayout.__name__=["nfuzion","layout","BaseLayout"];a.layout.BaseLayout.__interfaces__=[a.layout.ILayout];a.layout.BaseLayout.__super__=a.event.ListenerManagerAndEventDispatcher;a.layout.BaseLayout.prototype=h(a.event.ListenerManagerAndEventDispatcher.prototype,
{componentAttached:function(){return!0},componentDetaching:function(){this.detachAllListeners()},detach:function(){null!=this.component&&(this.componentDetaching(),null!=this.component.layout&&this.component.set_layout(null));this.component=null},attach:function(a){null==a&&g.Log.trace("ERROR: Cannot attach a null component to a layout.",{fileName:"BaseLayout.hx",lineNumber:20,className:"nfuzion.layout.BaseLayout",methodName:"attach"});return this.component!=a?(this.detach(),this.component=a,this.componentAttached()):
!0},component:null,__class__:a.layout.BaseLayout});a.layout.SnapParentEdges=function(c,b,d,e,k){null==k&&(k=!1);null==e&&(e=!0);null==d&&(d=!0);null==b&&(b=!0);null==c&&(c=!0);a.layout.BaseLayout.call(this);this.snapLeft=c;this.snapRight=b;this.snapTop=d;this.snapBottom=e;this.useScaling=k};f["nfuzion.layout.SnapParentEdges"]=a.layout.SnapParentEdges;a.layout.SnapParentEdges.__name__=["nfuzion","layout","SnapParentEdges"];a.layout.SnapParentEdges.__super__=a.layout.BaseLayout;a.layout.SnapParentEdges.prototype=
h(a.layout.BaseLayout.prototype,{onBoxChanged:function(a){this.update()},apply:function(){this.snapLeft&&this.component.set_x(0);this.snapTop&&this.component.set_y(0);this.snapRight&&this.component.set_right(this.component.parent._width-1);this.snapBottom&&this.component.set_bottom(this.component.parent._height-1);this.useScaling&&this.applyScaling()},update:function(){null!=this.component.parent&&(this.detachListener(this.component,"change",l(this,this.onBoxChanged)),this.apply(),this.attachListener(this.component,
"change",l(this,this.onBoxChanged)))},applyScaling:function(){this.component.set_xScale(this.component._width/this.originalWidth);this.component.set_yScale(this.component._height/this.originalHeight)},onSizeChanged:function(a){this.onBoxChanged()},onAdopted:function(a){this.attachListener(this.component.parent,"changeSize",l(this,this.onSizeChanged));this.onSizeChanged()},onOrphaning:function(a){this.detachListener(this.component.parent,"changeSize",l(this,this.onSizeChanged))},componentAttached:function(){this.originalWidth=
this.component._width;this.originalHeight=this.component._height;this.attachListener(this.component,"orphaning",l(this,this.onOrphaning));this.attachListener(this.component,"adopted",l(this,this.onAdopted));this.attachListener(this.component,"change",l(this,this.onBoxChanged));if(null!=this.component.parent)this.onAdopted();this.update();return!0},originalHeight:null,originalWidth:null,useScaling:null,snapBottom:null,snapTop:null,snapRight:null,snapLeft:null,__class__:a.layout.SnapParentEdges});a.limits=
{};a.limits.IntLimits=function(){};f["nfuzion.limits.IntLimits"]=a.limits.IntLimits;a.limits.IntLimits.__name__=["nfuzion","limits","IntLimits"];a.lingo={};a.lingo.ILingo=function(){};f["nfuzion.lingo.ILingo"]=a.lingo.ILingo;a.lingo.ILingo.__name__=["nfuzion","lingo","ILingo"];a.lingo.ILingo.prototype={from:null,to:null,__class__:a.lingo.ILingo};a.lingo.HaxeLingo=function(){};f["nfuzion.lingo.HaxeLingo"]=a.lingo.HaxeLingo;a.lingo.HaxeLingo.__name__=["nfuzion","lingo","HaxeLingo"];a.lingo.HaxeLingo.__interfaces__=
[a.lingo.ILingo];a.lingo.HaxeLingo.prototype={from:function(a){return g.Unserializer.run(a)},to:function(a){return g.Serializer.run(a)},__class__:a.lingo.HaxeLingo};a.lingo.JsonLingo=function(a,b,d,e){null==e&&(e="nfuzion.message.");null==d&&(d="\n");null==b&&(b="  ");null==a&&(a=!0);this.alphabeticalOrder=a;this.pad=b;this.lineEnd=d;this.impliedClassPrefix=e};f["nfuzion.lingo.JsonLingo"]=a.lingo.JsonLingo;a.lingo.JsonLingo.__name__=["nfuzion","lingo","JsonLingo"];a.lingo.JsonLingo.__interfaces__=
[a.lingo.ILingo];a.lingo.JsonLingo.prototype={trimComma:function(a){a=s.ltrim(a);null!=a&&","==a.charAt(0)&&(a=r.substr(a,1,null));return a},arrayFrom:function(a,b,d){for(;!this.closesWith(a,"]");){var e={item:null};a='"item":'+a;a=this.propertyFrom(a,e,d.slice());if(null!=a)b.push(e.item);else return null;a=this.trimComma(a)}return a},propertyFrom:function(c,b,d){var e=this.getQuotedString(c);c=this.trimToChar(c,":");if(null==c)return g.Log.trace("Property name not followed by ':'",{fileName:"JsonLingo.hx",
lineNumber:387,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;var k=this.getValueType(c);if(null==k)return g.Log.trace("Could not determine type of property: '"+e+"'",{fileName:"JsonLingo.hx",lineNumber:394,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;null==d&&q.Boot.__instanceof(b,a.message.generic.base.Base)&&(d=b.getPropertyType(e));if(null==d)return g.Log.trace("Failed to get property class array.",{fileName:"JsonLingo.hx",lineNumber:405,className:"nfuzion.lingo.JsonLingo",
methodName:"propertyFrom"}),null;var f=d.shift();switch(f){case Array:if(k==a.lingo.type.PropertyType.array){f=[];c=this.trimToChar(c,"[");null!=c&&(c=this.arrayFrom(c,f,d));c=this.trimToChar(c,"]");if(null==c)return g.Log.trace("Error parsing array.",{fileName:"JsonLingo.hx",lineNumber:425,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;w.setProperty(b,e,f)}else return g.Log.trace("Message type and class do not match.",{fileName:"JsonLingo.hx",lineNumber:432,className:"nfuzion.lingo.JsonLingo",
methodName:"propertyFrom"}),null;break;case C:s.ltrim(c);d=s.startsWith(c,"true");c=(b[e]=d)?r.substr(c,4,null):r.substr(c,5,null);break;case z:d=this.getNumber(c);c=this.removeNumber(c);b[e]=n.parseInt(d);break;case B:d=this.getNumber(c);c=this.removeNumber(c);b[e]=n.parseFloat(d);break;case String:d=this.getQuotedString(c);c=this.removeQuotedString(c);b[e]=s.urlDecode(d);break;default:switch(k[1]){case 4:d=p.createEmptyInstance(f);null!=d&&(c=this.trimToChar(c,"{"),null!=c&&(c=this.propertiesFrom(c,
d)),null!=c&&(c=this.trimToChar(c,"}")),null==c&&(d=null),b[e]=d);if(null==d)return g.Log.trace("Failed to create class.",{fileName:"JsonLingo.hx",lineNumber:485,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;break;case 3:d=this.getQuotedString(c);c=this.removeQuotedString(c);b[e]=p.createEnum(f,d);break;default:return g.Log.trace('Unhandled type "'+n.string(k)+'" in class.',{fileName:"JsonLingo.hx",lineNumber:493,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),
null}}return c},propertiesFrom:function(a,b){for(;null!=a&&!this.closesWith(a,"}");){a=this.propertyFrom(a,b);if(null==a)break;a=this.trimComma(a)}return a},closesWith:function(a,b){return null!=a?(a=s.ltrim(a),s.startsWith(a,b)):!1},getValueType:function(c){var b=null;c=s.ltrim(c);switch(c.charAt(0)){case "t":case "f":b=a.lingo.type.PropertyType["boolean"];break;case '"':b=a.lingo.type.PropertyType.string;break;case "[":b=a.lingo.type.PropertyType.array;break;case "{":b=a.lingo.type.PropertyType.structure;
break;case "-":case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":b=a.lingo.type.PropertyType.number}return b},trimToChar:function(a,b){if(null!=a){var d=a.indexOf(b);if(0<=d)return r.substr(a,d+1,null)}return null},removeNumber:function(a){var b=0;a=s.trim(a);try{for(;b<a.length;){switch(a.charAt(b)){case "}":case "]":case " ":case "\n":case ",":throw"__break__";}b++}}catch(d){if("__break__"!=d)throw d;}return b<a.length?r.substr(a,b,null):null},getNumber:function(a){var b=
0;a=s.trim(a);try{for(;b<a.length;){switch(a.charAt(b)){case "}":case "]":case " ":case "\n":case ",":throw"__break__";}b++}}catch(d){if("__break__"!=d)throw d;}return b<a.length?r.substr(a,0,b):null},removeQuotedString:function(a){a=this.trimToChar(a,'"');if(null!=a){var b=a.indexOf('"');0<=b&&(a=r.substr(a,b+1,null))}return a},getQuotedString:function(a){var b=null;a=this.trimToChar(a,'"');if(null!=a){var d=a.indexOf('"');0<=d&&(b=r.substr(a,0,d),r.substr(a,d,null))}return b},from:function(a){if(null==
a)return null;a=s.replace(a,"\n","");"{"==a.charAt(0)&&(2<a.length-a.lastIndexOf("}")&&g.Log.trace("WARNING: Data possibly being ignored in serialized message",{fileName:"JsonLingo.hx",lineNumber:185,className:"nfuzion.lingo.JsonLingo",methodName:"from"}),a=a.substring(1,a.lastIndexOf("}")));var b=this.impliedClassPrefix+this.getQuotedString(a),b=p.resolveClass(b),d;try{d=p.createEmptyInstance(b)}catch(e){return null}a=this.trimToChar(a,"{");if(null==a)return g.Log.trace("Root element is not an object.",
{fileName:"JsonLingo.hx",lineNumber:216,className:"nfuzion.lingo.JsonLingo",methodName:"from"}),null;a=this.propertiesFrom(a,d);if(!this.closesWith(a,"}"))return g.Log.trace("Root object does not have closing bracket..",{fileName:"JsonLingo.hx",lineNumber:224,className:"nfuzion.lingo.JsonLingo",methodName:"from"}),null;a=this.trimToChar(a,"}");s.ltrim(a);return 0<a.length?(g.Log.trace("Extra data found in serialized message.",{fileName:"JsonLingo.hx",lineNumber:234,className:"nfuzion.lingo.JsonLingo",
methodName:"from"}),null):d},sortString:function(a,b){return a<b?-1:a>b?1:0},propertyTo:function(c,b,d){var e=d+this.pad,k="";null!=b&&""!=b&&(k+='"'+b+'":');switch(p["typeof"](c)[1]){case 1:case 2:e+=k+n.string(c);break;case 7:e+=k+'"'+n.string(c)+'"';break;case 6:if(q.Boot.__instanceof(c,String))e+=k+'"'+s.urlEncode(n.string(c))+'"';else if(q.Boot.__instanceof(c,Array)){e=""!=k?e+(k+this.lineEnd+d+this.pad+"["):e+"[";b=!0;k=0;for(c=q.Boot.__cast(c,Array);k<c.length;){var f=c[k];++k;f=this.propertyTo(f,
"",d+this.pad);null!=f&&(b||(e+=","),b=!1,e+=this.lineEnd+f)}e+=this.lineEnd+d+this.pad+"]"}else q.Boot.__instanceof(c,a.message.generic.type.TypeClass)&&(e+=this.classTo(c,b,d+this.pad));break;case 3:e+=k+(!0==c?"true":"false");break;default:return null}return e},classTo:function(a,b,d){null==d&&(d="");var e="",k=p.getClass(a),f=p.getClassName(k);if(!s.startsWith(f,this.impliedClassPrefix))return g.Log.trace("Unexpected message class namespace.",{fileName:"JsonLingo.hx",lineNumber:54,className:"nfuzion.lingo.JsonLingo",
methodName:"classTo"}),null;f=r.substr(f,this.impliedClassPrefix.length,null);e=""!=b?e+('"'+(null==b?f:b)+'":'+this.lineEnd+d+"{"+this.lineEnd):e+("{"+this.lineEnd);b=p.getInstanceFields(k);b.sort(l(this,this.sortString));k=!0;for(f=0;f<b.length;){var h=b[f];++f;var m=w.field(a,h),h=this.propertyTo(m,h,d);null!=h&&(k||(e+=","+this.lineEnd),k=!1,e+=h)}return e+=this.lineEnd+d+"}"},to:function(a){return null!=a?(a=this.classTo(a),"{"+a+"}"):null},impliedClassPrefix:null,lineEnd:null,pad:null,alphabeticalOrder:null,
__class__:a.lingo.JsonLingo};a.lingo.XmlLingo=function(a,b,d,e){null==e&&(e="nfuzion.message.");null==d&&(d="\n");null==b&&(b="  ");null==a&&(a=!0);this.alphabeticalOrder=a;this.pad=b;this.lineEnd=d;this.impliedClassPrefix=e};f["nfuzion.lingo.XmlLingo"]=a.lingo.XmlLingo;a.lingo.XmlLingo.__name__=["nfuzion","lingo","XmlLingo"];a.lingo.XmlLingo.__interfaces__=[a.lingo.ILingo];a.lingo.XmlLingo.prototype={extractPropertyValue:function(c){c=r.substr(c,0,c.indexOf(">"));var b=c.indexOf('"')+1;return p.createEnum(a.lingo.type.PropertyType,
r.substr(c,b,c.lastIndexOf('"')-b))},arrayFrom:function(a,b,d){for(var e=!0;"/"!=a[0].charAt(0);)if(s.startsWith(a[0],"item ")){var k={item:null};if(this.propertyFrom(a,k,d.slice()))b.push(k.item);else{e=!1;break}}else{g.Log.trace("None item tag found in an array.",{fileName:"XmlLingo.hx",lineNumber:388,className:"nfuzion.lingo.XmlLingo",methodName:"arrayFrom"});e=!1;break}return e},propertyFrom:function(c,b,d){var e=c.shift();if(null==e)return g.Log.trace("ERROR: start is null!",{fileName:"XmlLingo.hx",
lineNumber:272,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;var k=r.substr(e,0,e.indexOf(" "));null==d&&q.Boot.__instanceof(b,a.message.generic.base.Base)&&(d=q.Boot.__cast(b,a.message.generic.base.Base).getPropertyType(k));if(null==d)return g.Log.trace("Failed to get property class array.",{fileName:"XmlLingo.hx",lineNumber:282,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;var f=d.shift(),h=this.extractPropertyValue(e);switch(f){case Array:if(h==a.lingo.type.PropertyType.array){f=
[];if(!this.arrayFrom(c,f,d))return!1;w.setProperty(b,k,f)}else return g.Log.trace("Message type and class do not match.",{fileName:"XmlLingo.hx",lineNumber:302,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;break;case C:d=r.substr(e,e.indexOf(">")+1,null);b[k]=s.startsWith(d,"true");break;case z:d=r.substr(e,e.indexOf(">")+1,null);b[k]=n.parseInt(d);break;case B:d=r.substr(e,e.indexOf(">")+1,null);b[k]=n.parseFloat(d);break;case String:d=r.substr(e,e.indexOf(">")+1,null);b[k]=
s.htmlUnescape(d);break;default:switch(h[1]){case 4:d=p.createEmptyInstance(f);null!=d&&(this.propertiesFrom(c,d)||(d=null),b[k]=d);if(null==d)return g.Log.trace("Failed to create class.",{fileName:"XmlLingo.hx",lineNumber:334,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;break;case 3:d=r.substr(e,e.indexOf(">")+1,null);b[k]=p.createEnum(f,d);break;default:return g.Log.trace('Unhandled type "'+n.string(h)+'" in class.',{fileName:"XmlLingo.hx",lineNumber:341,className:"nfuzion.lingo.XmlLingo",
methodName:"propertyFrom"}),!1}}c=c.shift();if(null!=c){if(!s.startsWith(c,"/"+k+">"))return g.Log.trace("Bogus end tag.",{fileName:"XmlLingo.hx",lineNumber:351,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1}else return g.Log.trace("No end tag",{fileName:"XmlLingo.hx",lineNumber:357,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;return!0},propertiesFrom:function(a,b){for(;0<a.length&&!s.startsWith(a[0],"/");)if(!this.propertyFrom(a,b))return!1;return!0},from:function(a){if(null==
a)return g.Log.trace("ERROR: Serialized message is null!",{fileName:"XmlLingo.hx",lineNumber:172,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null;if(""==a)return g.Log.trace("ERROR: Serialized message is empty!",{fileName:"XmlLingo.hx",lineNumber:177,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null;a=a.split("<");a.shift();var b=a.shift();if(null==b)return null;var b=r.substr(b,0,b.indexOf(">")),d=!1;s.endsWith(b,"/")&&(d=!0,b=r.substr(b,0,b.length-1));var e=p.resolveClass(this.impliedClassPrefix+
b),k=null;if(null!=e)try{null!=e&&(k=p.createEmptyInstance(e))}catch(f){}if(null==k)return null;if(!d){this.propertiesFrom(a,k);d=a.shift();if(null!=d){if(!s.startsWith(d,"/"+b+">"))return g.Log.trace("Root tag does not match.",{fileName:"XmlLingo.hx",lineNumber:231,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null}else return g.Log.trace("No end tag",{fileName:"XmlLingo.hx",lineNumber:237,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null;if(0!=a.length)return g.Log.trace("Extraneous data found in serialized message.",
{fileName:"XmlLingo.hx",lineNumber:244,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null}return k},sortString:function(a,b){return a<b?-1:a>b?1:0},propertyTo:function(c,b,d){var e="";switch(p["typeof"](c)[1]){case 1:case 2:e+=d+this.pad+"<"+b+' type="'+n.string(a.lingo.type.PropertyType.number)+'">'+n.string(c)+"</"+b+">"+this.lineEnd;break;case 7:e+=d+this.pad+"<"+b+' type="'+n.string(a.lingo.type.PropertyType.string)+'">'+n.string(c)+"</"+b+">"+this.lineEnd;break;case 6:if(q.Boot.__instanceof(c,
String))e+=d+this.pad+"<"+b+' type="'+n.string(a.lingo.type.PropertyType.string)+'">'+s.htmlEscape(n.string(c))+"</"+b+">"+this.lineEnd;else if(q.Boot.__instanceof(c,Array)){var e=e+(d+this.pad+"<"+b+' type="'+n.string(a.lingo.type.PropertyType.array)+'">'+this.lineEnd),k=0;for(c=q.Boot.__cast(c,Array);k<c.length;){var f=c[k];++k;e+=this.propertyTo(f,"item",d+this.pad)}e+=d+this.pad+"</"+b+">"+this.lineEnd}else q.Boot.__instanceof(c,a.message.generic.type.TypeClass)?e+=this.classTo(c,b,d+this.pad):
g.Log.trace("Detected class does not extend TypeClass.  Property will not be serialized.",{fileName:"XmlLingo.hx",lineNumber:142,className:"nfuzion.lingo.XmlLingo",methodName:"propertyTo"});break;case 3:e+=d+this.pad+"<"+b+' type="'+n.string(a.lingo.type.PropertyType["boolean"])+'">'+(!0==c?"true":"false")+"</"+b+">"+this.lineEnd}return e},classTo:function(c,b,d){null==d&&(d="");var e="",k=p.getClass(c),f=p.getClassName(k);if(!s.startsWith(f,this.impliedClassPrefix))return g.Log.trace("Unknown class type.",
{fileName:"XmlLingo.hx",lineNumber:55,className:"nfuzion.lingo.XmlLingo",methodName:"classTo"}),null;f=r.substr(f,this.impliedClassPrefix.length,null);e=null==b?e+(d+"<"+f+">"+this.lineEnd):e+(d+"<"+b+(""==d?">":' type="'+n.string(a.lingo.type.PropertyType.structure)+'">')+this.lineEnd);k=p.getInstanceFields(k);k.sort(l(this,this.sortString));for(var h=0;h<k.length;){var m=k[h];++h;var q=w.field(c,m),e=e+this.propertyTo(q,m,d)}return e=null==b?e+(d+"</"+f+">"):e+(d+"</"+b+">"+this.lineEnd)},to:function(a){return null!=
a?this.classTo(a):null},impliedClassPrefix:null,lineEnd:null,pad:null,alphabeticalOrder:null,__class__:a.lingo.XmlLingo};a.lingo.type={};a.lingo.type.PropertyType=f["nfuzion.lingo.type.PropertyType"]={__ename__:["nfuzion","lingo","type","PropertyType"],__constructs__:["array","boolean","number","string","structure"]};a.lingo.type.PropertyType.array=["array",0];a.lingo.type.PropertyType.array.toString=m;a.lingo.type.PropertyType.array.__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType["boolean"]=
["boolean",1];a.lingo.type.PropertyType["boolean"].toString=m;a.lingo.type.PropertyType["boolean"].__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType.number=["number",2];a.lingo.type.PropertyType.number.toString=m;a.lingo.type.PropertyType.number.__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType.string=["string",3];a.lingo.type.PropertyType.string.toString=m;a.lingo.type.PropertyType.string.__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType.structure=["structure",4];
a.lingo.type.PropertyType.structure.toString=m;a.lingo.type.PropertyType.structure.__enum__=a.lingo.type.PropertyType;a.loader={};a.loader.TextLoader=function(c){a.event.EventDispatcher.call(this);this.data=null;this.ready=!1;this.url=c;this.xmlHttpRequest=new XMLHttpRequest;this.xmlHttpRequest.open("GET",c,!0);this.xmlHttpRequest.onreadystatechange=l(this,this.onReadyStateChange)};f["nfuzion.loader.TextLoader"]=a.loader.TextLoader;a.loader.TextLoader.__name__=["nfuzion","loader","TextLoader"];a.loader.TextLoader.__super__=
a.event.EventDispatcher;a.loader.TextLoader.prototype=h(a.event.EventDispatcher.prototype,{onError:function(){this.hasEventListener("LoaderEvent.error")?this.dispatchEvent(new a.loader.event.LoaderEvent("LoaderEvent.error",this)):g.Log.trace("ERROR: Failed to load file at '"+this.url+"'.",{fileName:"TextLoader.hx",lineNumber:126,className:"nfuzion.loader.TextLoader",methodName:"onError"})},onReady:function(){this.ready=!0;this.dispatchEvent(new a.loader.event.LoaderEvent("LoaderEvent.ready",this))},
onReadyStateChange:function(a){4==this.xmlHttpRequest.readyState&&(this.data=this.xmlHttpRequest.responseText,this.onReady())},request:function(){this.xmlHttpRequest.send(null)},xmlHttpRequest:null,url:null,ready:null,data:null,__class__:a.loader.TextLoader});a.loader.event={};a.loader.event.LoaderEvent=function(c,b){a.event.Event.call(this,c);this.target=b};f["nfuzion.loader.event.LoaderEvent"]=a.loader.event.LoaderEvent;a.loader.event.LoaderEvent.__name__=["nfuzion","loader","event","LoaderEvent"];
a.loader.event.LoaderEvent.__super__=a.event.Event;a.loader.event.LoaderEvent.prototype=h(a.event.Event.prototype,{target:null,__class__:a.loader.event.LoaderEvent});a.message={};a.message.generic={};a.message.generic.base={};a.message.generic.base.Base=function(){};f["nfuzion.message.generic.base.Base"]=a.message.generic.base.Base;a.message.generic.base.Base.__name__=["nfuzion","message","generic","base","Base"];a.message.generic.base.Base.prototype={getPropertyType:function(a){for(var b=a+"Type",
d=p.getClass(this);null!=d;){var e=w.field(d,b);if(null!=e)return e.slice();d=p.getSuperClass(d)}g.Log.trace("WARNING: Class appears to not have a field named '"+a+"'.",{fileName:"Base.hx",lineNumber:32,className:"nfuzion.message.generic.base.Base",methodName:"getPropertyType"});return null},__class__:a.message.generic.base.Base};a.message.generic.templates={};a.message.generic.templates.MessageClass=function(){a.message.generic.base.Base.call(this)};f["nfuzion.message.generic.templates.MessageClass"]=
a.message.generic.templates.MessageClass;a.message.generic.templates.MessageClass.__name__=["nfuzion","message","generic","templates","MessageClass"];a.message.generic.templates.MessageClass.__super__=a.message.generic.base.Base;a.message.generic.templates.MessageClass.prototype=h(a.message.generic.base.Base.prototype,{__class__:a.message.generic.templates.MessageClass});a.message.generic.templates.Let=function(){a.message.generic.templates.MessageClass.call(this)};f["nfuzion.message.generic.templates.Let"]=
a.message.generic.templates.Let;a.message.generic.templates.Let.__name__=["nfuzion","message","generic","templates","Let"];a.message.generic.templates.Let.__super__=a.message.generic.templates.MessageClass;a.message.generic.templates.Let.prototype=h(a.message.generic.templates.MessageClass.prototype,{__class__:a.message.generic.templates.Let});a.message.generic.templates.LetInt32=function(c){a.message.generic.templates.Let.call(this);this.value=c};f["nfuzion.message.generic.templates.LetInt32"]=a.message.generic.templates.LetInt32;
a.message.generic.templates.LetInt32.__name__=["nfuzion","message","generic","templates","LetInt32"];a.message.generic.templates.LetInt32.__super__=a.message.generic.templates.Let;a.message.generic.templates.LetInt32.prototype=h(a.message.generic.templates.Let.prototype,{value:null,__class__:a.message.generic.templates.LetInt32});a.message.amp={};a.message.amp.LetSource=function(c){a.message.generic.templates.LetInt32.call(this,c)};f["nfuzion.message.amp.LetSource"]=a.message.amp.LetSource;a.message.amp.LetSource.__name__=
["nfuzion","message","amp","LetSource"];a.message.amp.LetSource.__super__=a.message.generic.templates.LetInt32;a.message.amp.LetSource.prototype=h(a.message.generic.templates.LetInt32.prototype,{__class__:a.message.amp.LetSource});a.message.generic.templates.Set=function(){a.message.generic.templates.MessageClass.call(this)};f["nfuzion.message.generic.templates.Set"]=a.message.generic.templates.Set;a.message.generic.templates.Set.__name__=["nfuzion","message","generic","templates","Set"];a.message.generic.templates.Set.__super__=
a.message.generic.templates.MessageClass;a.message.generic.templates.Set.prototype=h(a.message.generic.templates.MessageClass.prototype,{__class__:a.message.generic.templates.Set});a.message.chime={};a.message.chime.type={};a.message.chime.type.Chime=f["nfuzion.message.chime.type.Chime"]={__ename__:["nfuzion","message","chime","type","Chime"],__constructs__:["uiConfirm","uiCancel","uiNotice","warning","turnSignalClick"]};a.message.chime.type.Chime.uiConfirm=["uiConfirm",0];a.message.chime.type.Chime.uiConfirm.toString=
m;a.message.chime.type.Chime.uiConfirm.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.uiCancel=["uiCancel",1];a.message.chime.type.Chime.uiCancel.toString=m;a.message.chime.type.Chime.uiCancel.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.uiNotice=["uiNotice",2];a.message.chime.type.Chime.uiNotice.toString=m;a.message.chime.type.Chime.uiNotice.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.warning=["warning",3];a.message.chime.type.Chime.warning.toString=
m;a.message.chime.type.Chime.warning.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.turnSignalClick=["turnSignalClick",4];a.message.chime.type.Chime.turnSignalClick.toString=m;a.message.chime.type.Chime.turnSignalClick.__enum__=a.message.chime.type.Chime;a.message.chime.SetChime=function(c,b){null==b&&(b=1);a.message.generic.templates.Set.call(this);this.chime=c;this.playCount=b};f["nfuzion.message.chime.SetChime"]=a.message.chime.SetChime;a.message.chime.SetChime.__name__=["nfuzion",
"message","chime","SetChime"];a.message.chime.SetChime.__super__=a.message.generic.templates.Set;a.message.chime.SetChime.prototype=h(a.message.generic.templates.Set.prototype,{playCount:null,chime:null,__class__:a.message.chime.SetChime});a.message.debug={};a.message.debug.LetTrace=function(c,b,d,e,k,f,g){null==k&&(k=-1);a.message.generic.templates.Let.call(this);this.timestamp=c;this.sourceName=b;this.message=d;this.fileName=e;this.lineNumber=k;this.className=f;this.functionName=g};f["nfuzion.message.debug.LetTrace"]=
a.message.debug.LetTrace;a.message.debug.LetTrace.__name__=["nfuzion","message","debug","LetTrace"];a.message.debug.LetTrace.__super__=a.message.generic.templates.Let;a.message.debug.LetTrace.prototype=h(a.message.generic.templates.Let.prototype,{functionName:null,className:null,lineNumber:null,fileName:null,message:null,sourceName:null,timestamp:null,__class__:a.message.debug.LetTrace});a.message.generic.templates.Get=function(){a.message.generic.templates.MessageClass.call(this)};f["nfuzion.message.generic.templates.Get"]=
a.message.generic.templates.Get;a.message.generic.templates.Get.__name__=["nfuzion","message","generic","templates","Get"];a.message.generic.templates.Get.__super__=a.message.generic.templates.MessageClass;a.message.generic.templates.Get.prototype=h(a.message.generic.templates.MessageClass.prototype,{__class__:a.message.generic.templates.Get});a.message.generic.templates.GetPartialList=function(c,b){a.message.generic.templates.Get.call(this);this.start=c;this.end=b};f["nfuzion.message.generic.templates.GetPartialList"]=
a.message.generic.templates.GetPartialList;a.message.generic.templates.GetPartialList.__name__=["nfuzion","message","generic","templates","GetPartialList"];a.message.generic.templates.GetPartialList.__super__=a.message.generic.templates.Get;a.message.generic.templates.GetPartialList.prototype=h(a.message.generic.templates.Get.prototype,{end:null,start:null,__class__:a.message.generic.templates.GetPartialList});a.message.generic.templates.LetBool=function(c){a.message.generic.templates.Let.call(this);
this.value=c};f["nfuzion.message.generic.templates.LetBool"]=a.message.generic.templates.LetBool;a.message.generic.templates.LetBool.__name__=["nfuzion","message","generic","templates","LetBool"];a.message.generic.templates.LetBool.__super__=a.message.generic.templates.Let;a.message.generic.templates.LetBool.prototype=h(a.message.generic.templates.Let.prototype,{value:null,__class__:a.message.generic.templates.LetBool});a.message.generic.templates.LetFloat=function(c){a.message.generic.templates.Let.call(this);
this.value=c};f["nfuzion.message.generic.templates.LetFloat"]=a.message.generic.templates.LetFloat;a.message.generic.templates.LetFloat.__name__=["nfuzion","message","generic","templates","LetFloat"];a.message.generic.templates.LetFloat.__super__=a.message.generic.templates.Let;a.message.generic.templates.LetFloat.prototype=h(a.message.generic.templates.Let.prototype,{value:null,__class__:a.message.generic.templates.LetFloat});a.message.generic.templates.SetBool=function(c){a.message.generic.templates.Set.call(this);
this.value=c};f["nfuzion.message.generic.templates.SetBool"]=a.message.generic.templates.SetBool;a.message.generic.templates.SetBool.__name__=["nfuzion","message","generic","templates","SetBool"];a.message.generic.templates.SetBool.__super__=a.message.generic.templates.Set;a.message.generic.templates.SetBool.prototype=h(a.message.generic.templates.Set.prototype,{value:null,__class__:a.message.generic.templates.SetBool});a.message.generic.templates.SetString=function(c){a.message.generic.templates.Let.call(this);
this.value=c};f["nfuzion.message.generic.templates.SetString"]=a.message.generic.templates.SetString;a.message.generic.templates.SetString.__name__=["nfuzion","message","generic","templates","SetString"];a.message.generic.templates.SetString.__super__=a.message.generic.templates.Let;a.message.generic.templates.SetString.prototype=h(a.message.generic.templates.Let.prototype,{value:null,__class__:a.message.generic.templates.SetString});a.message.generic.type={};a.message.generic.type.TypeClass=function(){a.message.generic.base.Base.call(this)};
f["nfuzion.message.generic.type.TypeClass"]=a.message.generic.type.TypeClass;a.message.generic.type.TypeClass.__name__=["nfuzion","message","generic","type","TypeClass"];a.message.generic.type.TypeClass.__super__=a.message.generic.base.Base;a.message.generic.type.TypeClass.prototype=h(a.message.generic.base.Base.prototype,{__class__:a.message.generic.type.TypeClass});a.message.leap={};a.message.leap.type={};a.message.leap.type.Gesture=f["nfuzion.message.leap.type.Gesture"]={__ename__:["nfuzion","message",
"leap","type","Gesture"],__constructs__:"oneFingerSwipeLeft oneFingerSwipeRight oneFingerSwipeUp oneFingerSwipeDown twoFingerSwipeLeft twofingerSwipeRight twoFingerSwipeUp twoFingerSwipeDown dismiss beckon".split(" ")};a.message.leap.type.Gesture.oneFingerSwipeLeft=["oneFingerSwipeLeft",0];a.message.leap.type.Gesture.oneFingerSwipeLeft.toString=m;a.message.leap.type.Gesture.oneFingerSwipeLeft.__enum__=a.message.leap.type.Gesture;a.message.leap.type.Gesture.oneFingerSwipeRight=["oneFingerSwipeRight",
1];a.message.leap.type.Gesture.oneFingerSwipeRight.toString=m;a.message.leap.type.Gesture.oneFingerSwipeRight.__enum__=a.message.leap.type.Gesture;a.message.leap.type.Gesture.oneFingerSwipeUp=["oneFingerSwipeUp",2];a.message.leap.type.Gesture.oneFingerSwipeUp.toString=m;a.message.leap.type.Gesture.oneFingerSwipeUp.__enum__=a.message.leap.type.Gesture;a.message.leap.type.Gesture.oneFingerSwipeDown=["oneFingerSwipeDown",3];a.message.leap.type.Gesture.oneFingerSwipeDown.toString=m;a.message.leap.type.Gesture.oneFingerSwipeDown.__enum__=
a.message.leap.type.Gesture;a.message.leap.type.Gesture.twoFingerSwipeLeft=["twoFingerSwipeLeft",4];a.message.leap.type.Gesture.twoFingerSwipeLeft.toString=m;a.message.leap.type.Gesture.twoFingerSwipeLeft.__enum__=a.message.leap.type.Gesture;a.message.leap.type.Gesture.twofingerSwipeRight=["twofingerSwipeRight",5];a.message.leap.type.Gesture.twofingerSwipeRight.toString=m;a.message.leap.type.Gesture.twofingerSwipeRight.__enum__=a.message.leap.type.Gesture;a.message.leap.type.Gesture.twoFingerSwipeUp=
["twoFingerSwipeUp",6];a.message.leap.type.Gesture.twoFingerSwipeUp.toString=m;a.message.leap.type.Gesture.twoFingerSwipeUp.__enum__=a.message.leap.type.Gesture;a.message.leap.type.Gesture.twoFingerSwipeDown=["twoFingerSwipeDown",7];a.message.leap.type.Gesture.twoFingerSwipeDown.toString=m;a.message.leap.type.Gesture.twoFingerSwipeDown.__enum__=a.message.leap.type.Gesture;a.message.leap.type.Gesture.dismiss=["dismiss",8];a.message.leap.type.Gesture.dismiss.toString=m;a.message.leap.type.Gesture.dismiss.__enum__=
a.message.leap.type.Gesture;a.message.leap.type.Gesture.beckon=["beckon",9];a.message.leap.type.Gesture.beckon.toString=m;a.message.leap.type.Gesture.beckon.__enum__=a.message.leap.type.Gesture;a.message.leap.LetGesture=function(c){a.message.generic.templates.Let.call(this);this.gesture=c};f["nfuzion.message.leap.LetGesture"]=a.message.leap.LetGesture;a.message.leap.LetGesture.__name__=["nfuzion","message","leap","LetGesture"];a.message.leap.LetGesture.__super__=a.message.generic.templates.Let;a.message.leap.LetGesture.prototype=
h(a.message.generic.templates.Let.prototype,{gesture:null,__class__:a.message.leap.LetGesture});a.message.magic={};a.message.magic.type={};a.message.magic.type.Phase=f["nfuzion.message.magic.type.Phase"]={__ename__:["nfuzion","message","magic","type","Phase"],__constructs__:["start","change","end"]};a.message.magic.type.Phase.start=["start",0];a.message.magic.type.Phase.start.toString=m;a.message.magic.type.Phase.start.__enum__=a.message.magic.type.Phase;a.message.magic.type.Phase.change=["change",
1];a.message.magic.type.Phase.change.toString=m;a.message.magic.type.Phase.change.__enum__=a.message.magic.type.Phase;a.message.magic.type.Phase.end=["end",2];a.message.magic.type.Phase.end.toString=m;a.message.magic.type.Phase.end.__enum__=a.message.magic.type.Phase;a.message.media={};a.message.media.GetDevices=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.media.GetDevices"]=a.message.media.GetDevices;a.message.media.GetDevices.__name__=["nfuzion","message","media","GetDevices"];
a.message.media.GetDevices.__super__=a.message.generic.templates.Get;a.message.media.GetDevices.prototype=h(a.message.generic.templates.Get.prototype,{__class__:a.message.media.GetDevices});a.message.media.type={};a.message.media.type.TransportAction=f["nfuzion.message.media.type.TransportAction"]={__ename__:["nfuzion","message","media","type","TransportAction"],__constructs__:"play playSingle playAll stop pause resume next skipBackward previous scan fastForward fastReverse".split(" ")};a.message.media.type.TransportAction.play=
["play",0];a.message.media.type.TransportAction.play.toString=m;a.message.media.type.TransportAction.play.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.playSingle=["playSingle",1];a.message.media.type.TransportAction.playSingle.toString=m;a.message.media.type.TransportAction.playSingle.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.playAll=["playAll",2];a.message.media.type.TransportAction.playAll.toString=m;a.message.media.type.TransportAction.playAll.__enum__=
a.message.media.type.TransportAction;a.message.media.type.TransportAction.stop=["stop",3];a.message.media.type.TransportAction.stop.toString=m;a.message.media.type.TransportAction.stop.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.pause=["pause",4];a.message.media.type.TransportAction.pause.toString=m;a.message.media.type.TransportAction.pause.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.resume=["resume",5];a.message.media.type.TransportAction.resume.toString=
m;a.message.media.type.TransportAction.resume.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.next=["next",6];a.message.media.type.TransportAction.next.toString=m;a.message.media.type.TransportAction.next.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.skipBackward=["skipBackward",7];a.message.media.type.TransportAction.skipBackward.toString=m;a.message.media.type.TransportAction.skipBackward.__enum__=a.message.media.type.TransportAction;
a.message.media.type.TransportAction.previous=["previous",8];a.message.media.type.TransportAction.previous.toString=m;a.message.media.type.TransportAction.previous.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.scan=["scan",9];a.message.media.type.TransportAction.scan.toString=m;a.message.media.type.TransportAction.scan.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.fastForward=["fastForward",10];a.message.media.type.TransportAction.fastForward.toString=
m;a.message.media.type.TransportAction.fastForward.__enum__=a.message.media.type.TransportAction;a.message.media.type.TransportAction.fastReverse=["fastReverse",11];a.message.media.type.TransportAction.fastReverse.toString=m;a.message.media.type.TransportAction.fastReverse.__enum__=a.message.media.type.TransportAction;a.message.media.SetTransportAction=function(c){a.message.generic.templates.Set.call(this);this.action=c};f["nfuzion.message.media.SetTransportAction"]=a.message.media.SetTransportAction;
a.message.media.SetTransportAction.__name__=["nfuzion","message","media","SetTransportAction"];a.message.media.SetTransportAction.__super__=a.message.generic.templates.Set;a.message.media.SetTransportAction.prototype=h(a.message.generic.templates.Set.prototype,{action:null,__class__:a.message.media.SetTransportAction});a.message.media.type.ItemType=f["nfuzion.message.media.type.ItemType"]={__ename__:["nfuzion","message","media","type","ItemType"],__constructs__:"partition folder file category artist album genre composer track playlist audiobook chapter podcast episode".split(" ")};
a.message.media.type.ItemType.partition=["partition",0];a.message.media.type.ItemType.partition.toString=m;a.message.media.type.ItemType.partition.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.folder=["folder",1];a.message.media.type.ItemType.folder.toString=m;a.message.media.type.ItemType.folder.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.file=["file",2];a.message.media.type.ItemType.file.toString=m;a.message.media.type.ItemType.file.__enum__=a.message.media.type.ItemType;
a.message.media.type.ItemType.category=["category",3];a.message.media.type.ItemType.category.toString=m;a.message.media.type.ItemType.category.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.artist=["artist",4];a.message.media.type.ItemType.artist.toString=m;a.message.media.type.ItemType.artist.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.album=["album",5];a.message.media.type.ItemType.album.toString=m;a.message.media.type.ItemType.album.__enum__=a.message.media.type.ItemType;
a.message.media.type.ItemType.genre=["genre",6];a.message.media.type.ItemType.genre.toString=m;a.message.media.type.ItemType.genre.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.composer=["composer",7];a.message.media.type.ItemType.composer.toString=m;a.message.media.type.ItemType.composer.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.track=["track",8];a.message.media.type.ItemType.track.toString=m;a.message.media.type.ItemType.track.__enum__=a.message.media.type.ItemType;
a.message.media.type.ItemType.playlist=["playlist",9];a.message.media.type.ItemType.playlist.toString=m;a.message.media.type.ItemType.playlist.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.audiobook=["audiobook",10];a.message.media.type.ItemType.audiobook.toString=m;a.message.media.type.ItemType.audiobook.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.chapter=["chapter",11];a.message.media.type.ItemType.chapter.toString=m;a.message.media.type.ItemType.chapter.__enum__=
a.message.media.type.ItemType;a.message.media.type.ItemType.podcast=["podcast",12];a.message.media.type.ItemType.podcast.toString=m;a.message.media.type.ItemType.podcast.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.episode=["episode",13];a.message.media.type.ItemType.episode.toString=m;a.message.media.type.ItemType.episode.__enum__=a.message.media.type.ItemType;a.message.media.type.Item=function(c,b,d,e,k,f,g,h,l,m,n,p){a.message.generic.type.TypeClass.call(this);this.title=
c;this.type=b;this.id=d;this.playable=e;this.artUrl=k;this.artFile=f;this.length=g;this.album=h;this.artist=l;this.genre=m;this.composer=n;this.albumTrackNumber=p};f["nfuzion.message.media.type.Item"]=a.message.media.type.Item;a.message.media.type.Item.__name__=["nfuzion","message","media","type","Item"];a.message.media.type.Item.__super__=a.message.generic.type.TypeClass;a.message.media.type.Item.prototype=h(a.message.generic.type.TypeClass.prototype,{albumTrackNumber:null,composer:null,genre:null,
artist:null,album:null,length:null,artFile:null,artUrl:null,playable:null,id:null,type:null,title:null,__class__:a.message.media.type.Item});a.message.media.templates={};a.message.media.templates.LetPartialMediaList=function(c,b){a.message.generic.templates.Let.call(this);this.offset=c;this.data=b};f["nfuzion.message.media.templates.LetPartialMediaList"]=a.message.media.templates.LetPartialMediaList;a.message.media.templates.LetPartialMediaList.__name__=["nfuzion","message","media","templates","LetPartialMediaList"];
a.message.media.templates.LetPartialMediaList.__super__=a.message.generic.templates.Let;a.message.media.templates.LetPartialMediaList.prototype=h(a.message.generic.templates.Let.prototype,{data:null,offset:null,__class__:a.message.media.templates.LetPartialMediaList});a.message.navigation={};a.message.navigation.GetDistance=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetDistance"]=a.message.navigation.GetDistance;a.message.navigation.GetDistance.__name__=["nfuzion",
"message","navigation","GetDistance"];a.message.navigation.GetDistance.__super__=a.message.generic.templates.Get;a.message.navigation.GetDistance.prototype=h(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetDistance});a.message.navigation.GetDistancePercentage=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetDistancePercentage"]=a.message.navigation.GetDistancePercentage;a.message.navigation.GetDistancePercentage.__name__=["nfuzion",
"message","navigation","GetDistancePercentage"];a.message.navigation.GetDistancePercentage.__super__=a.message.generic.templates.Get;a.message.navigation.GetDistancePercentage.prototype=h(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetDistancePercentage});a.message.navigation.GetNextTurn=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetNextTurn"]=a.message.navigation.GetNextTurn;a.message.navigation.GetNextTurn.__name__=["nfuzion",
"message","navigation","GetNextTurn"];a.message.navigation.GetNextTurn.__super__=a.message.generic.templates.Get;a.message.navigation.GetNextTurn.prototype=h(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetNextTurn});a.message.navigation.GetRoute=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetRoute"]=a.message.navigation.GetRoute;a.message.navigation.GetRoute.__name__=["nfuzion","message","navigation","GetRoute"];a.message.navigation.GetRoute.__super__=
a.message.generic.templates.Get;a.message.navigation.GetRoute.prototype=h(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetRoute});a.message.navigation.GetWaypoints=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetWaypoints"]=a.message.navigation.GetWaypoints;a.message.navigation.GetWaypoints.__name__=["nfuzion","message","navigation","GetWaypoints"];a.message.navigation.GetWaypoints.__super__=a.message.generic.templates.Get;a.message.navigation.GetWaypoints.prototype=
h(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetWaypoints});a.message.navigation.LetDistance=function(c){a.message.generic.templates.LetFloat.call(this,c)};f["nfuzion.message.navigation.LetDistance"]=a.message.navigation.LetDistance;a.message.navigation.LetDistance.__name__=["nfuzion","message","navigation","LetDistance"];a.message.navigation.LetDistance.__super__=a.message.generic.templates.LetFloat;a.message.navigation.LetDistance.prototype=h(a.message.generic.templates.LetFloat.prototype,
{__class__:a.message.navigation.LetDistance});a.message.navigation.type={};a.message.navigation.type.TargetType=f["nfuzion.message.navigation.type.TargetType"]={__ename__:["nfuzion","message","navigation","type","TargetType"],__constructs__:"left right bearLeft bearRight uturn destination continueAhead".split(" ")};a.message.navigation.type.TargetType.left=["left",0];a.message.navigation.type.TargetType.left.toString=m;a.message.navigation.type.TargetType.left.__enum__=a.message.navigation.type.TargetType;
a.message.navigation.type.TargetType.right=["right",1];a.message.navigation.type.TargetType.right.toString=m;a.message.navigation.type.TargetType.right.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.bearLeft=["bearLeft",2];a.message.navigation.type.TargetType.bearLeft.toString=m;a.message.navigation.type.TargetType.bearLeft.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.bearRight=["bearRight",3];a.message.navigation.type.TargetType.bearRight.toString=
m;a.message.navigation.type.TargetType.bearRight.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.uturn=["uturn",4];a.message.navigation.type.TargetType.uturn.toString=m;a.message.navigation.type.TargetType.uturn.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.destination=["destination",5];a.message.navigation.type.TargetType.destination.toString=m;a.message.navigation.type.TargetType.destination.__enum__=a.message.navigation.type.TargetType;
a.message.navigation.type.TargetType.continueAhead=["continueAhead",6];a.message.navigation.type.TargetType.continueAhead.toString=m;a.message.navigation.type.TargetType.continueAhead.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.StepData=function(c,b,d){null==b&&(b=0);a.message.generic.type.TypeClass.call(this);this.distance=b;this.street=d;this.target=c;this.destination=this.turn=null;this.isLastLeg=this.isLastStep=!1};f["nfuzion.message.navigation.type.StepData"]=a.message.navigation.type.StepData;
a.message.navigation.type.StepData.__name__=["nfuzion","message","navigation","type","StepData"];a.message.navigation.type.StepData.__super__=a.message.generic.type.TypeClass;a.message.navigation.type.StepData.prototype=h(a.message.generic.type.TypeClass.prototype,{isLastLeg:null,isLastStep:null,destination:null,street:null,target:null,turn:null,distance:null,__class__:a.message.navigation.type.StepData});a.message.navigation.LetNextTurn=function(c){a.message.generic.templates.Let.call(this);this.nextTurn=
c};f["nfuzion.message.navigation.LetNextTurn"]=a.message.navigation.LetNextTurn;a.message.navigation.LetNextTurn.__name__=["nfuzion","message","navigation","LetNextTurn"];a.message.navigation.LetNextTurn.__super__=a.message.generic.templates.Let;a.message.navigation.LetNextTurn.prototype=h(a.message.generic.templates.Let.prototype,{nextTurn:null,__class__:a.message.navigation.LetNextTurn});a.message.navigation.SetClearRoute=function(){a.message.generic.templates.Set.call(this)};f["nfuzion.message.navigation.SetClearRoute"]=
a.message.navigation.SetClearRoute;a.message.navigation.SetClearRoute.__name__=["nfuzion","message","navigation","SetClearRoute"];a.message.navigation.SetClearRoute.__super__=a.message.generic.templates.Set;a.message.navigation.SetClearRoute.prototype=h(a.message.generic.templates.Set.prototype,{__class__:a.message.navigation.SetClearRoute});a.message.navigation.SetEndByAddress=function(c){a.message.generic.templates.SetString.call(this,c)};f["nfuzion.message.navigation.SetEndByAddress"]=a.message.navigation.SetEndByAddress;
a.message.navigation.SetEndByAddress.__name__=["nfuzion","message","navigation","SetEndByAddress"];a.message.navigation.SetEndByAddress.__super__=a.message.generic.templates.SetString;a.message.navigation.SetEndByAddress.prototype=h(a.message.generic.templates.SetString.prototype,{__class__:a.message.navigation.SetEndByAddress});a.message.navigation.SetEndByPoint=function(c,b){a.message.generic.templates.Set.call(this);this.x=c;this.y=b};f["nfuzion.message.navigation.SetEndByPoint"]=a.message.navigation.SetEndByPoint;
a.message.navigation.SetEndByPoint.__name__=["nfuzion","message","navigation","SetEndByPoint"];a.message.navigation.SetEndByPoint.__super__=a.message.generic.templates.Set;a.message.navigation.SetEndByPoint.prototype=h(a.message.generic.templates.Set.prototype,{y:null,x:null,__class__:a.message.navigation.SetEndByPoint});a.message.navigation.type.TransitType=f["nfuzion.message.navigation.type.TransitType"]={__ename__:["nfuzion","message","navigation","type","TransitType"],__constructs__:["walking",
"driving"]};a.message.navigation.type.TransitType.walking=["walking",0];a.message.navigation.type.TransitType.walking.toString=m;a.message.navigation.type.TransitType.walking.__enum__=a.message.navigation.type.TransitType;a.message.navigation.type.TransitType.driving=["driving",1];a.message.navigation.type.TransitType.driving.toString=m;a.message.navigation.type.TransitType.driving.__enum__=a.message.navigation.type.TransitType;a.message.navigation.SetRequestNewRoute=function(c){a.message.generic.templates.Set.call(this);
this.type=c};f["nfuzion.message.navigation.SetRequestNewRoute"]=a.message.navigation.SetRequestNewRoute;a.message.navigation.SetRequestNewRoute.__name__=["nfuzion","message","navigation","SetRequestNewRoute"];a.message.navigation.SetRequestNewRoute.__super__=a.message.generic.templates.Set;a.message.navigation.SetRequestNewRoute.prototype=h(a.message.generic.templates.Set.prototype,{type:null,__class__:a.message.navigation.SetRequestNewRoute});a.message.navigation.SetStartByAddress=function(c){a.message.generic.templates.SetString.call(this,
c)};f["nfuzion.message.navigation.SetStartByAddress"]=a.message.navigation.SetStartByAddress;a.message.navigation.SetStartByAddress.__name__=["nfuzion","message","navigation","SetStartByAddress"];a.message.navigation.SetStartByAddress.__super__=a.message.generic.templates.SetString;a.message.navigation.SetStartByAddress.prototype=h(a.message.generic.templates.SetString.prototype,{__class__:a.message.navigation.SetStartByAddress});a.message.navigation.SetStartByPoint=function(c,b){a.message.generic.templates.Set.call(this);
this.x=c;this.y=b};f["nfuzion.message.navigation.SetStartByPoint"]=a.message.navigation.SetStartByPoint;a.message.navigation.SetStartByPoint.__name__=["nfuzion","message","navigation","SetStartByPoint"];a.message.navigation.SetStartByPoint.__super__=a.message.generic.templates.Set;a.message.navigation.SetStartByPoint.prototype=h(a.message.generic.templates.Set.prototype,{y:null,x:null,__class__:a.message.navigation.SetStartByPoint});a.message.navigation.type.SerializablePoint=function(c,b){null==
b&&(b=0);null==c&&(c=0);a.message.generic.type.TypeClass.call(this);this.x=c;this.y=b};f["nfuzion.message.navigation.type.SerializablePoint"]=a.message.navigation.type.SerializablePoint;a.message.navigation.type.SerializablePoint.__name__=["nfuzion","message","navigation","type","SerializablePoint"];a.message.navigation.type.SerializablePoint.__super__=a.message.generic.type.TypeClass;a.message.navigation.type.SerializablePoint.prototype=h(a.message.generic.type.TypeClass.prototype,{y:null,x:null,
__class__:a.message.navigation.type.SerializablePoint});a.message.notice={};a.message.notice.type={};a.message.notice.type.EventData=function(c,b,d,e,k){a.message.generic.type.TypeClass.call(this);this.name=c;this.locationName=b;this.time=d;this.contactName=e;this.contactNumber=k};f["nfuzion.message.notice.type.EventData"]=a.message.notice.type.EventData;a.message.notice.type.EventData.__name__=["nfuzion","message","notice","type","EventData"];a.message.notice.type.EventData.__super__=a.message.generic.type.TypeClass;
a.message.notice.type.EventData.prototype=h(a.message.generic.type.TypeClass.prototype,{contactNumber:null,contactName:null,time:null,locationName:null,name:null,__class__:a.message.notice.type.EventData});a.message.notice.type.ActionType=f["nfuzion.message.notice.type.ActionType"]={__ename__:["nfuzion","message","notice","type","ActionType"],__constructs__:"addWaypoint setDestination delete sendMessage dialNumber tts".split(" ")};a.message.notice.type.ActionType.addWaypoint=["addWaypoint",0];a.message.notice.type.ActionType.addWaypoint.toString=
m;a.message.notice.type.ActionType.addWaypoint.__enum__=a.message.notice.type.ActionType;a.message.notice.type.ActionType.setDestination=["setDestination",1];a.message.notice.type.ActionType.setDestination.toString=m;a.message.notice.type.ActionType.setDestination.__enum__=a.message.notice.type.ActionType;a.message.notice.type.ActionType["delete"]=["delete",2];a.message.notice.type.ActionType["delete"].toString=m;a.message.notice.type.ActionType["delete"].__enum__=a.message.notice.type.ActionType;
a.message.notice.type.ActionType.sendMessage=["sendMessage",3];a.message.notice.type.ActionType.sendMessage.toString=m;a.message.notice.type.ActionType.sendMessage.__enum__=a.message.notice.type.ActionType;a.message.notice.type.ActionType.dialNumber=["dialNumber",4];a.message.notice.type.ActionType.dialNumber.toString=m;a.message.notice.type.ActionType.dialNumber.__enum__=a.message.notice.type.ActionType;a.message.notice.type.ActionType.tts=["tts",5];a.message.notice.type.ActionType.tts.toString=
m;a.message.notice.type.ActionType.tts.__enum__=a.message.notice.type.ActionType;a.message.notice.type.Action=function(c,b,d){a.message.generic.type.TypeClass.call(this);this.name=c;this.action=b;this.data=d};f["nfuzion.message.notice.type.Action"]=a.message.notice.type.Action;a.message.notice.type.Action.__name__=["nfuzion","message","notice","type","Action"];a.message.notice.type.Action.__super__=a.message.generic.type.TypeClass;a.message.notice.type.Action.prototype=h(a.message.generic.type.TypeClass.prototype,
{data:null,action:null,name:null,__class__:a.message.notice.type.Action});a.message.notice.type.NoticePriority=f["nfuzion.message.notice.type.NoticePriority"]={__ename__:["nfuzion","message","notice","type","NoticePriority"],__constructs__:["high","medium","low"]};a.message.notice.type.NoticePriority.high=["high",0];a.message.notice.type.NoticePriority.high.toString=m;a.message.notice.type.NoticePriority.high.__enum__=a.message.notice.type.NoticePriority;a.message.notice.type.NoticePriority.medium=
["medium",1];a.message.notice.type.NoticePriority.medium.toString=m;a.message.notice.type.NoticePriority.medium.__enum__=a.message.notice.type.NoticePriority;a.message.notice.type.NoticePriority.low=["low",2];a.message.notice.type.NoticePriority.low.toString=m;a.message.notice.type.NoticePriority.low.__enum__=a.message.notice.type.NoticePriority;a.message.notice.type.NoticeType=f["nfuzion.message.notice.type.NoticeType"]={__ename__:["nfuzion","message","notice","type","NoticeType"],__constructs__:"destination waypointSuggestion text mail socialMedia calendar".split(" ")};
a.message.notice.type.NoticeType.destination=["destination",0];a.message.notice.type.NoticeType.destination.toString=m;a.message.notice.type.NoticeType.destination.__enum__=a.message.notice.type.NoticeType;a.message.notice.type.NoticeType.waypointSuggestion=["waypointSuggestion",1];a.message.notice.type.NoticeType.waypointSuggestion.toString=m;a.message.notice.type.NoticeType.waypointSuggestion.__enum__=a.message.notice.type.NoticeType;a.message.notice.type.NoticeType.text=["text",2];a.message.notice.type.NoticeType.text.toString=
m;a.message.notice.type.NoticeType.text.__enum__=a.message.notice.type.NoticeType;a.message.notice.type.NoticeType.mail=["mail",3];a.message.notice.type.NoticeType.mail.toString=m;a.message.notice.type.NoticeType.mail.__enum__=a.message.notice.type.NoticeType;a.message.notice.type.NoticeType.socialMedia=["socialMedia",4];a.message.notice.type.NoticeType.socialMedia.toString=m;a.message.notice.type.NoticeType.socialMedia.__enum__=a.message.notice.type.NoticeType;a.message.notice.type.NoticeType.calendar=
["calendar",5];a.message.notice.type.NoticeType.calendar.toString=m;a.message.notice.type.NoticeType.calendar.__enum__=a.message.notice.type.NoticeType;a.message.notice.type.Notice=function(c,b,d,e,k,f){a.message.generic.type.TypeClass.call(this);this.title=c;this.text=b;this.type=d;this.priority=e;this.options=k;this.eventData=f;null==this.options&&(this.options=[]);this.id=0};f["nfuzion.message.notice.type.Notice"]=a.message.notice.type.Notice;a.message.notice.type.Notice.__name__=["nfuzion","message",
"notice","type","Notice"];a.message.notice.type.Notice.__super__=a.message.generic.type.TypeClass;a.message.notice.type.Notice.prototype=h(a.message.generic.type.TypeClass.prototype,{id:null,eventData:null,priority:null,type:null,options:null,text:null,title:null,__class__:a.message.notice.type.Notice});a.message.notice.LetNotices=function(c,b){a.message.generic.templates.Let.call(this);this.start=c;this.notices=b};f["nfuzion.message.notice.LetNotices"]=a.message.notice.LetNotices;a.message.notice.LetNotices.__name__=
["nfuzion","message","notice","LetNotices"];a.message.notice.LetNotices.__super__=a.message.generic.templates.Let;a.message.notice.LetNotices.prototype=h(a.message.generic.templates.Let.prototype,{notices:null,start:null,__class__:a.message.notice.LetNotices});a.message.notice.SetAddNotice=function(c){a.message.generic.templates.Set.call(this);this.notice=c};f["nfuzion.message.notice.SetAddNotice"]=a.message.notice.SetAddNotice;a.message.notice.SetAddNotice.__name__=["nfuzion","message","notice",
"SetAddNotice"];a.message.notice.SetAddNotice.__super__=a.message.generic.templates.Set;a.message.notice.SetAddNotice.prototype=h(a.message.generic.templates.Set.prototype,{notice:null,__class__:a.message.notice.SetAddNotice});a.message.pandora={};a.message.pandora.GetChannels=function(c,b){a.message.generic.templates.GetPartialList.call(this,c,b)};f["nfuzion.message.pandora.GetChannels"]=a.message.pandora.GetChannels;a.message.pandora.GetChannels.__name__=["nfuzion","message","pandora","GetChannels"];
a.message.pandora.GetChannels.__super__=a.message.generic.templates.GetPartialList;a.message.pandora.GetChannels.prototype=h(a.message.generic.templates.GetPartialList.prototype,{__class__:a.message.pandora.GetChannels});a.message.pandora.GetCurrentChannel=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.pandora.GetCurrentChannel"]=a.message.pandora.GetCurrentChannel;a.message.pandora.GetCurrentChannel.__name__=["nfuzion","message","pandora","GetCurrentChannel"];a.message.pandora.GetCurrentChannel.__super__=
a.message.generic.templates.Get;a.message.pandora.GetCurrentChannel.prototype=h(a.message.generic.templates.Get.prototype,{__class__:a.message.pandora.GetCurrentChannel});a.message.pandora.GetStatus=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.pandora.GetStatus"]=a.message.pandora.GetStatus;a.message.pandora.GetStatus.__name__=["nfuzion","message","pandora","GetStatus"];a.message.pandora.GetStatus.__super__=a.message.generic.templates.Get;a.message.pandora.GetStatus.prototype=
h(a.message.generic.templates.Get.prototype,{__class__:a.message.pandora.GetStatus});a.message.pandora.SetChannel=function(c){a.message.generic.templates.Set.call(this);this.id=c};f["nfuzion.message.pandora.SetChannel"]=a.message.pandora.SetChannel;a.message.pandora.SetChannel.__name__=["nfuzion","message","pandora","SetChannel"];a.message.pandora.SetChannel.__super__=a.message.generic.templates.Set;a.message.pandora.SetChannel.prototype=h(a.message.generic.templates.Set.prototype,{id:null,__class__:a.message.pandora.SetChannel});
a.message.phone={};a.message.phone.LetCallDuration=function(c){a.message.generic.templates.LetFloat.call(this,c)};f["nfuzion.message.phone.LetCallDuration"]=a.message.phone.LetCallDuration;a.message.phone.LetCallDuration.__name__=["nfuzion","message","phone","LetCallDuration"];a.message.phone.LetCallDuration.__super__=a.message.generic.templates.LetFloat;a.message.phone.LetCallDuration.prototype=h(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.phone.LetCallDuration});a.message.phone.LetHandsFree=
function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.phone.LetHandsFree"]=a.message.phone.LetHandsFree;a.message.phone.LetHandsFree.__name__=["nfuzion","message","phone","LetHandsFree"];a.message.phone.LetHandsFree.__super__=a.message.generic.templates.LetBool;a.message.phone.LetHandsFree.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.phone.LetHandsFree});a.message.phone.type={};a.message.phone.type.PhoneStatus=f["nfuzion.message.phone.type.PhoneStatus"]=
{__ename__:["nfuzion","message","phone","type","PhoneStatus"],__constructs__:["idle","ringing","inCall"]};a.message.phone.type.PhoneStatus.idle=["idle",0];a.message.phone.type.PhoneStatus.idle.toString=m;a.message.phone.type.PhoneStatus.idle.__enum__=a.message.phone.type.PhoneStatus;a.message.phone.type.PhoneStatus.ringing=["ringing",1];a.message.phone.type.PhoneStatus.ringing.toString=m;a.message.phone.type.PhoneStatus.ringing.__enum__=a.message.phone.type.PhoneStatus;a.message.phone.type.PhoneStatus.inCall=
["inCall",2];a.message.phone.type.PhoneStatus.inCall.toString=m;a.message.phone.type.PhoneStatus.inCall.__enum__=a.message.phone.type.PhoneStatus;a.message.phone.LetStatus=function(c,b){a.message.generic.templates.Let.call(this);this.status=c;this.number=b};f["nfuzion.message.phone.LetStatus"]=a.message.phone.LetStatus;a.message.phone.LetStatus.__name__=["nfuzion","message","phone","LetStatus"];a.message.phone.LetStatus.__super__=a.message.generic.templates.Let;a.message.phone.LetStatus.prototype=
h(a.message.generic.templates.Let.prototype,{number:null,status:null,__class__:a.message.phone.LetStatus});a.message.span={};a.message.span.LetClientMetadata=function(c,b,d){null==d&&(d=!0);a.message.generic.templates.Let.call(this);this.name=c;this.clientCatagory=b;this.echo=d};f["nfuzion.message.span.LetClientMetadata"]=a.message.span.LetClientMetadata;a.message.span.LetClientMetadata.__name__=["nfuzion","message","span","LetClientMetadata"];a.message.span.LetClientMetadata.__super__=a.message.generic.templates.Let;
a.message.span.LetClientMetadata.prototype=h(a.message.generic.templates.Let.prototype,{echo:null,clientCatagory:null,name:null,__class__:a.message.span.LetClientMetadata});a.message.test={};a.message.test.type={};a.message.test.type.Type=function(c){a.message.generic.type.TypeClass.call(this);this.test=c};f["nfuzion.message.test.type.Type"]=a.message.test.type.Type;a.message.test.type.Type.__name__=["nfuzion","message","test","type","Type"];a.message.test.type.Type.__super__=a.message.generic.type.TypeClass;
a.message.test.type.Type.prototype=h(a.message.generic.type.TypeClass.prototype,{test:null,__class__:a.message.test.type.Type});a.message.test.type.Enum=f["nfuzion.message.test.type.Enum"]={__ename__:["nfuzion","message","test","type","Enum"],__constructs__:["alpha","bravo","charlie","delta"]};a.message.test.type.Enum.alpha=["alpha",0];a.message.test.type.Enum.alpha.toString=m;a.message.test.type.Enum.alpha.__enum__=a.message.test.type.Enum;a.message.test.type.Enum.bravo=["bravo",1];a.message.test.type.Enum.bravo.toString=
m;a.message.test.type.Enum.bravo.__enum__=a.message.test.type.Enum;a.message.test.type.Enum.charlie=["charlie",2];a.message.test.type.Enum.charlie.toString=m;a.message.test.type.Enum.charlie.__enum__=a.message.test.type.Enum;a.message.test.type.Enum.delta=["delta",3];a.message.test.type.Enum.delta.toString=m;a.message.test.type.Enum.delta.__enum__=a.message.test.type.Enum;a.message.test.LetTest=function(c,b,d,e,k,f,g){a.message.generic.templates.Let.call(this);this.a=c;this.b=b;this.c=d;this.d=e;
this.e=k;this.f=f;this.g=g};f["nfuzion.message.test.LetTest"]=a.message.test.LetTest;a.message.test.LetTest.__name__=["nfuzion","message","test","LetTest"];a.message.test.LetTest.__super__=a.message.generic.templates.Let;a.message.test.LetTest.prototype=h(a.message.generic.templates.Let.prototype,{g:null,f:null,e:null,d:null,c:null,b:null,a:null,__class__:a.message.test.LetTest});a.message.tts={};a.message.tts.SetCacheText=function(c){a.message.generic.templates.SetString.call(this,c)};f["nfuzion.message.tts.SetCacheText"]=
a.message.tts.SetCacheText;a.message.tts.SetCacheText.__name__=["nfuzion","message","tts","SetCacheText"];a.message.tts.SetCacheText.__super__=a.message.generic.templates.SetString;a.message.tts.SetCacheText.prototype=h(a.message.generic.templates.SetString.prototype,{__class__:a.message.tts.SetCacheText});a.message.tts.type={};a.message.tts.type.CacheTypes=f["nfuzion.message.tts.type.CacheTypes"]={__ename__:["nfuzion","message","tts","type","CacheTypes"],__constructs__:["ALL","DYNAMIC","STATIC",
"PHRASE"]};a.message.tts.type.CacheTypes.ALL=["ALL",0];a.message.tts.type.CacheTypes.ALL.toString=m;a.message.tts.type.CacheTypes.ALL.__enum__=a.message.tts.type.CacheTypes;a.message.tts.type.CacheTypes.DYNAMIC=["DYNAMIC",1];a.message.tts.type.CacheTypes.DYNAMIC.toString=m;a.message.tts.type.CacheTypes.DYNAMIC.__enum__=a.message.tts.type.CacheTypes;a.message.tts.type.CacheTypes.STATIC=["STATIC",2];a.message.tts.type.CacheTypes.STATIC.toString=m;a.message.tts.type.CacheTypes.STATIC.__enum__=a.message.tts.type.CacheTypes;
a.message.tts.type.CacheTypes.PHRASE=["PHRASE",3];a.message.tts.type.CacheTypes.PHRASE.toString=m;a.message.tts.type.CacheTypes.PHRASE.__enum__=a.message.tts.type.CacheTypes;a.message.tts.SetClearCache=function(c,b){a.message.generic.templates.SetString.call(this,b);this.cache=c};f["nfuzion.message.tts.SetClearCache"]=a.message.tts.SetClearCache;a.message.tts.SetClearCache.__name__=["nfuzion","message","tts","SetClearCache"];a.message.tts.SetClearCache.__super__=a.message.generic.templates.SetString;
a.message.tts.SetClearCache.prototype=h(a.message.generic.templates.SetString.prototype,{cache:null,__class__:a.message.tts.SetClearCache});a.message.tts.SetText=function(c){a.message.generic.templates.SetString.call(this,c)};f["nfuzion.message.tts.SetText"]=a.message.tts.SetText;a.message.tts.SetText.__name__=["nfuzion","message","tts","SetText"];a.message.tts.SetText.__super__=a.message.generic.templates.SetString;a.message.tts.SetText.prototype=h(a.message.generic.templates.SetString.prototype,
{__class__:a.message.tts.SetText});a.message.vehicle={};a.message.vehicle.LetABS=function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.vehicle.LetABS"]=a.message.vehicle.LetABS;a.message.vehicle.LetABS.__name__=["nfuzion","message","vehicle","LetABS"];a.message.vehicle.LetABS.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetABS.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetABS});a.message.vehicle.LetAirbag=function(c){a.message.generic.templates.LetBool.call(this,
c)};f["nfuzion.message.vehicle.LetAirbag"]=a.message.vehicle.LetAirbag;a.message.vehicle.LetAirbag.__name__=["nfuzion","message","vehicle","LetAirbag"];a.message.vehicle.LetAirbag.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetAirbag.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetAirbag});a.message.vehicle.LetBattery=function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.vehicle.LetBattery"]=a.message.vehicle.LetBattery;
a.message.vehicle.LetBattery.__name__=["nfuzion","message","vehicle","LetBattery"];a.message.vehicle.LetBattery.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetBattery.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetBattery});a.message.vehicle.LetDistanceToEmpty=function(c){a.message.generic.templates.LetFloat.call(this,c)};f["nfuzion.message.vehicle.LetDistanceToEmpty"]=a.message.vehicle.LetDistanceToEmpty;a.message.vehicle.LetDistanceToEmpty.__name__=
["nfuzion","message","vehicle","LetDistanceToEmpty"];a.message.vehicle.LetDistanceToEmpty.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetDistanceToEmpty.prototype=h(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetDistanceToEmpty});a.message.vehicle.LetEmergencyBrake=function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.vehicle.LetEmergencyBrake"]=a.message.vehicle.LetEmergencyBrake;a.message.vehicle.LetEmergencyBrake.__name__=
["nfuzion","message","vehicle","LetEmergencyBrake"];a.message.vehicle.LetEmergencyBrake.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetEmergencyBrake.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetEmergencyBrake});a.message.vehicle.LetFuel=function(c){a.message.generic.templates.LetFloat.call(this,c)};f["nfuzion.message.vehicle.LetFuel"]=a.message.vehicle.LetFuel;a.message.vehicle.LetFuel.__name__=["nfuzion","message","vehicle","LetFuel"];
a.message.vehicle.LetFuel.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetFuel.prototype=h(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetFuel});a.message.vehicle.LetGoodbye=function(){a.message.generic.templates.Let.call(this)};f["nfuzion.message.vehicle.LetGoodbye"]=a.message.vehicle.LetGoodbye;a.message.vehicle.LetGoodbye.__name__=["nfuzion","message","vehicle","LetGoodbye"];a.message.vehicle.LetGoodbye.__super__=a.message.generic.templates.Let;
a.message.vehicle.LetGoodbye.prototype=h(a.message.generic.templates.Let.prototype,{__class__:a.message.vehicle.LetGoodbye});a.message.vehicle.LetHighBeam=function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.vehicle.LetHighBeam"]=a.message.vehicle.LetHighBeam;a.message.vehicle.LetHighBeam.__name__=["nfuzion","message","vehicle","LetHighBeam"];a.message.vehicle.LetHighBeam.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetHighBeam.prototype=h(a.message.generic.templates.LetBool.prototype,
{__class__:a.message.vehicle.LetHighBeam});a.message.vehicle.LetOdometer=function(c){a.message.generic.templates.LetFloat.call(this,c)};f["nfuzion.message.vehicle.LetOdometer"]=a.message.vehicle.LetOdometer;a.message.vehicle.LetOdometer.__name__=["nfuzion","message","vehicle","LetOdometer"];a.message.vehicle.LetOdometer.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetOdometer.prototype=h(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetOdometer});
a.message.vehicle.LetOil=function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.vehicle.LetOil"]=a.message.vehicle.LetOil;a.message.vehicle.LetOil.__name__=["nfuzion","message","vehicle","LetOil"];a.message.vehicle.LetOil.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetOil.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetOil});a.message.vehicle.LetSeatBelt=function(c){a.message.generic.templates.LetBool.call(this,
c)};f["nfuzion.message.vehicle.LetSeatBelt"]=a.message.vehicle.LetSeatBelt;a.message.vehicle.LetSeatBelt.__name__=["nfuzion","message","vehicle","LetSeatBelt"];a.message.vehicle.LetSeatBelt.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetSeatBelt.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetSeatBelt});a.message.vehicle.LetSpeed=function(c){a.message.generic.templates.LetFloat.call(this,c)};f["nfuzion.message.vehicle.LetSpeed"]=a.message.vehicle.LetSpeed;
a.message.vehicle.LetSpeed.__name__=["nfuzion","message","vehicle","LetSpeed"];a.message.vehicle.LetSpeed.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetSpeed.prototype=h(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetSpeed});a.message.vehicle.LetStarted=function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.vehicle.LetStarted"]=a.message.vehicle.LetStarted;a.message.vehicle.LetStarted.__name__=["nfuzion","message","vehicle",
"LetStarted"];a.message.vehicle.LetStarted.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetStarted.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetStarted});a.message.vehicle.LetTractionControl=function(c){a.message.generic.templates.LetBool.call(this,c)};f["nfuzion.message.vehicle.LetTractionControl"]=a.message.vehicle.LetTractionControl;a.message.vehicle.LetTractionControl.__name__=["nfuzion","message","vehicle","LetTractionControl"];
a.message.vehicle.LetTractionControl.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetTractionControl.prototype=h(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetTractionControl});a.message.vehicle.type={};a.message.vehicle.type.TransmissionState=f["nfuzion.message.vehicle.type.TransmissionState"]={__ename__:["nfuzion","message","vehicle","type","TransmissionState"],__constructs__:"park reverse nuetral overdrive drive low2 low1".split(" ")};a.message.vehicle.type.TransmissionState.park=
["park",0];a.message.vehicle.type.TransmissionState.park.toString=m;a.message.vehicle.type.TransmissionState.park.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.reverse=["reverse",1];a.message.vehicle.type.TransmissionState.reverse.toString=m;a.message.vehicle.type.TransmissionState.reverse.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.nuetral=["nuetral",2];a.message.vehicle.type.TransmissionState.nuetral.toString=
m;a.message.vehicle.type.TransmissionState.nuetral.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.overdrive=["overdrive",3];a.message.vehicle.type.TransmissionState.overdrive.toString=m;a.message.vehicle.type.TransmissionState.overdrive.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.drive=["drive",4];a.message.vehicle.type.TransmissionState.drive.toString=m;a.message.vehicle.type.TransmissionState.drive.__enum__=
a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.low2=["low2",5];a.message.vehicle.type.TransmissionState.low2.toString=m;a.message.vehicle.type.TransmissionState.low2.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.low1=["low1",6];a.message.vehicle.type.TransmissionState.low1.toString=m;a.message.vehicle.type.TransmissionState.low1.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.LetTransmission=function(c){a.message.generic.templates.Let.call(this);
this.state=c};f["nfuzion.message.vehicle.LetTransmission"]=a.message.vehicle.LetTransmission;a.message.vehicle.LetTransmission.__name__=["nfuzion","message","vehicle","LetTransmission"];a.message.vehicle.LetTransmission.__super__=a.message.generic.templates.Let;a.message.vehicle.LetTransmission.prototype=h(a.message.generic.templates.Let.prototype,{state:null,__class__:a.message.vehicle.LetTransmission});a.message.vehicle.type.TurnSignalState=f["nfuzion.message.vehicle.type.TurnSignalState"]={__ename__:["nfuzion",
"message","vehicle","type","TurnSignalState"],__constructs__:["none","left","right","both"]};a.message.vehicle.type.TurnSignalState.none=["none",0];a.message.vehicle.type.TurnSignalState.none.toString=m;a.message.vehicle.type.TurnSignalState.none.__enum__=a.message.vehicle.type.TurnSignalState;a.message.vehicle.type.TurnSignalState.left=["left",1];a.message.vehicle.type.TurnSignalState.left.toString=m;a.message.vehicle.type.TurnSignalState.left.__enum__=a.message.vehicle.type.TurnSignalState;a.message.vehicle.type.TurnSignalState.right=
["right",2];a.message.vehicle.type.TurnSignalState.right.toString=m;a.message.vehicle.type.TurnSignalState.right.__enum__=a.message.vehicle.type.TurnSignalState;a.message.vehicle.type.TurnSignalState.both=["both",3];a.message.vehicle.type.TurnSignalState.both.toString=m;a.message.vehicle.type.TurnSignalState.both.__enum__=a.message.vehicle.type.TurnSignalState;a.message.vehicle.LetTurnSignal=function(c){a.message.generic.templates.Let.call(this);this.state=c};f["nfuzion.message.vehicle.LetTurnSignal"]=
a.message.vehicle.LetTurnSignal;a.message.vehicle.LetTurnSignal.__name__=["nfuzion","message","vehicle","LetTurnSignal"];a.message.vehicle.LetTurnSignal.__super__=a.message.generic.templates.Let;a.message.vehicle.LetTurnSignal.prototype=h(a.message.generic.templates.Let.prototype,{state:null,__class__:a.message.vehicle.LetTurnSignal});a.message.vehicle.LetWaterTemperature=function(c){a.message.generic.templates.LetFloat.call(this,c)};f["nfuzion.message.vehicle.LetWaterTemperature"]=a.message.vehicle.LetWaterTemperature;
a.message.vehicle.LetWaterTemperature.__name__=["nfuzion","message","vehicle","LetWaterTemperature"];a.message.vehicle.LetWaterTemperature.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetWaterTemperature.prototype=h(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetWaterTemperature});a.message.vehicle.LetWelcome=function(c,b){a.message.generic.templates.Let.call(this);this.title=c;this.subtitle=b};f["nfuzion.message.vehicle.LetWelcome"]=a.message.vehicle.LetWelcome;
a.message.vehicle.LetWelcome.__name__=["nfuzion","message","vehicle","LetWelcome"];a.message.vehicle.LetWelcome.__super__=a.message.generic.templates.Let;a.message.vehicle.LetWelcome.prototype=h(a.message.generic.templates.Let.prototype,{subtitle:null,title:null,__class__:a.message.vehicle.LetWelcome});a.message.vr={};a.message.vr.SetCapture=function(c){a.message.generic.templates.SetBool.call(this,c)};f["nfuzion.message.vr.SetCapture"]=a.message.vr.SetCapture;a.message.vr.SetCapture.__name__=["nfuzion",
"message","vr","SetCapture"];a.message.vr.SetCapture.__super__=a.message.generic.templates.SetBool;a.message.vr.SetCapture.prototype=h(a.message.generic.templates.SetBool.prototype,{__class__:a.message.vr.SetCapture});a.moduleLink={};a.moduleLink.event={};a.moduleLink.event.MagicScrollEvent=function(c,b,d,e,k,f,g){a.event.Event.call(this,c);this.deltaX=b;this.deltaY=d;this.velocityX=e;this.velocityY=k;this.phase=f;this.fingerCount=g};f["nfuzion.moduleLink.event.MagicScrollEvent"]=a.moduleLink.event.MagicScrollEvent;
a.moduleLink.event.MagicScrollEvent.__name__=["nfuzion","moduleLink","event","MagicScrollEvent"];a.moduleLink.event.MagicScrollEvent.__super__=a.event.Event;a.moduleLink.event.MagicScrollEvent.prototype=h(a.event.Event.prototype,{fingerCount:null,phase:null,velocityY:null,velocityX:null,deltaY:null,deltaX:null,__class__:a.moduleLink.event.MagicScrollEvent});a.moduleLink.event.MediaPlayerEvent=function(c,b){a.event.Event.call(this,c);this.partialList=b};f["nfuzion.moduleLink.event.MediaPlayerEvent"]=
a.moduleLink.event.MediaPlayerEvent;a.moduleLink.event.MediaPlayerEvent.__name__=["nfuzion","moduleLink","event","MediaPlayerEvent"];a.moduleLink.event.MediaPlayerEvent.__super__=a.event.Event;a.moduleLink.event.MediaPlayerEvent.prototype=h(a.event.Event.prototype,{partialList:null,__class__:a.moduleLink.event.MediaPlayerEvent});a.nTactic.core={};a.nTactic.core.AppModel=function(){a.event.EventDispatcher.call(this);this.screenModels=[];this.screenDictionary=new g.ds.StringMap;for(var c=a.nTactic.NTactic.configurationXml.elementsNamed("model");c.hasNext();){var b=
c.next(),d=new a.nTactic.core.ScreenModel(this,a.nTactic.NTactic.layers);this.screenModels.push(d);d.initialize(b);null==this.defaultModel&&(this.defaultModel=d);d.addEventListener("goto",l(this,this.propagateEvent));d.addEventListener("afterGoto",l(this,this.propagateEvent));d.addEventListener("branchLoaded",l(this,this.propagateEvent))}};f["nfuzion.nTactic.core.AppModel"]=a.nTactic.core.AppModel;a.nTactic.core.AppModel.__name__=["nfuzion","nTactic","core","AppModel"];a.nTactic.core.AppModel.__super__=
a.event.EventDispatcher;a.nTactic.core.AppModel.prototype=h(a.event.EventDispatcher.prototype,{exit:function(a){this.getModel(a).exit()},captureExit:function(a){this.getModel(a).captureExit()},setExit:function(a){this.getModel(a).setExit()},back:function(a){this.getModel(a).back()},"goto":function(a,b,d){null==d&&(d=!0);g.Log.trace("NOTICE: Loading: "+a,{fileName:"AppModel.hx",lineNumber:158,className:"nfuzion.nTactic.core.AppModel",methodName:"goto"});a=a.split(":");if(1<a.length){var e;e=this.getModel(a[0]);
if(null!=e)e["goto"](a[1],b,d);else g.Log.trace("ERROR: Could not find screen model: "+a[0],{fileName:"AppModel.hx",lineNumber:173,className:"nfuzion.nTactic.core.AppModel",methodName:"goto"})}else this.defaultModel["goto"](a[0],b,d)},propagateEvent:function(a){this.dispatchEvent(a)},onInitialBranchLoaded:function(c){null!=c&&(c=this.getModel(c.modelId),c.removeEventListener("branchLoaded",l(this,this.onInitialBranchLoaded)),c.initialBranchLoaded=!0);for(var b=!0,d=0,e=this.screenModels;d<e.length;)if(c=
e[d],++d,null!=c.initialBranch&&""!=c.initialBranch&&!c.initialBranchLoaded){b=!1;break}b&&a.nTactic.NTactic.stage.set_visible(!0)},loadInitialScreens:function(){for(var a=0,b=this.screenModels;a<b.length;){var d=b[a];++a;if(null!=d.initialBranch&&""!=d.initialBranch)if(d["goto"](d.initialBranch),d.initialBranchLoaded)this.onInitialBranchLoaded();else d.addEventListener("branchLoaded",l(this,this.onInitialBranchLoaded))}},loadScreenModelBranch:function(a,b,d){for(var e=0,k=this.screenModels.length;e<
k;){var f=e++;if(a==this.screenModels[f].id){this.screenModels[f]["goto"](b,d);break}}},getModel:function(a){if(null==a)return this.defaultModel;for(var b=0,d=this.screenModels.length;b<d;){var e=b++;if(this.screenModels[e].id==a)return this.screenModels[e]}return null},getInitialBranch:function(a){try{return this.getModel(a).initialBranch}catch(b){if(!q.Boot.__instanceof(b,String))throw b;}return""},mInitialGoto:null,screenDictionary:null,screenModels:null,defaultModel:null,__class__:a.nTactic.core.AppModel});
a.nTactic.core.AppView=function(){};f["nfuzion.nTactic.core.AppView"]=a.nTactic.core.AppView;a.nTactic.core.AppView.__name__=["nfuzion","nTactic","core","AppView"];a.nTactic.core.AppView.prototype={getLayer:function(c){var b=null,d=a.nTactic.NTactic.stage.getChild(a.nTactic.core.Layer.getName(c));null!=d&&(b=d);if(null==b){for(var d=-1,b=0,e=a.nTactic.NTactic.stage.get_childCount();b<e;){var k=b++,f=a.nTactic.NTactic.stage.getChildAt(k);if(q.Boot.__instanceof(f,a.nTactic.core.Layer)&&f.depth>c){d=
k;break}}-1==d&&(d=a.nTactic.NTactic.stage.get_childCount());b=new a.nTactic.core.Layer(c);a.nTactic.NTactic.stage.insertChild(b,d)}return b},removeScreen:function(a){this.getLayer(a.depth).removeScreen(a)},addScreen:function(a){this.getLayer(a.depth).addScreen(a)},__class__:a.nTactic.core.AppView};a.nTactic.core.BranchHistory=function(a,b){this.branch=a;this.modelData=b};f["nfuzion.nTactic.core.BranchHistory"]=a.nTactic.core.BranchHistory;a.nTactic.core.BranchHistory.__name__=["nfuzion","nTactic",
"core","BranchHistory"];a.nTactic.core.BranchHistory.prototype={modelData:null,branch:null,__class__:a.nTactic.core.BranchHistory};a.nTactic.core.ICacheManager=function(){};f["nfuzion.nTactic.core.ICacheManager"]=a.nTactic.core.ICacheManager;a.nTactic.core.ICacheManager.__name__=["nfuzion","nTactic","core","ICacheManager"];a.nTactic.core.ICacheManager.prototype={clearCache:null,release:null,use:null,cacheAll:null,__class__:a.nTactic.core.ICacheManager};a.nTactic.core.CacheManager=function(){this.set_cacheAll(!0)};
f["nfuzion.nTactic.core.CacheManager"]=a.nTactic.core.CacheManager;a.nTactic.core.CacheManager.__name__=["nfuzion","nTactic","core","CacheManager"];a.nTactic.core.CacheManager.__interfaces__=[a.nTactic.core.ICacheManager];a.nTactic.core.CacheManager.prototype={clearCache:function(){a.nTactic.NTactic.cache.destroyAll()},release:function(c){this.cacheAll||134217727==a.nTactic.NTactic.cache.getRecord(c).priority||a.nTactic.NTactic.cache.destroy(c)},use:function(a){},set_cacheAll:function(a){a||this.clearCache();
return this.cacheAll=a},cacheAll:null,__class__:a.nTactic.core.CacheManager,__properties__:{set_cacheAll:"set_cacheAll"}};a.nTactic.core.Screen=function(c,b){null==b&&(b=!0);this.modelData=null;this.screenInitialized=!1;this.useBuilder=!0;this.subScreens=[];this.imageRecords=new g.ds.StringMap;this.imageLoaders=new g.ds.StringMap;this.graphicsClassName=c;this.listenerManager=new a.event.ListenerManager;this.pendingImages=new g.ds.StringMap;this.set_screen(this);this.ready=!0;null==this.graphicsClassName&&
(this.graphicsClassName=p.getClassName(p.getClass(this)),this.graphicsClassName=r.substr(this.graphicsClassName,this.graphicsClassName.lastIndexOf(".")+1,null));a.graphics.Container.call(this,"Screen("+this.graphicsClassName+")");b&&this.set_layout(new a.layout.SnapParentEdges)};f["nfuzion.nTactic.core.Screen"]=a.nTactic.core.Screen;a.nTactic.core.Screen.__name__=["nfuzion","nTactic","core","Screen"];a.nTactic.core.Screen.__interfaces__=[a.event.IListenerManager];a.nTactic.core.Screen.__super__=a.graphics.Container;
a.nTactic.core.Screen.prototype=h(a.graphics.Container.prototype,{removeSubScreen:function(a){r.remove(this.subScreens,a);this.entered||(a.removeListeners(),a.exitScreen())},addSubScreen:function(a){this.subScreens.push(a);a.screenInitialized||(a.model=this.model,a.initializeScreen(),a.screenInitialized=!0);this.entered&&(a.addListeners(),a.enterScreen())},set_screen:function(a){if(null==a)return this.screen=null;this.screen=this;return this},getWidget:function(a){return this.group.getWidget(a)},
detatchAllImages:function(){for(var c=this.imageRecords.keys();c.hasNext();){var b=c.next();a.nTactic.NTactic.imageManager.remove(b)}this.imageRecords=new g.ds.StringMap},onReady:function(){g.Log.trace(" ** *  *   *     *  Screen "+this.graphicsClassName+" is ready!  *    *   *  * ** ",{fileName:"Screen.hx",lineNumber:402,className:"nfuzion.nTactic.core.Screen",methodName:"onReady"});this.initalGraphicsLoaded=!0;this.dispatchEvent(new a.nTactic.event.ScreenEvent("ready",this))},onImageReady:function(a){null!=
a&&(a=a.target,this.pendingImages.remove(a.url),a.removeEventListener("ImageEvent.ready",l(this,this.onImageReady)),a.removeEventListener("ImageEvent.error",l(this,this.onImageError)));for(var b=!0,d=function(a){return function(){return a.iterator()}}(this.pendingImages)();d.hasNext();)if(a=d.next(),!a.ready){b=!1;break}if(this.ready=b)this.onReady()},onImageError:function(a){a=a.target;this.pendingImages.remove(a.url);a.removeEventListener("ImageEvent.ready",l(this,this.onImageReady));a.removeEventListener("ImageEvent.error",
l(this,this.onImageError));this.onImageReady()},detatchImage:function(c){if(null!=c&&""!=c)if(this.imageRecords.exists(c)){var b=this.imageRecords.get(c);1<b?this.imageRecords.set(c,this.imageRecords.get(c)-1):1==b&&(this.imageRecords.remove(c),c=a.nTactic.NTactic.imageManager.remove(c),null==c||c.ready||(this.pendingImages.remove(c.url),this.detachListener(c,"ImageEvent.ready",l(this,this.onImageReady)),this.detachListener(c,"ImageEvent.error",l(this,this.onImageError))))}else g.Log.trace("WARNING: cannot detatch image "+
c,{fileName:"Screen.hx",lineNumber:355,className:"nfuzion.nTactic.core.Screen",methodName:"detatchImage"})},attachImage:function(c,b){null==b&&(b=!1);if(null!=c&&""!=c){if(this.imageRecords.exists(c))return this.imageRecords.set(c,this.imageRecords.get(c)+1),a.nTactic.NTactic.imageManager.cite(c);this.imageRecords.set(c,1);var d=a.nTactic.NTactic.imageManager.add(c);d.ready||!b||this.initalGraphicsLoaded||(this.ready=!1,this.attachListener(d,"ImageEvent.ready",l(this,this.onImageReady)),this.attachListener(d,
"ImageEvent.error",l(this,this.onImageError)),this.pendingImages.set(d.url,d));return d}return null},getImage:function(a){return this.attachImage(a)},removeImage:function(a){this.detatchImage(a)},addImage:function(a){return this.attachImage(a,!0)},onComponentImageLoaded:function(a){a=a.imageLoader;this.detachListener(a,"ImageLoaderEvent.complete",l(this,this.onComponentImageLoaded));this.imageLoaders.remove(a.url+a.component.name);a.destroy()},setComponentImage:function(c,b,d,e){""!=b&&null!=b?this.imageLoaders.exists(b+
c.name)||(d=new a.image.ImageLoader(b,c,d,e),d.complete?d.destroy():(this.imageLoaders.set(b+c.name,d),this.attachListener(d,"ImageLoaderEvent.complete",l(this,this.onComponentImageLoaded)))):c.gotoDefault()},detachAllListeners:function(){this.listenerManager.detachAllListeners()},swapListener:function(a,b,d,e){null==e&&(e=0);this.listenerManager.swapListener(a,b,d,e)},detachListener:function(a,b,d){this.listenerManager.detachListener(a,b,d)},attachListener:function(a,b,d,e){null==e&&(e=0);this.listenerManager.attachListener(a,
b,d,e)},modelDataChanged:function(){for(var a=0,b=this.subScreens;a<b.length;){var d=b[a];++a;d.modelDataChanged()}},set_modelData:function(a){this.model.modelData=a;return this.model.modelData},get_modelData:function(){return this.model.modelData},modelData:null,exitScreen:function(){this.entered=!1;this.group.removedFromStage();for(var a=0,b=this.subScreens;a<b.length;){var d=b[a];++a;d.exitScreen()}},removeListeners:function(){this.detachAllListeners();for(var a=0,b=this.subScreens;a<b.length;){var d=
b[a];++a;d.removeListeners()}},enterScreen:function(){this.entered=!0;this.group.addedToStage();for(var a=0,b=this.subScreens;a<b.length;){var d=b[a];++a;d.enterScreen()}},addListeners:function(){for(var a=0,b=this.subScreens;a<b.length;){var d=b[a];++a;d.addListeners()}},initializeScreen:function(){this.useBuilder&&(a.nTactic.NTactic.builder.buildOver(this.graphicsClassName,this)||g.Log.trace("ERROR: Screen graphics class not found for "+this.graphicsClassName+".  A ghost screen will be created.",
{fileName:"Screen.hx",lineNumber:104,className:"nfuzion.nTactic.core.Screen",methodName:"initializeScreen"}));this.group=new a.widget.Group(this.graphicsClassName,this)},destroy:function(){this.group.destroy();this.group=null;this.orphan();a.graphics.Container.prototype.destroy.call(this);this.detatchAllImages();for(var c=this.imageLoaders.keys();c.hasNext();){var b=c.next(),b=this.imageLoaders.get(b);this.detachListener(b,"ImageLoaderEvent.complete",l(this,this.onComponentImageLoaded));b.destroy()}this.pendingImages=
this.imageRecords=this.listenerManager=null},model:null,screenInitialized:null,subScreens:null,initalGraphicsLoaded:null,imageLoaders:null,ready:null,pendingImages:null,imageRecords:null,graphicsClassName:null,group:null,entered:null,listenerManager:null,branch:null,depth:null,useBuilder:null,__class__:a.nTactic.core.Screen,__properties__:h(a.graphics.Container.prototype.__properties__,{set_modelData:"set_modelData",get_modelData:"get_modelData"})});a.nTactic.core.DynamicScreen=function(c){null==
c&&(c="");a.nTactic.core.Screen.call(this,c)};f["nfuzion.nTactic.core.DynamicScreen"]=a.nTactic.core.DynamicScreen;a.nTactic.core.DynamicScreen.__name__=["nfuzion","nTactic","core","DynamicScreen"];a.nTactic.core.DynamicScreen.__super__=a.nTactic.core.Screen;a.nTactic.core.DynamicScreen.prototype=h(a.nTactic.core.Screen.prototype,{setupWidgets:function(){},formatPath:function(c){s.startsWith(c,"./")&&(c=a.nTactic.NTactic.assetsPath+r.substr(c,2,null));c=c.split("\\").join("/").split("/");for(var b=
[],d=0;d<c.length;){var e=c[d];++d;b.push(s.urlEncode(e))}return c=b.join("/")},setFont:function(c,b,d,e,k){var f=null;null==e&&(e=a.font.type.FontStyle.normal);null==k&&(k=a.font.type.FontWeight.normal);a.nTactic.NTactic.fontManager.set(c,b,d,e,k);return f=a.nTactic.NTactic.fontManager.get(c)},setPaint:function(c,b){var d=null,d=null,d=a.utility.ColorTools.fromString(b);a.nTactic.NTactic.paintManager.set(c,d);return d=a.nTactic.NTactic.paintManager.get(c)},createContainer:function(c,b,d,e,f){null==
f&&(f=0);null==e&&(e=0);c=new a.graphics.Container(c);c.setSquare(e,f,b,d);return c},layoutScreen:function(){},defineFonts:function(){},definePaints:function(){},initializeScreen:function(){this.useBuilder=!1;this.definePaints();this.defineFonts();this.layoutScreen();a.nTactic.core.Screen.prototype.initializeScreen.call(this);this.setupWidgets();this.onReady()},__class__:a.nTactic.core.DynamicScreen});a.nTactic.core.Layer=function(c){null==c&&(c=0);a.graphics.Container.call(this,a.nTactic.core.Layer.getName(c));
this.depth=c;this.set_layout(new a.layout.SnapParentEdges)};f["nfuzion.nTactic.core.Layer"]=a.nTactic.core.Layer;a.nTactic.core.Layer.__name__=["nfuzion","nTactic","core","Layer"];a.nTactic.core.Layer.getName=function(a){return"layer:"+n.string(a)};a.nTactic.core.Layer.__super__=a.graphics.Container;a.nTactic.core.Layer.prototype=h(a.graphics.Container.prototype,{removeScreen:function(a){this.removeChild(a)},addScreen:function(a){this.appendChild(a)},depth:null,__class__:a.nTactic.core.Layer});a.nTactic.core.ScreenCache=
function(){a.event.EventDispatcher.call(this);this.screenRecords=new g.ds.StringMap};f["nfuzion.nTactic.core.ScreenCache"]=a.nTactic.core.ScreenCache;a.nTactic.core.ScreenCache.__name__=["nfuzion","nTactic","core","ScreenCache"];a.nTactic.core.ScreenCache.__super__=a.event.EventDispatcher;a.nTactic.core.ScreenCache.prototype=h(a.event.EventDispatcher.prototype,{destroyAll:function(){for(var a=function(a){return function(){return a.iterator()}}(this.screenRecords)();a.hasNext();)a.next().destroyScreen()},
destroy:function(a){var b=this.screenRecords.get(a);if(null!=b&&b.destroyScreen())return!0;g.Log.trace("NOTE: Could not destroy screen "+a,{fileName:"ScreenCache.hx",lineNumber:102,className:"nfuzion.nTactic.core.ScreenCache",methodName:"destroy"});return!1},release:function(c){this.screenRecords.exists(c)&&(g.Log.trace(" [ - ] Releasing screen: "+c,{fileName:"ScreenCache.hx",lineNumber:87,className:"nfuzion.nTactic.core.ScreenCache",methodName:"release"}),this.screenRecords.get(c).inUse=!1,a.nTactic.NTactic.cacheManager.release(c))},
createScreen:function(a,b){var d;d=a.className;var e=null;try{e=p.resolveClass(a.classPrefix+d)}catch(f){e=null}if(null==e)return g.Log.trace("FATAL: Could not instantiate '"+d+"'.  Check the screen name and verify that it is imported.",{fileName:"ScreenCache.hx",lineNumber:69,className:"nfuzion.nTactic.core.ScreenCache",methodName:"createScreen"}),!1;d=p.createInstance(e,[d]);d.depth=a.depth;d.branch=a.branch;d.model=b;d.initializeScreen();d.screenInitialized=!0;a.screen=d;return!0},get:function(c){null==
c.screen?(g.Log.trace(" [ + ] Creating Screen: "+c.branch,{fileName:"ScreenCache.hx",lineNumber:36,className:"nfuzion.nTactic.core.ScreenCache",methodName:"get"}),this.createScreen(c,a.nTactic.NTactic.screens.getModel(c.modelId))):g.Log.trace(" [ = ] Reusing screen: "+c.branch,{fileName:"ScreenCache.hx",lineNumber:41,className:"nfuzion.nTactic.core.ScreenCache",methodName:"get"});null!=c.screen&&(c.inUse=!0,a.nTactic.NTactic.cacheManager.use(c.branch));return c.screen},getRecord:function(a){return this.screenRecords.get(a)},
addRecord:function(a){this.screenRecords.set(a.branch,a)},screenRecords:null,__class__:a.nTactic.core.ScreenCache});a.nTactic.core.ScreenModel=function(c,b){a.event.EventDispatcher.call(this);this.mAppModel=c;this.mView=b;this.currentBranch="";this.mScreensToAdd=[];this.mScreensToRemove=[];this.mScreensToPresent=[];this.mBackHistory=[];this.mExitHistory=[];this.mMaxHistoryLength=this.mDefaultDepth=0;this.id="";this.initialBranchLoaded=!1};f["nfuzion.nTactic.core.ScreenModel"]=a.nTactic.core.ScreenModel;
a.nTactic.core.ScreenModel.__name__=["nfuzion","nTactic","core","ScreenModel"];a.nTactic.core.ScreenModel.__super__=a.event.EventDispatcher;a.nTactic.core.ScreenModel.prototype=h(a.event.EventDispatcher.prototype,{clearHistory:function(){0<this.mMaxHistoryLength&&(this.mBackHistory=[])},updateHistory:function(c,b){null==b&&(b=!1);0<this.mMaxHistoryLength&&(""!=c&&c!=this.currentBranch?this.mBackHistory.push(new a.nTactic.core.BranchHistory(this.currentBranch,this.modelData)):b&&this.mBackHistory.push(new a.nTactic.core.BranchHistory(this.currentBranch,
this.modelData)),50<this.mBackHistory.length&&this.mBackHistory.shift())},exit:function(){if(0<this.mMaxHistoryLength)if(0<this.mExitHistory.length){var a=this.mExitHistory.pop();this["goto"](a.branch,a.vars,!1)}else this.back()},captureExit:function(){if(0<this.mMaxHistoryLength){var a=this.mBackHistory.length-1;0<=a&&(0!=this.mExitHistory.length&&this.mExitHistory[this.mExitHistory.length-1]==this.mBackHistory[a]||this.mExitHistory.push(this.mBackHistory[a]),50<this.mExitHistory.length&&this.mExitHistory.shift())}},
setExit:function(){0<this.mMaxHistoryLength&&(this.mExitHistory.push(new a.nTactic.core.BranchHistory(this.currentBranch,this.mCurrentVars)),this.mExitHistory.length>this.mMaxHistoryLength&&this.mExitHistory.shift())},back:function(){if(0<this.mMaxHistoryLength&&0<this.mBackHistory.length){var a=this.mBackHistory.pop(),b="",d=null;null!=a&&(b=a.branch,d=a.modelData);this["goto"](b,d,!1)}},removeScreens:function(){for(var c;0<this.mScreensToRemove.length;){var b=[this.mScreensToRemove.shift()];this.mScreensToAdd=
D.array(D.filter(this.mScreensToAdd,function(a){return function(c){return c!=a[0]}}(b)));this.mScreensToPresent=D.array(D.filter(this.mScreensToPresent,function(a){return function(c){return c!=a[0]}}(b)));c=b[0].screen;null!=c&&(c.removeEventListener("ready",l(this,this.onScreenReady)),c.removeListeners(),c.exitScreen(),a.nTactic.NTactic.layers.removeScreen(c),a.nTactic.NTactic.cache.release(b[0].branch))}},showScreen:function(a){a.removeEventListener("ready",l(this,this.onScreenReady));a.set_visible(!0);
this.branchReady()},onScreenReady:function(a){this.showScreen(a.screen)},addScreens:function(){for(var c;0<this.mScreensToAdd.length;){var b=this.mScreensToAdd.shift();c=a.nTactic.NTactic.cache.get(b);null!=c&&(c.set_visible(!1),this.mView.addScreen(c),this.mScreensToPresent.push(b),c.model=this)}this.updateModelData();c=0;for(var d=this.mScreensToPresent;c<d.length;)b=d[c],++c,b=b.screen,b.initialized&&!b.entered&&(b.addListeners(),b.enterScreen()),b.addEventListener("ready",l(this,this.onScreenReady)),
b.ready&&this.showScreen(b);this.mScreensToPresent=[]},getScreenRecord:function(c){var b=a.nTactic.NTactic.cache.getRecord(this.id+":"+c);null==b&&g.Log.trace("WARNING: Could not locate screen branch: "+this.id+":"+c,{fileName:"ScreenModel.hx",lineNumber:383,className:"nfuzion.nTactic.core.ScreenModel",methodName:"getScreenRecord"});return b},getScreenRecords:function(a){var b=[];if(null!=a&&""!=a){a=a.split("/");var d=a.shift(),e=this.getScreenRecord(d);for(null!=e&&b.push(e);0<a.length;)d+="/"+
a.shift(),e=this.getScreenRecord(d),null!=e&&b.push(e)}return b},setScreensToAddOrRemove:function(a,b){this.oldBranchRecords=this.getScreenRecords(a);this.newBranchRecords=this.getScreenRecords(b);var d;if(0<this.oldBranchRecords.length)for(d=this.oldBranchRecords.length;-1<--d;)if(this.newBranchRecords.length<=d||this.newBranchRecords[d]!=this.oldBranchRecords[d])this.mScreensToRemove.push(this.oldBranchRecords[d]);else if(this.newBranchRecords[d]==this.oldBranchRecords[d])break;if(0<this.newBranchRecords.length)for(d=
this.newBranchRecords.length;-1<--d;)if(this.oldBranchRecords.length<=d||this.newBranchRecords[d]!=this.oldBranchRecords[d])this.mScreensToAdd.push(this.newBranchRecords[d]);else if(this.newBranchRecords[d]==this.oldBranchRecords[d])break},releaseScreens:function(c){if(null!=c)for(var b=0;b<c.length;){var d=c[b];++b;var e=a.nTactic.NTactic.cache.getRecord(this.id+":"+d);null!=e?(g.Log.trace("NOTE: Setting priority for "+e.branch+" to MIN",{fileName:"ScreenModel.hx",lineNumber:281,className:"nfuzion.nTactic.core.ScreenModel",
methodName:"releaseScreens"}),e.priority=134217728,e.inUse||a.nTactic.NTactic.cache.release(e.branch)):g.Log.trace("WARNING: could not find record for branch: "+d+" Screen will not be released",{fileName:"ScreenModel.hx",lineNumber:293,className:"nfuzion.nTactic.core.ScreenModel",methodName:"releaseScreens"})}},cacheScreens:function(c){if(null!=c)for(var b=0;b<c.length;){var d=c[b];++b;var e=a.nTactic.NTactic.cache.getRecord(this.id+":"+d);null!=e&&(g.Log.trace("Setting priority for "+e.branch+" to MAX",
{fileName:"ScreenModel.hx",lineNumber:243,className:"nfuzion.nTactic.core.ScreenModel",methodName:"cacheScreens"}),e.priority=134217727,null==e.screen?(g.Log.trace("NOTE: Preloading "+e.branch+".",{fileName:"ScreenModel.hx",lineNumber:248,className:"nfuzion.nTactic.core.ScreenModel",methodName:"cacheScreens"}),d=a.nTactic.NTactic.cache.get(e),a.nTactic.NTactic.cache.release(d.branch)):g.Log.trace("WARNING: could not find record for branch: "+d+" Screen will not be cached",{fileName:"ScreenModel.hx",
lineNumber:256,className:"nfuzion.nTactic.core.ScreenModel",methodName:"cacheScreens"}))}},branchReady:function(){for(var c=!0,b=0,d=this.newBranchRecords;b<d.length;){var e=d[b];++b;if(null!=e.screen&&!e.screen.ready){c=!1;break}}c&&(this.initialBranchLoaded=!0,this.dispatchEvent(new a.nTactic.event.ScreenModelEvent("branchLoaded",this.id,this.currentBranch)))},updateModelData:function(){if(""!=this.currentBranch)for(var a=this.currentBranch.split("/"),b="",d=0;d<a.length;){var e=a[d];++d;""!=b&&
(b+="/");b+=e;this.getScreenRecord(b).screen.modelDataChanged()}},"goto":function(c,b,d){null==d&&(d=!0);this.modelData=b;this.dispatchEvent(new a.nTactic.event.ScreenModelEvent("goto",this.id,c,b));this.setScreensToAddOrRemove(this.currentBranch,c);d&&this.updateHistory(c);this.currentBranch=c;0<this.mScreensToRemove.length&&this.removeScreens();0<this.mScreensToAdd.length?this.addScreens():this.updateModelData();this.branchReady();this.dispatchEvent(new a.nTactic.event.ScreenModelEvent("afterGoto",
this.id,this.currentBranch,b))},addScreenRecord:function(c,b){var d=new a.nTactic.core.ScreenRecord;d.className=c.get("id");d.classPrefix=this.classPrefix;d.modelId=this.id;for(var e=this.id+":",f=0;f<b.length;){var g=b[f];++f;e+=g+"/"}d.branch=e+d.className;d.depth=c.exists("depth")?n.parseInt(c.get("depth")):this.mDefaultDepth;c.exists("priority")?(e=c.get("priority"),d.priority="max"==e?134217727:"min"==e?134217728:n.parseInt(e)):d.priority=0;a.nTactic.NTactic.cache.addRecord(d);e=b.slice();e.push(d.className);
for(d=c.elements();d.hasNext();)f=d.next(),this.addScreenRecord(f,e)},createScreenRecords:function(a){for(a=a.elements();a.hasNext();){var b=a.next();this.addScreenRecord(b,[])}},initialize:function(a){a.exists("defaultDepth")&&(this.mDefaultDepth=n.parseInt(a.get("defaultDepth")));a.exists("historyLength")&&(this.mMaxHistoryLength=n.parseInt(a.get("historyLength")));a.exists("initialBranch")?this.initialBranch=a.get("initialBranch"):this.initialBranch="";this.classPrefix=a.get("classPrefix");null==
this.classPrefix&&(this.classPrefix="screen.");this.id=a.get("id");this.createScreenRecords(a)},modelData:null,initialBranchLoaded:null,newBranchRecords:null,oldBranchRecords:null,initialBranchRecords:null,classPrefix:null,mMaxHistoryLength:null,mDefaultDepth:null,mCurrentVars:null,mExitHistory:null,mBackHistory:null,mScreensToPresent:null,mScreensToRemove:null,mScreensToAdd:null,mView:null,mAppModel:null,initialBranch:null,currentBranch:null,id:null,__class__:a.nTactic.core.ScreenModel});a.nTactic.core.ScreenRecord=
function(){this.inUse=!1};f["nfuzion.nTactic.core.ScreenRecord"]=a.nTactic.core.ScreenRecord;a.nTactic.core.ScreenRecord.__name__=["nfuzion","nTactic","core","ScreenRecord"];a.nTactic.core.ScreenRecord.prototype={destroyScreen:function(){var a=!1;null==this.screen||this.inUse||this.screen.entered||(g.Log.trace(" [ X ] Destroying screen: "+this.branch,{fileName:"ScreenRecord.hx",lineNumber:34,className:"nfuzion.nTactic.core.ScreenRecord",methodName:"destroyScreen"}),this.screen.destroy(),this.screen=
null,a=!0);this.priority=134217728;return a},inUse:null,screen:null,priority:null,depth:null,branch:null,modelId:null,classPrefix:null,className:null,__class__:a.nTactic.core.ScreenRecord};a.nTactic.core.SubScreen=function(c,b,d){this.parentGroup=c;a.nTactic.core.Screen.call(this,d,b);this.name="SubScreen("+this.graphicsClassName+")"};f["nfuzion.nTactic.core.SubScreen"]=a.nTactic.core.SubScreen;a.nTactic.core.SubScreen.__name__=["nfuzion","nTactic","core","SubScreen"];a.nTactic.core.SubScreen.__super__=
a.nTactic.core.Screen;a.nTactic.core.SubScreen.prototype=h(a.nTactic.core.Screen.prototype,{initializeScreen:function(){a.nTactic.core.Screen.prototype.initializeScreen.call(this);this.parentGroup.appendChild(this.group)},parentGroup:null,__class__:a.nTactic.core.SubScreen});a.nTactic.event={};a.nTactic.event.ScreenEvent=function(c,b){a.event.Event.call(this,c);this.screen=b};f["nfuzion.nTactic.event.ScreenEvent"]=a.nTactic.event.ScreenEvent;a.nTactic.event.ScreenEvent.__name__=["nfuzion","nTactic",
"event","ScreenEvent"];a.nTactic.event.ScreenEvent.__super__=a.event.Event;a.nTactic.event.ScreenEvent.prototype=h(a.event.Event.prototype,{screen:null,__class__:a.nTactic.event.ScreenEvent});a.nTactic.event.ScreenModelEvent=function(c,b,d,e){a.event.Event.call(this,c);this.modelId=b;this.branch=d;this.modelData=e};f["nfuzion.nTactic.event.ScreenModelEvent"]=a.nTactic.event.ScreenModelEvent;a.nTactic.event.ScreenModelEvent.__name__=["nfuzion","nTactic","event","ScreenModelEvent"];a.nTactic.event.ScreenModelEvent.__super__=
a.event.Event;a.nTactic.event.ScreenModelEvent.prototype=h(a.event.Event.prototype,{modelData:null,branch:null,modelId:null,__class__:a.nTactic.event.ScreenModelEvent});a.paint={};a.paint.Paint=function(c,b){a.event.EventDispatcher.call(this);this.name=c;null==b&&(b=a.type.Color.black);this.set_color(b)};f["nfuzion.paint.Paint"]=a.paint.Paint;a.paint.Paint.__name__=["nfuzion","paint","Paint"];a.paint.Paint.__super__=a.event.EventDispatcher;a.paint.Paint.prototype=h(a.event.EventDispatcher.prototype,
{set_color:function(c){p.enumEq(this.color,c)||(this.color=c,this.dispatchEvent(new a.paint.event.PaintEvent("PaintEvent.change",this)));return this.color},color:null,name:null,__class__:a.paint.Paint,__properties__:{set_color:"set_color"}});a.paint.PaintManager=function(){this.palette=new g.ds.StringMap};f["nfuzion.paint.PaintManager"]=a.paint.PaintManager;a.paint.PaintManager.__name__=["nfuzion","paint","PaintManager"];a.paint.PaintManager.prototype={get:function(c){var b=this.palette.get(c);null==
b&&(b=new a.paint.Paint(c),this.palette.set(c,b));return b},set:function(c,b){var d=this.palette.get(c);null==d&&(d=new a.paint.Paint(c,b),this.palette.set(c,d))},palette:null,__class__:a.paint.PaintManager};a.paint.event={};a.paint.event.PaintEvent=function(c,b){a.event.Event.call(this,c);this.target=b};f["nfuzion.paint.event.PaintEvent"]=a.paint.event.PaintEvent;a.paint.event.PaintEvent.__name__=["nfuzion","paint","event","PaintEvent"];a.paint.event.PaintEvent.__super__=a.event.Event;a.paint.event.PaintEvent.prototype=
h(a.event.Event.prototype,{target:null,__class__:a.paint.event.PaintEvent});a.physics={};a.physics.IPhysics=function(){};f["nfuzion.physics.IPhysics"]=a.physics.IPhysics;a.physics.IPhysics.__name__=["nfuzion","physics","IPhysics"];a.physics.IPhysics.__interfaces__=[a.event.IEventDispatcher];a.physics.IPhysics.prototype={onMagicScroll:null,bottomPadding:null,rowSize:null,touchTarget:null,step:null,scroller:null,orientation:null,length:null,destroy:null,__class__:a.physics.IPhysics};a.physics.Scrolling=
function(){this.scrollerGrabbed=this.repaintRequested=this.touching=!1;this.velocity=0;this.touchDragging=!1;this.touchDelta=0;this.lastTouchPoint=null;this.lastFrameTime=this.lastRawPosition=0;this.gliding=!1;this.bottomPadding=0;this.currentTouchId=null;a.event.EventDispatcher.call(this);this.orientation=a.type.Orientation.vertical;this.touchDragged=new a.geometry.Point;this.set_step(0);this.set_length(0);this.set_position(0);this.snapThreshold=10;this.set_rowSize(1)};f["nfuzion.physics.Scrolling"]=
a.physics.Scrolling;a.physics.Scrolling.__name__=["nfuzion","physics","Scrolling"];a.physics.Scrolling.__interfaces__=[a.physics.IPhysics];a.physics.Scrolling.__super__=a.event.EventDispatcher;a.physics.Scrolling.prototype=h(a.event.EventDispatcher.prototype,{onMagicScroll:function(c){var b=new a.geometry.Point(c.deltaX*a.nTactic.NTactic.stage._width,-c.deltaY*a.nTactic.NTactic.stage._height),d=new a.geometry.Point(c.velocityX*a.nTactic.NTactic.stage._width,-c.velocityY*a.nTactic.NTactic.stage._height);
this.processTouchDelta(b);switch(c.phase[1]){case 0:this.startDragging();break;case 2:this.stopDragging(),this.velocity=this.getTouchDelta(d)}},getTouchDelta:function(c){return this.orientation==a.type.Orientation.horizontal?c.x:c.y},onPaint:function(c){this.gliding||this.touching||(a.nTactic.NTactic.stage.removeEventListener("paint",l(this,this.onPaint)),this.repaintRequested=!1);c=this.rawPosition;if(this.gliding){var b=a.timer.Timer.now(),d=b-this.lastFrameTime,e=0;0>this.rawPosition?(e=c,this.velocity-=
200*e*d):0>=this.length?(e=c,this.velocity-=200*e*d):c>this.length&&(e=c-this.length,this.velocity-=200*e*d);if(Math.abs(this.velocity)<this.snapThreshold&&1>=Math.abs(e))this.onSnapThreshold();else{var f,g=0;0<this.velocity?(f=this.velocity-500*d,0>f?f=0:g=this.velocity*d+250*Math.pow(d,2)):(f=this.velocity+500*d,0<f?f=0:g=this.velocity*d-250*Math.pow(d,2));0!=this.velocity&&0==e&&(this.velocity=f);c+=g}this.lastFrameTime=b}c!=this.rawPosition&&(0<c&&0>=this.rawPosition||0>=this.length&&0>c&&0<=
this.rawPosition||c<this.length&&this.rawPosition>=this.length?(this.set_rawPosition(this.get_boundedPosition()),this.velocity=0):this.set_rawPosition(c));this.lastRawPosition!=this.rawPosition&&(this.lastRawPosition=this.rawPosition,this.dispatchEvent(new a.physics.event.PhysicsEvent("PhysicsEvent.change",this.get_position())));null!=this.scroller&&this.scroller.set_value(this.get_boundedPosition()/this.rowSize)},repaint:function(c){null==a.nTactic.NTactic.stage||this.repaintRequested||(this.repaintRequested=
!0,a.nTactic.NTactic.stage.addEventListener("paint",l(this,this.onPaint)))},processTouchDelta:function(c){this.touchDelta+=this.getTouchDelta(c);if(0!=this.touchDelta){var b=a.timer.Timer.now(),d=b-this.lastFrameTime;0!=d&&0.07<=d&&(d=this.touchDelta/d,this.velocity-=this.velocity/3,this.velocity-=d/3,this.touchDelta=0,this.lastFrameTime=b)}this.touchDragging||(this.touchDragged.x+=c.x,this.touchDragged.y+=c.y,15<Math.abs(this.touchDragged.get_length())&&(c.x=this.touchDragged.x,c.y=this.touchDragged.y,
this.touchDragged.x=0,this.touchDragged.y=0,this.touchDragging=!0,this.startMoving()));this.touchDragging&&this.set_rawPosition(this.rawPosition-this.getTouchDelta(c))},stopGliding:function(){this.gliding=!1;this.velocity=0;this.dispatchEvent(new a.physics.event.PhysicsEvent("PhysicsEvent.end",this.get_position()))},onSnapThreshold:function(){this.stopGliding()},stopDragging:function(){this.gliding=!0},startMoving:function(){this.dispatchEvent(new a.physics.event.PhysicsEvent("PhysicsEvent.begin",
this.get_position()))},startDragging:function(){this.gliding=!1;this.velocity=0;this.lastFrameTime=a.timer.Timer.now();this.repaint()},onTouchEnd:function(c){this.currentTouchId==c.id&&(this.onTouchMove(c),this.currentTouchId=null,this.touchDragging&&(this.touchDragging=!1,this.stopDragging(),c=a.timer.Timer.now(),0.1<=c-this.lastFrameTime&&(this.velocity=0,this.lastFrameTime=c)),this.touching=!1)},onTouchMove:function(c){if(this.currentTouchId==c.id){c.stopPropagation();var b=new a.geometry.Point(c.global.x-
this.lastTouchPoint.x,c.global.y-this.lastTouchPoint.y);this.lastTouchPoint=new a.geometry.Point(c.global.x,c.global.y);this.processTouchDelta(b)}},onTouchBegin:function(c){null==this.currentTouchId&&(this.touching=!0,c.stopPropagation(),this.currentTouchId=c.id,this.lastTouchPoint=new a.geometry.Point(c.global.x,c.global.y),this.startDragging())},onScrollerRelease:function(a){this.onScrollerPosition(a);this.stopGliding();this.scrollerGrabbed=!1},onScrollerPosition:function(a){this.touchDragging||
(this.stopGliding(),this.set_rawPosition(this.scroller.get_value()*this.rowSize));this.onPaint()},onScrollerGrab:function(a){this.startDragging();this.scrollerGrabbed=!0;this.onScrollerPosition(a)},destroy:function(){a.nTactic.NTactic.stage.removeEventListener("move",l(this,this.onTouchMove));a.nTactic.NTactic.stage.removeEventListener("end",l(this,this.onTouchEnd));a.nTactic.NTactic.stage.removeEventListener("paint",l(this,this.onPaint));null!=this.scroller&&(this.scroller.removeEventListener("ScrollerEvent.grab",
l(this,this.onScrollerGrab)),this.scroller.removeEventListener("ScrollerEvent.position",l(this,this.onScrollerPosition)),this.scroller.removeEventListener("ScrollerEvent.release",l(this,this.onScrollerRelease)),this.set_scroller(null));null!=this.touchTarget&&(this.touchTarget.removeEventListener("begin",l(this,this.onTouchBegin)),this.set_touchTarget(null));this.stopGliding()},set_touchTarget:function(c){null!=this.touchTarget&&(this.touchTarget.removeEventListener("begin",l(this,this.onTouchBegin)),
a.nTactic.NTactic.stage.removeEventListener("move",l(this,this.onTouchMove)),a.nTactic.NTactic.stage.removeEventListener("end",l(this,this.onTouchEnd)));this.touchTarget=c;null!=c&&(c.addEventListener("begin",l(this,this.onTouchBegin)),a.nTactic.NTactic.stage.addEventListener("move",l(this,this.onTouchMove)),a.nTactic.NTactic.stage.addEventListener("end",l(this,this.onTouchEnd)));return c},touchTarget:null,set_scroller:function(a){null!=this.scroller&&(this.scroller.removeEventListener("ScrollerEvent.grab",
l(this,this.onScrollerGrab)),this.scroller.removeEventListener("ScrollerEvent.position",l(this,this.onScrollerPosition)),this.scroller.removeEventListener("ScrollerEvent.release",l(this,this.onScrollerRelease)));this.scroller=a;null!=a&&(a.set_pageSize(this.step/this.rowSize),a.set_maximum(Math.ceil((this.length+this.step-this.bottomPadding)/this.rowSize)),a.set_value(this.get_position()/this.rowSize),a.addEventListener("ScrollerEvent.grab",l(this,this.onScrollerGrab)),a.addEventListener("ScrollerEvent.position",
l(this,this.onScrollerPosition)),a.addEventListener("ScrollerEvent.release",l(this,this.onScrollerRelease)));return a},scroller:null,set_position:function(a){0>a||0>=this.length?this.set_rawPosition(a/0.2):a>this.length?this.set_rawPosition(this.length+(a-this.length)/0.2):this.set_rawPosition(a);this.repaint();return a},get_position:function(){return 0>this.rawPosition||0>=this.length?0.2*this.rawPosition:this.rawPosition>this.length?this.length+0.2*(this.rawPosition-this.length):this.rawPosition},
get_boundedPosition:function(){return 0<this.length&&this.rawPosition>this.length?this.length:0>this.rawPosition||0>=this.length?0:this.rawPosition},set_rawPosition:function(a){return this.rawPosition=a},rawPosition:null,set_step:function(a){this.step=a;null!=this.scroller&&(this.scroller.set_pageSize(a/this.rowSize),this.scroller.set_maximum((this.length+a-this.bottomPadding)/this.rowSize));return a},step:null,set_length:function(a){0>a&&(a=0);this.length=a;null!=this.scroller&&this.scroller.set_maximum((a+
this.step-this.bottomPadding)/this.rowSize);this.get_position()>a&&this.set_position(a);return a},length:null,set_rowSize:function(a){return this.rowSize=a},rowSize:null,touching:null,repaintRequested:null,scrollerGrabbed:null,velocity:null,touchDragging:null,touchDragged:null,touchDelta:null,lastTouchPoint:null,lastRawPosition:null,lastFrameTime:null,gliding:null,bottomPadding:null,orientation:null,currentTouchId:null,snapThreshold:null,__class__:a.physics.Scrolling,__properties__:{set_rowSize:"set_rowSize",
set_length:"set_length",set_step:"set_step",set_rawPosition:"set_rawPosition",get_boundedPosition:"get_boundedPosition",set_position:"set_position",get_position:"get_position",set_scroller:"set_scroller",set_touchTarget:"set_touchTarget"}});a.physics.event={};a.physics.event.PhysicsEvent=function(c,b){a.event.Event.call(this,c);this.position=b};f["nfuzion.physics.event.PhysicsEvent"]=a.physics.event.PhysicsEvent;a.physics.event.PhysicsEvent.__name__=["nfuzion","physics","event","PhysicsEvent"];a.physics.event.PhysicsEvent.__super__=
a.event.Event;a.physics.event.PhysicsEvent.prototype=h(a.event.Event.prototype,{position:null,__class__:a.physics.event.PhysicsEvent});a.sketch={};a.sketch.ISketch=function(){};f["nfuzion.sketch.ISketch"]=a.sketch.ISketch;a.sketch.ISketch.__name__=["nfuzion","sketch","ISketch"];a.sketch.ISketch.__interfaces__=[a.event.IEventDispatcher];a.sketch.ISketch.prototype={getClass:null,ready:null,__class__:a.sketch.ISketch};a.sketch.XmlSketch=function(c){a.event.EventDispatcher.call(this);this.ready=!1;this.assets=
null;this.classes=new g.ds.StringMap;c=a.nTactic.NTactic.assetsPath+c;this.loader=new a.loader.TextLoader(c);this.loader.addEventListener("LoaderEvent.ready",l(this,this.onReady));this.mBluePrintPath=this.loader.url;c=this.mBluePrintPath.lastIndexOf("/");this.themePath=0<c?r.substr(this.mBluePrintPath,0,c+1):"";this.loader.request()};f["nfuzion.sketch.XmlSketch"]=a.sketch.XmlSketch;a.sketch.XmlSketch.__name__=["nfuzion","sketch","XmlSketch"];a.sketch.XmlSketch.__interfaces__=[a.sketch.ISketch];a.sketch.XmlSketch.__super__=
a.event.EventDispatcher;a.sketch.XmlSketch.prototype=h(a.event.EventDispatcher.prototype,{pahoUrl:function(a){a=a.split("\\").join("/").split("/");for(var b=[],d=0;d<a.length;){var e=a[d];++d;b.push(s.urlEncode(e))}return b.join("/")},getRelativePath:function(a){var b=a;s.startsWith(a,"./")&&(b=this.themePath+r.substr(a,2,null));return b},readContainer:function(c,b){null==b&&(b=!1);var d;d=b?new a.sketch.type.SketchContainer(c.get("name"),0,0,0,0):new a.sketch.type.SketchContainer(c.get("name"),n.parseInt(c.get("x")),
n.parseInt(c.get("y")),0,0);var e=c.get("class");null!=e?d.className=e:(b||d.setSize(n.parseInt(c.get("width")),n.parseInt(c.get("height"))),null!=c.get("visible")&&(d.visible="false"!=c.get("visible")),null!=c.get("alpha")&&(d.alpha=n.parseFloat(c.get("alpha"))),e=c.get("paint"),null!=e&&(d.backgroundPaint=a.nTactic.NTactic.paintManager.get(e)),e=c.get("borderPaint"),null!=e&&(d.borderPaint=a.nTactic.NTactic.paintManager.get(e)),null!=c.get("borderWidth")&&(d.borderWidth=n.parseInt(c.get("borderWidth"))),
e=c.get("scale"),null!=e&&"true"==e&&(d.scale=!0),this.readElement(c,d));return d},readElement:function(c,b){for(var d=c.elements();d.hasNext();){var e=d.next();switch(e.get_nodeName()){case "Guise":e=this.readContainer(e,!0);b.addGuise(e);break;case "Container":e=this.readContainer(e);b.appendChildSketch(e);break;case "Text":var f=new a.sketch.type.SketchText(e.get("name"),n.parseInt(e.get("x")),n.parseInt(e.get("y")),n.parseInt(e.get("width")),n.parseInt(e.get("height")));f.text=e.get("text");null!=
e.get("visible")&&(f.visible="false"!=e.get("visible"));null!=e.get("wrap")&&(f.wrap="true"==e.get("wrap"));var g=e.get("paint");null!=g&&(f.paint=a.nTactic.NTactic.paintManager.get(g));g=e.get("alignment");null!=g&&(f.alignment=p.createEnum(a.type.Alignment,g));e=e.get("font");null!=e&&(f.font=a.nTactic.NTactic.fontManager.get(e));b.appendChildSketch(f);break;case "Frame":var f=e.get("name"),g=null,h=e.get("fit");null!=h&&(g=p.createEnum(a.graphics.type.Fit,h));null==g&&(g=a.graphics.type.Fit.stretch);
e=new a.type.Frame(this.getRelativePath(this.pahoUrl(e.get("source"))),g,n.parseInt(e.get("x")),n.parseInt(e.get("y")),n.parseInt(e.get("width")),n.parseInt(e.get("height")));b.setFrame(f,e);break;case "Mask":g=null,h=e.get("fit"),null!=h&&(g=p.createEnum(a.graphics.type.Fit,h)),null==g&&(g=a.graphics.type.Fit.stretch),e=new a.type.Frame(this.getRelativePath(this.pahoUrl(e.get("source"))),g,n.parseInt(e.get("x")),n.parseInt(e.get("y")),b._width,b._height),b.mask=e}}},parseClasses:function(){for(var c=
this.assets.elementsNamed("Class");c.hasNext();){var b=c.next(),d=b.get("name"),e=new a.sketch.type.SketchContainer(d,0,0,n.parseInt(b.get("width")),n.parseInt(b.get("height")));this.readElement(b,e);this.classes.set(d,e)}},parsePalee:function(){for(var c=this.assets.elementsNamed("Paint");c.hasNext();){var b=c.next(),d=b.get("name"),e=null,b=b.get("color");null!=b&&(e=a.utility.ColorTools.fromString(b));a.nTactic.NTactic.paintManager.set(d,e)}},parseFonts:function(){for(var c=this.assets.elementsNamed("Font");c.hasNext();){var b=
c.next(),d=b.get("name"),e=this.getRelativePath(this.pahoUrl(b.get("source"))),f=n.parseFloat(b.get("size")),g=p.createEnum(a.font.type.FontStyle,b.get("style")),b=p.createEnum(a.font.type.FontWeight,b.get("weight"));a.nTactic.NTactic.fontManager.set(d,e,f,g,b)}},onReady:function(c){this.loader.removeEventListener("LoaderEvent.ready",l(this,this.onReady));if(null!=this.loader.data){try{this.assets=t.parse(this.loader.data).elementsNamed("Assets").next()}catch(b){g.Log.trace("ERROR: "+n.string(b),
{fileName:"XmlSketch.hx",lineNumber:80,className:"nfuzion.sketch.XmlSketch",methodName:"onReady"}),this.assets=null}if(null==this.assets){g.Log.trace("ERROR: No 'Assets' ag found.",{fileName:"XmlSketch.hx",lineNumber:85,className:"nfuzion.sketch.XmlSketch",methodName:"onReady"});return}this.parsePalee();this.parseFonts();this.parseClasses()}null==this.assets&&g.Log.trace("ERROR: No assets loaded.",{fileName:"XmlSketch.hx",lineNumber:94,className:"nfuzion.sketch.XmlSketch",methodName:"onReady"});this.ready=
!0;this.dispatchEvent(new a.sketch.event.SketchEvent("BuilderEvent.ready"))},getClass:function(a){return this.ready?this.classes.get(a):null},classes:null,loader:null,assets:null,themePath:null,mBluePrintPath:null,ready:null,__class__:a.sketch.XmlSketch});a.sketch.event={};a.sketch.event.SketchEvent=function(c){a.event.Event.call(this,c)};f["nfuzion.sketch.event.SketchEvent"]=a.sketch.event.SketchEvent;a.sketch.event.SketchEvent.__name__=["nfuzion","sketch","event","SketchEvent"];a.sketch.event.SketchEvent.__super__=
a.event.Event;a.sketch.event.SketchEvent.prototype=h(a.event.Event.prototype,{__class__:a.sketch.event.SketchEvent});a.sketch.type={};a.sketch.type.SketchComponent=function(c,b,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==b&&(b=0);this.alpha=1;a.geometry.Box.call(this,b,d,e,f);this.name=c;this.scale=!1;this.frames=new g.ds.StringMap;this.guises=new g.ds.StringMap;this.alpha=1;this.visible=!0};f["nfuzion.sketch.type.SketchComponent"]=a.sketch.type.SketchComponent;a.sketch.type.SketchComponent.__name__=
["nfuzion","sketch","type","SketchComponent"];a.sketch.type.SketchComponent.__super__=a.geometry.Box;a.sketch.type.SketchComponent.prototype=h(a.geometry.Box.prototype,{addGuise:function(a){this.guises.set(a.name,a)},setFrame:function(a,b){this.frames.iterator().hasNext()||(this.initialFrameName=a);this.frames.set(a,b)},visible:null,mask:null,guises:null,initialFrameName:null,frames:null,className:null,scale:null,borderPaint:null,borderWidth:null,backgroundPaint:null,alpha:null,name:null,__class__:a.sketch.type.SketchComponent});
a.sketch.type.SketchContainer=function(c,b,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==b&&(b=0);a.sketch.type.SketchComponent.call(this,c,b,d,e,f);this.children=[]};f["nfuzion.sketch.type.SketchContainer"]=a.sketch.type.SketchContainer;a.sketch.type.SketchContainer.__name__=["nfuzion","sketch","type","SketchContainer"];a.sketch.type.SketchContainer.__super__=a.sketch.type.SketchComponent;a.sketch.type.SketchContainer.prototype=h(a.sketch.type.SketchComponent.prototype,{getChildSketch:function(a){for(var b=
0,d=this.children;b<d.length;){var e=d[b];++b;if(e.name==a)return e}return null},childAddCommon:function(a){if(null!=this.getChildSketch(a.name))throw'Container already contains a child named "'+a.name+'."';},insertChildSketch:function(a,b){this.childAddCommon(a);this.children.splice(b,0,a)},prependChildSketch:function(a){this.childAddCommon(a);this.children.unshift(a)},appendChildSketch:function(a){this.childAddCommon(a);this.children.push(a)},children:null,__class__:a.sketch.type.SketchContainer});
a.sketch.type.SketchText=function(c,b,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==b&&(b=0);a.sketch.type.SketchComponent.call(this,c,b,d,e,f);this.text="";this.wrap=!1};f["nfuzion.sketch.type.SketchText"]=a.sketch.type.SketchText;a.sketch.type.SketchText.__name__=["nfuzion","sketch","type","SketchText"];a.sketch.type.SketchText.__super__=a.sketch.type.SketchComponent;a.sketch.type.SketchText.prototype=h(a.sketch.type.SketchComponent.prototype,{wrap:null,text:null,font:null,alignment:null,
paint:null,__class__:a.sketch.type.SketchText});a.span={};a.span.ISpanClient=function(){};f["nfuzion.span.ISpanClient"]=a.span.ISpanClient;a.span.ISpanClient.__name__=["nfuzion","span","ISpanClient"];a.span.ISpanClient.__interfaces__=[a.event.IEventDispatcher];a.span.ISpanClient.prototype={addMessageListener:null,send:null,disconnect:null,connect:null,connected:null,autoConnect:null,echo:null,url:null,__class__:a.span.ISpanClient};a.span.SpanClient=function(c,b,d,e,f){null==f&&(f=!0);a.event.EventDispatcher.call(this);
this.metadata=new a.message.span.LetClientMetadata(d,e,f);this.newClient(c,b)};f["nfuzion.span.SpanClient"]=a.span.SpanClient;a.span.SpanClient.__name__=["nfuzion","span","SpanClient"];a.span.SpanClient.__interfaces__=[a.span.ISpanClient];a.span.SpanClient.parseUrlString=function(c,b){null==b&&(b=!1);0>c.indexOf("://")&&(c="ws://"+c);var d=new a.url.Url(c,b);if(!d.valid)return null;switch(d.protocol){case "ws":break;case "ghost":break;default:if(b)throw"The protocol '"+d.protocol+"' is not supported.";
return null}switch(d.protocol){case "ws":null==d.port&&(d.port=4412);break;case "ghost":d.port=null;d.host="ghost";break;default:return g.Log.trace("ERROR: This should never happen: protocol = "+d.protocol,{fileName:"SpanClient.hx",lineNumber:101,className:"nfuzion.span.SpanClient",methodName:"parseUrlString"}),null}return d};a.span.SpanClient.__super__=a.event.EventDispatcher;a.span.SpanClient.prototype=h(a.event.EventDispatcher.prototype,{onClientData:function(c){c=this.lingo.from(c.data);if(null!=
c){var b=p.getClassName(p.getClass(c)).split("."),d=b.pop(),b=b.pop();this.dispatchEvent(new a.span.event.MessageEvent(b,d,c))}},onClientDisconnect:function(c){this.dispatchEvent(new a.span.event.SpanClientEvent("SpanClientEvent.disconnect",this));this.autoConnect&&null==this.reconnectDelay&&(this.reconnectDelay=new a.timer.Delay(l(this,this.reconnect),1))},onClientConnect:function(c){this.send(this.metadata);this.dispatchEvent(new a.span.event.SpanClientEvent("SpanClientEvent.connect",this))},addMessageListener:function(a,
b){this.addEventListener(a,b)},reconnect:function(){this.reconnectDelay.destroy();this.reconnectDelay=null;this.connect()},send:function(a){return this.get_connected()?this.client.send(this.lingo.to(a)):!1},set_autoConnect:function(a){(this.autoConnect=a)&&this.connect();return a},autoConnect:null,disconnect:function(){null!=this.reconnectDelay&&this.reconnectDelay.destroy();this.client.disconnect()},get_connected:function(){return null!=this.client?this.client.connected:!1},connected:null,connect:function(a,
b){null!=a?(this.client.disconnect(),this.newClient(a,b)):null!=b&&(this.lingo=b);null!=this.reconnectDelay&&(this.reconnectDelay.destroy(),this.reconnectDelay=null);this.client.connected||this.client.connect()},set_echo:function(a){return this.echo=a},echo:null,newClient:function(c,b){null!=this.client&&(this.client.removeEventListener("ClientEvent.connect",l(this,this.onClientConnect)),this.client.removeEventListener("ClientEvent.disconnect",l(this,this.onClientDisconnect)),this.client.removeEventListener("ClientEvent.data",
l(this,this.onClientData)),this.client=null);this.url=a.span.SpanClient.parseUrlString(c);switch(this.url.protocol){case "ws":this.client=new a.client.WebSocketClient(this.url.host,this.url.port);break;case "ghost":this.client=new a.client.GhostClient;break;default:g.Log.trace("ERROR: This should never happen: protocol = "+this.url.protocol,{fileName:"SpanClient.hx",lineNumber:131,className:"nfuzion.span.SpanClient",methodName:"newClient"})}if(null==b)switch(this.url.port){case 4400:case 4410:this.lingo=
new a.lingo.XmlLingo;break;case 4402:case 4412:this.lingo=new a.lingo.JsonLingo;break;case 0:case 4403:case 4413:this.lingo=new a.lingo.HaxeLingo;break;default:g.Log.trace("WARNING: No default lingo specified for port "+this.url.port+".  Using XmlLingo.",{fileName:"SpanClient.hx",lineNumber:145,className:"nfuzion.span.SpanClient",methodName:"newClient"}),this.lingo=new a.lingo.XmlLingo}else this.lingo=b;this.client.addEventListener("ClientEvent.connect",l(this,this.onClientConnect));this.client.addEventListener("ClientEvent.disconnect",
l(this,this.onClientDisconnect));this.client.addEventListener("ClientEvent.data",l(this,this.onClientData))},client:null,reconnectDelay:null,url:null,lingo:null,metadata:null,__class__:a.span.SpanClient,__properties__:{set_echo:"set_echo",get_connected:"get_connected",set_autoConnect:"set_autoConnect"}});a.span.event={};a.span.event.MessageEvent=function(c,b,d){a.event.Event.call(this,c);this.className=b;this.message=d};f["nfuzion.span.event.MessageEvent"]=a.span.event.MessageEvent;a.span.event.MessageEvent.__name__=
["nfuzion","span","event","MessageEvent"];a.span.event.MessageEvent.__super__=a.event.Event;a.span.event.MessageEvent.prototype=h(a.event.Event.prototype,{message:null,className:null,__class__:a.span.event.MessageEvent});a.span.event.SpanClientEvent=function(c,b){a.event.Event.call(this,c);this.client=b};f["nfuzion.span.event.SpanClientEvent"]=a.span.event.SpanClientEvent;a.span.event.SpanClientEvent.__name__=["nfuzion","span","event","SpanClientEvent"];a.span.event.SpanClientEvent.__super__=a.event.Event;
a.span.event.SpanClientEvent.prototype=h(a.event.Event.prototype,{client:null,__class__:a.span.event.SpanClientEvent});a.storage={};a.storage.PersistentStorage=function(){a.event.EventDispatcher.call(this);if(null!=a.storage.PersistentStorage.instance)throw"Persist may not be instantiated more than once.";this.ready=!1;a.storage.PersistentStorage.instance=this;this.records=new g.ds.StringMap;this.loadLocalStorage()};f["nfuzion.storage.PersistentStorage"]=a.storage.PersistentStorage;a.storage.PersistentStorage.__name__=
["nfuzion","storage","PersistentStorage"];a.storage.PersistentStorage.create=function(){null==a.storage.PersistentStorage.instance&&(a.storage.PersistentStorage.instance=new a.storage.PersistentStorage);return a.storage.PersistentStorage.instance};a.storage.PersistentStorage.__super__=a.event.EventDispatcher;a.storage.PersistentStorage.prototype=h(a.event.EventDispatcher.prototype,{decodeName:function(c){var b=null;s.endsWith(c,".record")&&(b=a.utility.BaseCode32.decodeString(r.substr(c,0,c.length-
7)));return b},encodeName:function(c){return a.utility.BaseCode32.encodeString(c)+".record"},onRecordChange:function(a){var b=a.target;b.temporary||(a=this.encodeName(b.name),b=g.Serializer.run(b.value),localStorage[a]=b)},loadLocalStorage:function(){for(var c=Object.keys(localStorage),b=0;b<c.length;){var d=c[b];++b;try{var e=this.decodeName(d),f=g.Unserializer.run(localStorage[d]),h=new a.storage.Record(e,f);this.records.set(e,h);h.addEventListener("RecordEvent.change",l(this,this.onRecordChange))}catch(m){}}this.ready=
!0;this.dispatchEvent(new a.storage.event.StorageEvent("StorageEvent.ready"))},createRecord:function(c,b){null==b&&(b=!1);var d=null;this.records.exists(c)||(d=new a.storage.Record(c,null,b),this.records.set(c,d),d.addEventListener("RecordEvent.change",l(this,this.onRecordChange)),d.save());return d},deleteRecord:function(c){var b=this.getRecord(c);if(null==b)return!1;if(!b.temporary){var d=this.encodeName(b.name);localStorage.removeitem(d)}b.removeEventListener("RecordEvent.change",l(this,this.onRecordChange));
b.dispatchEvent(new a.storage.event.RecordEvent("RecordEvent.delete",b));return this.records.remove(c)},getTemporaryRecord:function(a){var b=this.records.get(a);null==b&&(b=this.createRecord(a,!0));return b},getRecord:function(a){var b=this.records.get(a);null==b&&(b=this.createRecord(a));return b},records:null,ready:null,__class__:a.storage.PersistentStorage});a.storage.Record=function(c,b,d){null==d&&(d=!1);a.event.EventDispatcher.call(this);this.name=c;this.set_value(b);this.temporary=d};f["nfuzion.storage.Record"]=
a.storage.Record;a.storage.Record.__name__=["nfuzion","storage","Record"];a.storage.Record.__super__=a.event.EventDispatcher;a.storage.Record.prototype=h(a.event.EventDispatcher.prototype,{save:function(){this.dispatchEvent(new a.storage.event.RecordEvent("RecordEvent.change",this))},set_value:function(c){this.value=c;this.dispatchEvent(new a.storage.event.RecordEvent("RecordEvent.change",this));return c},value:null,temporary:null,name:null,__class__:a.storage.Record,__properties__:{set_value:"set_value"}});
a.storage.event={};a.storage.event.RecordEvent=function(c,b){a.event.Event.call(this,c);this.target=b};f["nfuzion.storage.event.RecordEvent"]=a.storage.event.RecordEvent;a.storage.event.RecordEvent.__name__=["nfuzion","storage","event","RecordEvent"];a.storage.event.RecordEvent.__super__=a.event.Event;a.storage.event.RecordEvent.prototype=h(a.event.Event.prototype,{target:null,__class__:a.storage.event.RecordEvent});a.storage.event.StorageEvent=function(c){a.event.Event.call(this,c)};f["nfuzion.storage.event.StorageEvent"]=
a.storage.event.StorageEvent;a.storage.event.StorageEvent.__name__=["nfuzion","storage","event","StorageEvent"];a.storage.event.StorageEvent.__super__=a.event.Event;a.storage.event.StorageEvent.prototype=h(a.event.Event.prototype,{__class__:a.storage.event.StorageEvent});a.timer={};a.timer.Delay=function(a,b){null==b&&(b=0);this.delayTimer=g.Timer.delay(a,Math.round(1E3*b))};f["nfuzion.timer.Delay"]=a.timer.Delay;a.timer.Delay.__name__=["nfuzion","timer","Delay"];a.timer.Delay.now=function(){var c=
g.Timer.stamp();if(c<a.timer.Delay.lastTimestamp)return g.Log.trace("FATAL: Timer is broken!",{fileName:"Delay.hx",lineNumber:43,className:"nfuzion.timer.Delay",methodName:"now"}),-3.4E38;a.timer.Delay.lastTimestamp=c;return a.timer.Delay.lastTimestamp};a.timer.Delay.prototype={destroy:function(){this.delayTimer.stop()},callbackFunction:null,end:null,delayTimer:null,__class__:a.timer.Delay};a.timer.Timer=function(c,b){null==b&&(b=0);a.event.EventDispatcher.call(this);this.id=Math.round(65535*Math.random());
this.set_period(c);this.repeatCount=b};f["nfuzion.timer.Timer"]=a.timer.Timer;a.timer.Timer.__name__=["nfuzion","timer","Timer"];a.timer.Timer.now=function(){return a.timer.Delay.now()};a.timer.Timer.__super__=a.event.EventDispatcher;a.timer.Timer.prototype=h(a.event.EventDispatcher.prototype,{onTimer:function(){this.currentCount++;this.dispatchEvent(new a.timer.event.TimerEvent("timer"));0!=this.repeatCount&&this.currentCount>this.repeatCount&&(this.stop(),this.dispatchEvent(new a.timer.event.TimerEvent("timerComplete")))},
reset:function(){this.stop();this.currentCount=0},stop:function(){null!=this.timer&&(this.timer.stop(),this.timer=null)},start:function(){null!=this.timer&&this.timer.stop();this.timer=new g.Timer(Math.round(1E3*this.period));this.timer.run=l(this,this.onTimer)},set_period:function(a){this.period=a;null!=this.timer&&(this.stop(),this.start());return a},period:null,id:null,get_running:function(){return null!=this.timer},running:null,repeatCount:null,timer:null,currentCount:null,__class__:a.timer.Timer,
__properties__:{get_running:"get_running",set_period:"set_period"}});a.timer.event={};a.timer.event.TimerEvent=function(c){a.event.Event.call(this,c)};f["nfuzion.timer.event.TimerEvent"]=a.timer.event.TimerEvent;a.timer.event.TimerEvent.__name__=["nfuzion","timer","event","TimerEvent"];a.timer.event.TimerEvent.__super__=a.event.Event;a.timer.event.TimerEvent.prototype=h(a.event.Event.prototype,{__class__:a.timer.event.TimerEvent});a.tween={};a.tween.Tween=function(a,b,d){this.properties=b;this.period=
a;this.onComplete=d;this.start()};f["nfuzion.tween.Tween"]=a.tween.Tween;a.tween.Tween.__name__=["nfuzion","tween","Tween"];a.tween.Tween.prototype={destroy:function(){a.nTactic.NTactic.stage.removeEventListener("paint",l(this,this.onPaint));if(null!=this.onComplete){var c=this.onComplete;this.onComplete=null;c()}},applyType:function(a,b){var d=a;switch(b[1]){case 1:d=1-a;d=1-d*d;break;case 2:d=a*a}return d},onPaint:function(c){c=(a.timer.Delay.now()-this.startTime)/this.period;1<c&&(c=1);for(var b=
0,d=this.properties;b<d.length;){var e=d[b];++b;var f=this.applyType(c,e.type);e.set(e.initialValue+e.range*f)}1==c&&this.destroy()},start:function(){for(var c=0,b=this.properties;c<b.length;){var d=b[c];++c;d.initialValue=d.get();d.range=d.targetValue-d.initialValue}this.startTime=a.timer.Delay.now();a.nTactic.NTactic.stage.addEventListener("paint",l(this,this.onPaint))},onComplete:null,startTime:null,properties:null,period:null,__class__:a.tween.Tween};a.tween.type={};a.tween.type.TweenProperty=
function(c,b,d,e){this.target=c;this.name=b;this.targetValue=d;null==e&&(e=a.tween.type.TweenType.linear);this.type=e;d=!0;try{this.initialValue=w.getProperty(c,b)}catch(f){d=!1}if(d)this.get=l(this,this.getProperty);else try{this.get=w.getProperty(c,"get_"+b),this.initialValue=this.get()}catch(h){this.get=null}if(null==this.get)g.Log.trace("ERROR: Getter for property '"+b+"' could not be found.",{fileName:"TweenProperty.hx",lineNumber:62,className:"nfuzion.tween.type.TweenProperty",methodName:"new"});
else{d=!0;try{w.setProperty(c,b,this.initialValue)}catch(m){d=!1}if(d)this.set=l(this,this.setProperty);else try{this.set=w.getProperty(c,"set_"+b)}catch(n){this.set=null}null==this.set&&g.Log.trace("ERROR: Setter for property '"+b+"' could not be found.",{fileName:"TweenProperty.hx",lineNumber:93,className:"nfuzion.tween.type.TweenProperty",methodName:"new"})}};f["nfuzion.tween.type.TweenProperty"]=a.tween.type.TweenProperty;a.tween.type.TweenProperty.__name__=["nfuzion","tween","type","TweenProperty"];
a.tween.type.TweenProperty.prototype={setProperty:function(a){w.setProperty(this.target,this.name,a);return a},getProperty:function(){return w.getProperty(this.target,this.name)},set:null,get:null,target:null,range:null,initialValue:null,type:null,targetValue:null,name:null,__class__:a.tween.type.TweenProperty};a.tween.type.TweenType=f["nfuzion.tween.type.TweenType"]={__ename__:["nfuzion","tween","type","TweenType"],__constructs__:["linear","fast","slow"]};a.tween.type.TweenType.linear=["linear",
0];a.tween.type.TweenType.linear.toString=m;a.tween.type.TweenType.linear.__enum__=a.tween.type.TweenType;a.tween.type.TweenType.fast=["fast",1];a.tween.type.TweenType.fast.toString=m;a.tween.type.TweenType.fast.__enum__=a.tween.type.TweenType;a.tween.type.TweenType.slow=["slow",2];a.tween.type.TweenType.slow.toString=m;a.tween.type.TweenType.slow.__enum__=a.tween.type.TweenType;a.type={};a.type.Alignment=f["nfuzion.type.Alignment"]={__ename__:["nfuzion","type","Alignment"],__constructs__:["left",
"center","right","justify"]};a.type.Alignment.left=["left",0];a.type.Alignment.left.toString=m;a.type.Alignment.left.__enum__=a.type.Alignment;a.type.Alignment.center=["center",1];a.type.Alignment.center.toString=m;a.type.Alignment.center.__enum__=a.type.Alignment;a.type.Alignment.right=["right",2];a.type.Alignment.right.toString=m;a.type.Alignment.right.__enum__=a.type.Alignment;a.type.Alignment.justify=["justify",3];a.type.Alignment.justify.toString=m;a.type.Alignment.justify.__enum__=a.type.Alignment;
a.type.Color=f["nfuzion.type.Color"]={__ename__:["nfuzion","type","Color"],__constructs__:"aqua black blue fuchsia gray green red white yellow rgb".split(" ")};a.type.Color.aqua=["aqua",0];a.type.Color.aqua.toString=m;a.type.Color.aqua.__enum__=a.type.Color;a.type.Color.black=["black",1];a.type.Color.black.toString=m;a.type.Color.black.__enum__=a.type.Color;a.type.Color.blue=["blue",2];a.type.Color.blue.toString=m;a.type.Color.blue.__enum__=a.type.Color;a.type.Color.fuchsia=["fuchsia",3];a.type.Color.fuchsia.toString=
m;a.type.Color.fuchsia.__enum__=a.type.Color;a.type.Color.gray=["gray",4];a.type.Color.gray.toString=m;a.type.Color.gray.__enum__=a.type.Color;a.type.Color.green=["green",5];a.type.Color.green.toString=m;a.type.Color.green.__enum__=a.type.Color;a.type.Color.red=["red",6];a.type.Color.red.toString=m;a.type.Color.red.__enum__=a.type.Color;a.type.Color.white=["white",7];a.type.Color.white.toString=m;a.type.Color.white.__enum__=a.type.Color;a.type.Color.yellow=["yellow",8];a.type.Color.yellow.toString=
m;a.type.Color.yellow.__enum__=a.type.Color;a.type.Color.rgb=function(c,b,d){c=["rgb",9,c,b,d];c.__enum__=a.type.Color;c.toString=m;return c};a.type.Frame=function(c,b,d,e,f,g,h){null==h&&(h=!1);a.geometry.Box.call(this,d,e,f,g);this.url=c;this.fit=b;this.floating=h};f["nfuzion.type.Frame"]=a.type.Frame;a.type.Frame.__name__=["nfuzion","type","Frame"];a.type.Frame.__super__=a.geometry.Box;a.type.Frame.prototype=h(a.geometry.Box.prototype,{floating:null,fit:null,url:null,__class__:a.type.Frame});a.type.Orientation=
f["nfuzion.type.Orientation"]={__ename__:["nfuzion","type","Orientation"],__constructs__:["horizontal","vertical"]};a.type.Orientation.horizontal=["horizontal",0];a.type.Orientation.horizontal.toString=m;a.type.Orientation.horizontal.__enum__=a.type.Orientation;a.type.Orientation.vertical=["vertical",1];a.type.Orientation.vertical.toString=m;a.type.Orientation.vertical.__enum__=a.type.Orientation;a.type.VerticalAlignment=f["nfuzion.type.VerticalAlignment"]={__ename__:["nfuzion","type","VerticalAlignment"],
__constructs__:["top","middle","bottom"]};a.type.VerticalAlignment.top=["top",0];a.type.VerticalAlignment.top.toString=m;a.type.VerticalAlignment.top.__enum__=a.type.VerticalAlignment;a.type.VerticalAlignment.middle=["middle",1];a.type.VerticalAlignment.middle.toString=m;a.type.VerticalAlignment.middle.__enum__=a.type.VerticalAlignment;a.type.VerticalAlignment.bottom=["bottom",2];a.type.VerticalAlignment.bottom.toString=m;a.type.VerticalAlignment.bottom.__enum__=a.type.VerticalAlignment;a.url={};
a.url.Url=function(a,b){null==b&&(b=!1);this.fromString(a,b)};f["nfuzion.url.Url"]=a.url.Url;a.url.Url.__name__=["nfuzion","url","Url"];a.url.Url.prototype={isNumeric:function(a){var b=n.parseInt(a);return n.string(b)==a?!0:!1},fromString:function(a,b){null==b&&(b=!1);this.path=this.port=this.host=this.protocol=null;this.valid=!1;if(null!=a){var d=a.split("://");if(2==d.length)if(this.protocol=d.shift(),""==this.protocol){if(b)throw"No protocol is specified.";}else if(a=d.shift(),""==a){if(b)throw"No hostname is specified.";
}else{d=a.indexOf("/");if(0<=d){if(0==d){if(b)throw"No hostname is specified.";return}a=r.substr(a,0,d);this.path=r.substr(a,d,null)}else this.path="";d=a.split(":");switch(d.length){case 1:this.host=d.shift();break;case 2:this.host=d.shift();d=d.shift();if(""==d){if(b)throw"No port is specified.";return}this.port=n.parseInt(d);if(n.string(this.port)!=d&&(this.port=null,b))throw"The port is not a number.";if(0>this.port||65535<this.port)if(this.port=null,b)throw"The port is out of range.";break;default:if(b)throw"There are too many colons after the hostname.";
}if(this.isNumeric(this.host.charAt(0))){var e=this.host.split(".");if(4==e.length){for(var f=[],d=0;d<e.length;){var g=e[d];++d;var h=n.parseInt(g);if(n.string(h)!=g||0>h||255<h)break;f.push(h)}if(4==f.length){if(0==f[0]||169==f[0]&&254==f[1]||192==f[0]&&0==f[1]&&2==f[2]||198==f[0]&&51==f[1]&&100==f[2]||203==f[0]&&0==f[1]&&113==f[2]||224==(f[0]&240)||240==(f[0]&240)||255==f[0]&&255==f[1]&&255==f[2]&&255==f[3]){if(b)throw"The specified IP is reserved by the IETF.";}else this.valid=!0;return}}}if(255<
this.host.length){if(b)throw"The specified hostname is too long.";}else{if(0<=this.host.indexOf("..")&&b)throw"The hostname may not include unseparated periods.";e=this.host.split(".");for(d=0;d<e.length;){f=e[d];++d;if("-"==f.charAt(0)||"-"==f.charAt(f.length-1)){if(b)throw"The hostname may not begin or end with the hyphen.";return}if(63<f.length){if(b)throw"The hostname component may not be longer than 63 characters.";return}if(1>f.length){if(b)throw"The hostname may not begin or end with a period.";
return}}e=0;for(d=this.host.length;e<d;)if(f=e++,g=r.cca(this.host,f),!(g>=r.cca("a",0)&&g<=r.cca("z",0)||g>=r.cca("A",0)&&g<=r.cca("Z",0)||g>=r.cca("0",0)&&g<=r.cca("9",0)||g==r.cca("-",0)||g==r.cca(".",0))){if(b)throw"The hostname may not contain the character '"+this.host.charAt(f)+"'.";return}this.valid=!0}}else if(b)throw"There are too many protocol delimiters.";}},toString:function(){var a=null;this.valid&&(a=this.protocol+"://"+this.host,null!=this.port&&(a=a+":"+this.port),a+=this.path);return a},
valid:null,path:null,port:null,host:null,protocol:null,__class__:a.url.Url};a.utility={};a.utility.BaseCode32=function(){};f["nfuzion.utility.BaseCode32"]=a.utility.BaseCode32;a.utility.BaseCode32.__name__=["nfuzion","utility","BaseCode32"];a.utility.BaseCode32.encodeString=function(a){a=g.io.Bytes.ofString(a);var b=g.io.Bytes.ofString("abcdefghijklmnopqrstuvwxyz234567");return(new g.crypto.BaseCode(b)).encodeBytes(a).toString()};a.utility.BaseCode32.decodeString=function(a){var b=g.io.Bytes.ofString("abcdefghijklmnopqrstuvwxyz234567");
return(new g.crypto.BaseCode(b)).decodeBytes(g.io.Bytes.ofString(a)).toString()};a.utility.CharacterTools=function(){};f["nfuzion.utility.CharacterTools"]=a.utility.CharacterTools;a.utility.CharacterTools.__name__=["nfuzion","utility","CharacterTools"];a.utility.CharacterTools.isNumeric=function(c){return c>=a.utility.CharacterTools.CODE_0&&c<=a.utility.CharacterTools.CODE_9?!0:!1};a.utility.CharacterTools.isUpperAlpha=function(c){return c>=a.utility.CharacterTools.CODE_A&&c<=a.utility.CharacterTools.CODE_Z?
!0:!1};a.utility.CharacterTools.isLowerAlpha=function(c){return c>=a.utility.CharacterTools.CODE_a&&c<=a.utility.CharacterTools.CODE_z?!0:!1};a.utility.CharacterTools.isAlpha=function(c){return a.utility.CharacterTools.isUpperAlpha(c)||a.utility.CharacterTools.isLowerAlpha(c)?!0:!1};a.utility.CharacterTools.isAlphaNumeric=function(c){return a.utility.CharacterTools.isAlpha(c)||a.utility.CharacterTools.isNumeric(c)?!0:!1};a.utility.ColorTools=function(){};f["nfuzion.utility.ColorTools"]=a.utility.ColorTools;
a.utility.ColorTools.__name__=["nfuzion","utility","ColorTools"];a.utility.ColorTools.toInt=function(a){var b;switch(a[1]){case 9:b=a[2]<<16|a[3]<<8|a[4];break;case 0:b=65535;break;case 1:b=0;break;case 2:b=255;break;case 3:b=16711935;break;case 4:b=8421504;break;case 5:b=65280;break;case 6:b=16711680;break;case 7:b=16777215;break;case 8:b=16776960}return b};a.utility.ColorTools.toString=function(c){return s.hex(a.utility.ColorTools.toInt(c),6)};a.utility.ColorTools.fromInt=function(c){return a.type.Color.rgb(c>>
16&255,c>>8&255,c&255)};a.utility.ColorTools.fromString=function(c){var b=null;if(a.utility.CharacterTools.isAlpha(r.cca(c,0)))try{b=p.createEnum(a.type.Color,c)}catch(d){b=null}else"#"==c.charAt(0)&&(c="0x"+r.substr(c,1,null)),c=n.parseInt(c),b=a.utility.ColorTools.fromInt(c);return b};a.widget={};a.widget.IWidget=function(){};f["nfuzion.widget.IWidget"]=a.widget.IWidget;a.widget.IWidget.__name__=["nfuzion","widget","IWidget"];a.widget.IWidget.__interfaces__=[a.event.IEventDispatcher,a.relation.IChild];
a.widget.IWidget.prototype={destroy:null,fullName:null,cancel:null,copy:null,clone:null,removedFromStage:null,addedToStage:null,encloseGraphics:null,name:null,bubbleComponentEvents:null,__class__:a.widget.IWidget};a.widget.Simple=function(c,b){this.listenersAdded=!1;a.event.ListenerManagerAndEventDispatcher.call(this);this.name=c;this.initialize();null!=b&&this.encloseGraphics(b);this.restoreListeners()};f["nfuzion.widget.Simple"]=a.widget.Simple;a.widget.Simple.__name__=["nfuzion","widget","Simple"];
a.widget.Simple.__interfaces__=[a.widget.IWidget];a.widget.Simple.__super__=a.event.ListenerManagerAndEventDispatcher;a.widget.Simple.prototype=h(a.event.ListenerManagerAndEventDispatcher.prototype,{destroy:function(){this.removeListeners();this.implementation=this.parent=null;this.set_target(null)},get_fullName:function(){return null!=this.parent?this.parent.get_fullName()+"."+this.name:this.name},fullName:null,cancel:function(){},copy:function(c){if(!q.Boot.__instanceof(c,a.widget.Simple))throw"ERROR: Source widget is not an instance of Simple.";
this.bubbleComponentEvents=c.bubbleComponentEvents;this.set_visible(c.get_visible());this.set_enabled(c.get_enabled());this.set_acceptsFocus(c.get_acceptsFocus())},clone:function(a){var b=null;null!=this.implementation&&(b=this.implementation.clone());var d=p.getClass(this);null==a&&(a=this.name);a=p.createInstance(d,[a,b]);a.copy(this);return a},dispatchEvent:function(c){a.event.ListenerManagerAndEventDispatcher.prototype.dispatchEvent.call(this,c);q.Boot.__instanceof(c,a.event.BubblingEvent)&&null!=
this.parent&&(!c.bubbles||c.stop||c.stopNow||this.parent.dispatchEvent(c))},getComponentChild:function(a,b){var d=null;try{d=a}catch(e){d=null}var f=null;null!=d&&(f=d.getChild(b));return f},get_hasHotspot:function(){return null!=this.hotspot},hasHotspot:null,takeFocus:function(){this.get_hasFocus()&&this.endFocus()},giveFocus:function(){this.get_hasFocus()||this.beginFocus()},get_hasFocus:function(){return this.hasFocus},hasFocus:null,set_acceptsFocus:function(a){return this.acceptsFocus=a},get_acceptsFocus:function(){return null!=
this.focus&&this.acceptsFocus},acceptsFocus:null,update:function(){},set_enabled:function(a){return null!=this.target?(this.target.touchEnabled!=a&&(this.target.set_touchEnabled(a),a?this.restoreListeners():(this.removeListeners(),this.cancel()),this.update()),this.target.touchEnabled):a},get_enabled:function(){return null==this.target?!1:this.target.touchEnabled},enabled:null,set_visible:function(c){this.visible=c;null!=this.implementation&&this.implementation.visible!=c&&(this.implementation.set_visible(c),
this.dispatchEvent(new a.widget.event.WidgetEvent("WidgetEvent.visibility",this)));return c},get_visible:function(){return this.visible},visible:null,discardEvent:function(a){a.stopImmediatePropagation()},removedFromStage:function(){this.purgeListeners();this.takeFocus()},addedToStage:function(){this.restoreListeners()},endFocus:function(){this.implementation.set_guise(null);this.hasFocus=!1},beginFocus:function(){this.implementation.set_guise("focus");this.hasFocus=!0},removeListeners:function(){this.detachAllListeners();
this.listenersAdded=!1},addListeners:function(){this.listenersAdded=!0},purgeListeners:function(){this.listenersAdded&&this.removeListeners()},restoreListeners:function(){null!=this.implementation&&this.get_enabled()&&null!=this.implementation.get_stage()&&!this.listenersAdded&&this.addListeners()},set_target:function(a){this.target!=a&&(this.purgeListeners(),this.target=a,this.restoreListeners());return this.target},target:null,orphan:function(){this.parent=null},adopt:function(a){this.parent=a;
null!=a.implementation.get_stage()&&this.addedToStage()},findComponents:function(a){null!=this.implementation&&(this.purgeListeners(),a=this.get_hasFocus(),null!=this.focus&&this.focus.set_alpha(0),this.focus=this.getComponentChild(this.implementation,"focus"),null!=this.focus&&this.focus.set_alpha(0),this.hotspot=this.getComponentChild(this.implementation,"hotspot"),null!=this.hotspot?this.set_target(this.hotspot):this.set_target(this.implementation),this.set_enabled(!1),a&&null!=this.focus&&(this.focus.set_alpha(1),
this.beginFocus()))},configureComponent:function(){},refresh:function(){this.purgeListeners();null!=this.implementation&&(q.Boot.__instanceof(this.implementation,a.graphics.Container)&&this.findComponents(this.implementation),this.configureComponent());this.restoreListeners()},encloseGraphics:function(a){if(null!=this.implementation)return g.Log.trace("ERROR: Widget already contains graphics.",{fileName:"Simple.hx",lineNumber:78,className:"nfuzion.widget.Simple",methodName:"encloseGraphics"}),!1;
this.implementation=a;this.refresh();return null!=a},initialize:function(){this.bubbleComponentEvents=!0},listenersAdded:null,hotspot:null,focus:null,bubbleComponentEvents:null,parent:null,name:null,implementation:null,__class__:a.widget.Simple,__properties__:{set_target:"set_target",set_visible:"set_visible",get_visible:"get_visible",set_enabled:"set_enabled",get_enabled:"get_enabled",set_acceptsFocus:"set_acceptsFocus",get_acceptsFocus:"get_acceptsFocus",get_hasFocus:"get_hasFocus",get_hasHotspot:"get_hasHotspot",
get_fullName:"get_fullName"}});a.widget.Group=function(c,b){this.firstUpdate=!1;this.currentComponent=null;a.widget.Simple.call(this,c,b)};f["nfuzion.widget.Group"]=a.widget.Group;a.widget.Group.__name__=["nfuzion","widget","Group"];a.widget.Group.__interfaces__=[a.relation.IParent];a.widget.Group.__super__=a.widget.Simple;a.widget.Group.prototype=h(a.widget.Simple.prototype,{destroy:function(){for(a.widget.Simple.prototype.destroy.call(this);0<this.children.length;){var c=this.children.pop();c.orphan();
c.destroy()}},get_fullName:function(){return null==this.parent?a.widget.Simple.prototype.get_fullName.call(this):this.parent.get_fullName()+"."+this.name},copy:function(c){a.widget.Simple.prototype.copy.call(this,c);if(!q.Boot.__instanceof(c,a.widget.Group))throw"ERROR: Source widget is not an instance of Group.";this.set_exclusiveChildren(c.exclusiveChildren);this.set_radioButtons(c.radioButtons);this.set_requireSelection(c.requireSelection);this.setSelection(c.getSelection(),!1);this.set_eventsRequireChange(c.eventsRequireChange)},
removedFromStage:function(){a.widget.Simple.prototype.removedFromStage.call(this);for(var c=0,b=this.children;c<b.length;){var d=b[c];++c;d.removedFromStage()}},addedToStage:function(){a.widget.Simple.prototype.addedToStage.call(this);for(var c=0,b=this.children;c<b.length;){var d=b[c];++c;d.addedToStage()}},findChildWidgets:function(c){var b=0;for(c=c.children;b<c.length;){var d=c[b];++b;var e=!1,f=this.createChild(d.name,d);null!=f&&(this.appendChild(f),e=!0);e||q.Boot.__instanceof(d,a.graphics.Container)&&
this.findChildWidgets(d)}},createChild:function(a,b){var d=a.split("_");return 1<d.length&&(d=d.pop(),d=d.charAt(0).toUpperCase()+r.substr(d,1,null),d=p.resolveClass("nfuzion.widget."+d),null!=d&&(d=p.createInstance(d,[a,b]),null!=d))?d:null},findComponents:function(c){a.widget.Simple.prototype.findComponents.call(this,c);this.findChildWidgets(c)},get_childCount:function(){return this.children.length},childCount:null,getChild:function(a){for(var b=0,d=this.children;b<d.length;){var e=d[b];++b;if(e.name==
a)return e}return null},getChildAt:function(a){return 0<=a&&a<this.children.length?this.children[a]:null},getChildIndex:function(a){for(var b=0,d=this.get_childCount();b<d;){var e=b++;if(this.children[e]==a)return e}return-1},removeChildAt:function(a){return 0<a&&a<this.children.length?(this.children[a].orphan(),this.removeChild(this.children[a])):!1},removeChild:function(a){var b=r.remove(this.children,a);a.orphan();return b},insertChildAfter:function(a,b){var d=this.getChildIndex(b);return 0<=d?
(this.insertChild(a,d),!0):!1},insertChild:function(c,b){null==b&&(b=0);if(0==this.get_childCount()||b>=this.get_childCount())return this.appendChild(c);0>=b&&(b=0);if(null!=this.implementation&&q.Boot.__instanceof(this.implementation,a.graphics.Container)){var d=this.implementation;if(null!=c.implementation&&null==c.implementation.parent){var e=this.getChildAt(b);d.insertChildAfter(c.implementation,e.implementation)}}c.adopt(this);this.children.splice(b,0,c);return!0},appendChild:function(c){if(null==
c)throw"ERROR: Failed to add null child on "+this.name+".";if(null!=this.implementation&&q.Boot.__instanceof(this.implementation,a.graphics.Container)){var b=this.implementation;null!=c.implementation&&null==c.implementation.parent&&b.appendChild(c.implementation)}this.children.push(c);c.adopt(this);return!0},set_eventsRequireChange:function(a){return this.eventsRequireChange=a},eventsRequireChange:null,previousSelection:function(){},nextSelection:function(){},onButtonClick:function(a){a.target.activated?
this.requireSelection?this.setSelection(a.target.name):this.setSelection(null):this.setSelection(a.target.name)},onVisibility:function(a){if(null==a||!0==a.target.get_visible())for(var b=0,d=this.get_childCount();b<d;){var e=b++,e=this.getChildAt(e);null!=e&&(null!=a&&e==a.target||e.set_visible(!1))}},hideChildren:function(a){},getSelection:function(){return null},setSelection:function(c,b){null==b&&(b=!0);for(var d=!1,e=!1,f=null,g=null,h=0,l=this.children;h<l.length;){var m=l[h];++h;null!=m&&s.endsWith(m.name,
"_button")&&(f=q.Boot.__cast(m,a.widget.Button),d||m.name!=c?f.set_activated(!1):(d=!0,f.activated?f.name==c&&(e=!0):(g=f,f.set_activated(!0))))}e&&this.eventsRequireChange||!b||null!=g&&this.dispatchEvent(new a.widget.event.WidgetEvent("WidgetEvent.select",g,!1))},set_requireSelection:function(a){return this.requireSelection=a},requireSelection:null,set_radioButtons:function(c){this.radioButtons=c;for(var b=!1,d=0,e=this.children;d<e.length;){var f=e[d];++d;null!=f&&s.endsWith(f.name,"_button")&&
(c?(f=q.Boot.__cast(f,a.widget.Button),f.addEventListener("ButtonEvent.click",l(this,this.onButtonClick)),b?f.set_activated(!1):f.activated&&(b=!0)):f.removeEventListener("ButtonEvent.click",l(this,this.onButtonClick)))}return c},radioButtons:null,set_exclusiveChildren:function(a){(this.exclusiveChildren=a)?this.attachListener(this,"WidgetEvent.visibility",l(this,this.onVisibility)):this.detachListener(this,"WidgetEvent.visibility",l(this,this.onVisibility));if(a)this.onVisibility();return a},exclusiveChildren:null,
getWidgetByArray:function(a){if(null==a||0==a.length)return null;var b=a.shift(),d=this.getChild(b);null==d&&(d=this.createChild(b),this.appendChild(d));if(null==d)return g.Log.trace("ERROR: Could not find or create child '"+b+"'.",{fileName:"Group.hx",lineNumber:72,className:"nfuzion.widget.Group",methodName:"getWidgetByArray"}),null;if(0<a.length){if(null!=d)return d.getWidgetByArray(a);g.Log.trace("ERROR: Widget '"+b+"' cannot contain children.",{fileName:"Group.hx",lineNumber:84,className:"nfuzion.widget.Group",
methodName:"getWidgetByArray"});return null}return d},getWidget:function(a){if(null==a||""==a)return null;a=a.split(".");return this.getWidgetByArray(a)},initialize:function(){a.widget.Simple.prototype.initialize.call(this);this.children=[];this.set_exclusiveChildren(!1);this.set_radioButtons(!1);this.set_requireSelection(!1);this.currentComponent=null;this.set_eventsRequireChange(!0);this.firstUpdate=!1},children:null,firstUpdate:null,currentComponent:null,__class__:a.widget.Group,__properties__:h(a.widget.Simple.prototype.__properties__,
{set_exclusiveChildren:"set_exclusiveChildren",set_radioButtons:"set_radioButtons",set_requireSelection:"set_requireSelection",set_eventsRequireChange:"set_eventsRequireChange",get_childCount:"get_childCount"})});a.widget.Button=function(c,b){this.mDirectClick=this.pressed=this.down=!1;this.pressDelayPeriod=0;a.widget.Group.call(this,c,b)};f["nfuzion.widget.Button"]=a.widget.Button;a.widget.Button.__name__=["nfuzion","widget","Button"];a.widget.Button.__super__=a.widget.Group;a.widget.Button.prototype=
h(a.widget.Group.prototype,{setText:function(a,b){null==b&&(b="text_label");var d=this.getChild(b);null!=d&&d.set_text(a)},updateIcons:function(){if(null!=this.iconFrameName&&null!=this.icon){var a=this.iconFrameName+"_"+this.iconFrameNameSuffix;if(this.icon.frames.exists(a))this.icon["goto"](a);else this.icon["goto"](this.iconFrameName)}},gotoIcon:function(a){this.iconFrameName=a;this.updateIcons()},copy:function(c){a.widget.Group.prototype.copy.call(this,c);if(!q.Boot.__instanceof(c,a.widget.Button))throw"ERROR: Source widget is not an instance of Button.";
this.set_longPressDelay(c.get_longPressDelay());this.set_toggleMode(c.toggleMode);this.set_autoRepeatPeriod(c.autoRepeatPeriod);this.set_autoRepeatDelay(c.autoRepeatDelay)},set_activated:function(c){this.activated!=c&&(this.activated=c,this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.activeChange",this,!0)),this.update());return c},activated:null,set_down:function(c){this.down=c;this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.toggle",this,!0));return c},down:null,set_pressed:function(c){(this.pressed=
c)?this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.down",this,!0)):this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.up",this,!0));return c},pressed:null,toggle:function(){this.set_down(!this.down)},update:function(){if(null!=this.implementation){var a=this.toggleMode&&this.down||!this.toggleMode&&this.pressed;this.get_enabled()?a?(this.implementation.set_guise("down"),this.iconFrameNameSuffix="down"):this.activated?(this.implementation.set_guise("active"),this.iconFrameNameSuffix=
"active"):(this.implementation.set_guise(null),this.iconFrameNameSuffix="up"):(this.implementation.set_guise("disabled"),this.iconFrameNameSuffix="disabled");if(this.implementation.frames.exists(this.iconFrameNameSuffix))this.implementation["goto"](this.iconFrameNameSuffix);else if(this.implementation.frames.keys().hasNext())this.implementation["goto"](this.implementation.frames.keys().next());this.updateIcons()}},set_requireDirectTouch:function(a){this.requireDirectTouch!=a&&(this.requireDirectTouch=
a);return this.requireDirectTouch},requireDirectTouch:null,set_autoRepeatDelay:function(a){return this.autoRepeatDelay=a},autoRepeatDelay:null,set_autoRepeatPeriod:function(a){return this.autoRepeatPeriod=a},autoRepeatPeriod:null,set_toggleMode:function(a){return this.toggleMode=a},toggleMode:null,set_longPressDelay:function(a){this.longPressTimer.set_period(a);return a},get_longPressDelay:function(){return this.longPressTimer.period},onAutoRepeat:function(c){this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.autoClick",
this,!0));0<this.autoRepeatPeriod?this.autoRepeatTimer.period!=this.autoRepeatPeriod&&this.autoRepeatTimer.set_period(this.autoRepeatPeriod):this.autoRepeatTimer.stop()},onDownLong:function(c){this.longPressTimer.stop();this.mDirectClick=!1;this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.longPress",this,!0))},release:function(){this.pressed&&(this.set_pressed(!1),this.longPressTimer.stop(),this.autoRepeatTimer.stop(),this.update())},cancel:function(){this.release();null!=this.pressDelay&&
this.pressDelay.destroy();this.detachListener(this.target,"over",l(this,this.onTouchOver));this.detachListener(this.implementation.get_stage(),"end",l(this,this.onTouchEnd));this.detachListener(this.target,"out",l(this,this.onTouchOut));this.currentTouchId=null},press:function(){this.pressed||(this.set_pressed(!0),0<this.get_longPressDelay()&&this.longPressTimer.start(),0<this.autoRepeatPeriod&&(this.autoRepeatTimer.set_period(this.autoRepeatDelay),this.autoRepeatTimer.start()),this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.autoClick",
this,!0)),this.update())},endTouch:function(){this.detachListener(this.implementation.get_stage(),"end",l(this,this.onTouchEnd));this.detachListener(this.target,"out",l(this,this.onTouchOut))},startTouch:function(){this.attachListener(this.target.get_stage(),"end",l(this,this.onTouchEnd));this.attachListener(this.target,"out",l(this,this.onTouchOut));0<this.pressDelayPeriod?this.pressDelay=new a.timer.Delay(l(this,this.press),this.pressDelayPeriod):this.press()},onTouchEnd:function(c){this.currentTouchId==
c.id&&(this.endTouch(),this.bubbleComponentEvents||c.stopPropagation(),this.currentTouchId=null,c.target==this.target&&(this.toggleMode&&this.set_down(!this.down),c.stopPropagation(),this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.click",this,!0))),this.release())},onTouchOut:function(a){this.currentTouchId==a.id&&(this.directTouch||(this.currentTouchId=null,this.endTouch()),this.bubbleComponentEvents||a.stopPropagation(),this.release())},onTouchOver:function(a){this.get_enabled()&&
(this.currentTouchId==a.id?(this.bubbleComponentEvents||a.stopPropagation(),this.press()):this.requireDirectTouch||null!=this.currentTouchId||(this.currentTouchId=a.id,this.directTouch=!1,this.startTouch()))},onTouchBegin:function(a){this.get_enabled()&&null==this.currentTouchId&&(this.currentTouchId=a.id,this.bubbleComponentEvents||a.stopPropagation(),this.directTouch=!0,this.startTouch())},destroy:function(){null!=this.pressDelay&&this.pressDelay.destroy();a.widget.Group.prototype.destroy.call(this)},
removeListeners:function(){a.widget.Group.prototype.removeListeners.call(this);this.currentTouchId=null;this.release()},addListeners:function(){a.widget.Group.prototype.addListeners.call(this);this.attachListener(this.longPressTimer,"timer",l(this,this.onDownLong));this.attachListener(this.autoRepeatTimer,"timer",l(this,this.onAutoRepeat));this.attachListener(this.target,"begin",l(this,this.onTouchBegin));this.attachListener(this.target,"over",l(this,this.onTouchOver))},set_target:function(c){return a.widget.Group.prototype.set_target.call(this,
c)},findComponents:function(c){a.widget.Group.prototype.findComponents.call(this,c);this.set_enabled(!0);this.icon=this.getComponentChild(this.implementation,"icon");c=this.getChild("text_label");null!=c&&q.Boot.__instanceof(c,a.widget.Label)&&(this.label=c);this.update()},initialize:function(){a.widget.Group.prototype.initialize.call(this);this.bubbleComponentEvents=!1;this.longPressTimer=new a.timer.Timer(0);this.autoRepeatTimer=new a.timer.Timer(0);this.set_requireDirectTouch(!0);this.set_autoRepeatDelay(0);
this.set_autoRepeatPeriod(0);this.set_activated(!1);this.currentTouchId=null},pressDelay:null,iconFrameNameSuffix:null,iconFrameName:null,icon:null,currentTouchId:null,mDirectClick:null,directTouch:null,autoRepeatTimer:null,longPressTimer:null,pressDelayPeriod:null,label:null,__class__:a.widget.Button,__properties__:h(a.widget.Group.prototype.__properties__,{set_longPressDelay:"set_longPressDelay",get_longPressDelay:"get_longPressDelay",set_toggleMode:"set_toggleMode",set_autoRepeatPeriod:"set_autoRepeatPeriod",
set_autoRepeatDelay:"set_autoRepeatDelay",set_requireDirectTouch:"set_requireDirectTouch",set_pressed:"set_pressed",set_down:"set_down",set_activated:"set_activated"})});a.widget.Chain=function(c,b){this.currentTouchId=null;a.widget.Group.call(this,c,b)};f["nfuzion.widget.Chain"]=a.widget.Chain;a.widget.Chain.__name__=["nfuzion","widget","Chain"];a.widget.Chain.__super__=a.widget.Group;a.widget.Chain.prototype=h(a.widget.Group.prototype,{onScrollerPosition:function(a){this.pageScroller.thumbDown&&
(this.currentPage=Math.round(this.pageScroller.get_value()),this.gotoPage())},onMagicScroll:function(a){var b=a.deltaX*this.implementation.get_stage()._width;switch(a.phase[1]){case 0:this.killTweens();this.attachListener(this.implementation.get_stage(),"paint",l(this,this.onPaint));this.startMoving();this.deltaDistance=b;break;case 2:this.stopMoving();this.detachListener(this.implementation.get_stage(),"paint",l(this,this.onPaint));break;case 1:this.deltaDistance+=b}},copy:function(c){a.widget.Group.prototype.copy.call(this,
c);if(!q.Boot.__instanceof(c,a.widget.Chain))throw"ERROR: Source widget is not an instance of Chain.";this.set_data(c.data);this.set_itemUpdater(c.itemUpdater)},onPaint:function(a){this.velocity-=this.velocity/5;this.velocity+=this.deltaDistance/5;this.dragged!=Math.POSITIVE_INFINITY&&(this.dragged+=this.deltaDistance,15<Math.abs(this.dragged)&&(this.needsSnap=!0,this.startMoving(),this.dragged=Math.POSITIVE_INFINITY));if(this.dragged==Math.POSITIVE_INFINITY){a=this.pageA.implementation;a.set_x(a._x+
this.deltaDistance);var b=0.75*this.pageA.implementation._width;this.pageA.implementation.set_alpha(1-Math.abs(this.pageA.implementation._x)/b);null!=this.pageB&&(a=this.pageB.implementation,a.set_x(a._x+this.deltaDistance),this.pageB.implementation.set_alpha(1-Math.abs(this.pageB.implementation._x)/b))}this.deltaDistance=0},gotoPage:function(){if(null!=this.pageA){this.killTweens();var c=this.pageA.implementation._width;this.snapTweenA=new a.tween.Tween(0.2,[new a.tween.type.TweenProperty(this.pageA.implementation,
"x",-this.currentPage*c+this.pageOffset,a.tween.type.TweenType.fast),new a.tween.type.TweenProperty(this.pageA.implementation,"alpha",1==this.currentPage?0:1)]);this.snapTweenB=new a.tween.Tween(0.2,[new a.tween.type.TweenProperty(this.pageB.implementation,"x",-this.currentPage*c+c+this.pageOffset,a.tween.type.TweenType.fast),new a.tween.type.TweenProperty(this.pageB.implementation,"alpha",0==this.currentPage?0:1)]);this.updatePageIndicator();this.updateDirectionalButtons()}},snap:function(){null!=
this.pageA&&(this.currentPage=this.pageA.implementation._x<-this.pageA.implementation._width/2?1:0,2<Math.abs(this.velocity)&&(this.currentPage=0<this.velocity?0:1),this.gotoPage())},previousPage:function(a){this.currentPage--;0>this.currentPage&&(this.currentPage=0);this.gotoPage()},nextPage:function(a){this.currentPage++;this.currentPage>=this.pageCount&&(this.currentPage=this.pageCount-1);this.gotoPage()},getDataByWidget:function(a){for(var b=0,d=this.links;b<d.length;){var e=d[b];++b;if(e.widget==
a)return e.data}return null},stopMoving:function(){this.detachListener(this.implementation.get_stage(),"paint",l(this,this.onPaint));this.dragged=0;this.snap()},startMoving:function(){for(var a=0,b=this.links;a<b.length;){var d=b[a];++a;d.widget.cancel()}},itemClicked:function(c){0<this.data.length&&this.dispatchEvent(new a.widget.event.ChainEvent("ChainEvent.select",this.data[0],0,this.links[0]))},set_itemUpdater:function(a){return this.itemUpdater=a},itemUpdater:null,updateDirectionalButtons:function(){1<
this.pageCount?(null!=this.previousButton&&(this.previousButton.set_visible(!0),0==this.currentPage?this.previousButton.set_enabled(!1):this.previousButton.set_enabled(!0)),null!=this.nextButton&&(this.nextButton.set_visible(!0),this.currentPage==this.pageCount-1?this.nextButton.set_enabled(!1):this.nextButton.set_enabled(!0))):(null!=this.previousButton&&this.previousButton.set_visible(!1),null!=this.nextButton&&this.nextButton.set_visible(!1))},updatePageIndicator:function(){if(1<this.pageCount){if(null!=
this.pageIndicator){this.pageIndicator.set_visible(!0);for(var a=[],b=0,d=this.pageCount;b<d;){var e=b++;a.push(e==this.currentPage)}this.pageIndicator.set_data(a)}null!=this.pageScroller&&(this.pageScroller.set_visible(!0),this.pageScroller.set_value(this.currentPage))}else null!=this.pageScroller&&this.pageScroller.set_visible(!1),null!=this.pageIndicator&&this.pageIndicator.set_visible(!1)},update:function(){for(var a=0,b=this.links.length;a<b;){var d=a++,e=this.links[d].widget,f=this.data[d];
null!=this.itemUpdater&&null!=this.data&&d<this.data.length&&null!=this.data[d]?(this.links[d].data=f,this.links[d].dataIndex=d,this.itemUpdater(this.links[d]),e.set_visible(!0)):e.set_visible(!1)}this.updateDirectionalButtons()},set_data:function(a){this.data=a;this.set_pageCount(Math.ceil(a.length/this.pageSize));this.update();this.updatePageIndicator();this.updateDirectionalButtons();return a},data:null,getItemCount:function(){return this.links.length},findLinks:function(c){var b=[],d=0;for(c=
c.children;d<c.length;){var e=c[d];++d;var f=e.name.split("_");2<=f.length&&"item"==f[0]&&(f=n.parseInt(f[1]),null!=f&&b.push(new a.widget.type.ItemWidget(e,f)))}b.sort(function(a,c){return a.widgetIndex-c.widgetIndex});c=0;for(d=b.length;c<d;)e=c++,b[e].widgetIndex=e,b[e].widget.bubbleComponentEvents=!0;for(d=0;d<b.length;)c=b[d],++d,this.links.push(c)},onTouchEnd:function(a){this.pagingEnabled&&this.currentTouchId==a.id&&(this.currentTouchId=null,this.stopMoving())},onTouchMove:function(a){this.pagingEnabled&&
this.currentTouchId==a.id&&(this.deltaDistance+=a.global.x-this.currentTouchX,this.currentTouchX=a.global.x)},killTweens:function(){null!=this.snapTweenA&&(this.snapTweenA.destroy(),this.snapTweenB.destroy(),this.snapTweenB=this.snapTweenA=null)},onTouchBegin:function(a){this.pagingEnabled&&null==this.currentTouchId&&(this.bubbleComponentEvents&&a.stopPropagation(),this.currentTouchId=a.id,this.currentTouchX=a.global.x,this.killTweens(),this.attachListener(this.implementation.get_stage(),"paint",
l(this,this.onPaint)))},removeListeners:function(){a.widget.Group.prototype.removeListeners.call(this);this.stopMoving();this.killTweens()},addListeners:function(){a.widget.Group.prototype.addListeners.call(this);null!=this.pageA&&(this.attachListener(this.target,"begin",l(this,this.onTouchBegin)),this.attachListener(this.target.get_stage(),"move",l(this,this.onTouchMove)),this.attachListener(this.target.get_stage(),"end",l(this,this.onTouchEnd)),null!=this.nextButton&&this.attachListener(this.nextButton,
"ButtonEvent.autoClick",l(this,this.nextPage)),null!=this.previousButton&&this.attachListener(this.previousButton,"ButtonEvent.autoClick",l(this,this.previousPage)));null!=this.pageScroller&&this.attachListener(this.pageScroller,"ScrollerEvent.position",l(this,this.onScrollerPosition))},updatePageIndicatorItem:function(a){var b=a.widget;if(a.data)b.implementation["goto"]("active");else b.implementation["goto"]("inactive")},set_pageCount:function(a){this.pageCount=a;this.pagingEnabled=1<a?!0:!1;null!=
this.pageScroller&&this.pageScroller.set_maximum(a-1);return this.pageCount},pageCount:null,set_previousButton:function(a){this.previousButton=a;this.attachListener(this.previousButton,"ButtonEvent.autoClick",l(this,this.previousPage));this.updateDirectionalButtons();return a},previousButton:null,set_nextButton:function(a){this.nextButton=a;this.attachListener(this.nextButton,"ButtonEvent.autoClick",l(this,this.nextPage));this.updateDirectionalButtons();return a},nextButton:null,findComponents:function(c){a.widget.Group.prototype.findComponents.call(this,
c);this.set_enabled(!0);c=this.getChild("pageIndicator_chain");null!=c&&(this.pageIndicator=c,this.pageIndicator.set_itemUpdater(l(this,this.updatePageIndicatorItem)));c=this.getChild("page_scroller");null!=c&&(this.pageScroller=c,this.pageScroller.set_pageSize(0),this.pageScroller.set_minimum(0),this.pageScroller.set_maximum(0),this.pageScroller.roundValue=!0);this.links=[];c=this.getChild("page_group");null!=c?(this.pageA=c,this.pageB=this.pageA.clone("pageClone_group"),this.insertChildAfter(this.pageB,
this.pageA),this.pageB.implementation.set_x(this.pageA.implementation._width),this.findLinks(this.pageA),this.pageSize=this.links.length,this.findLinks(this.pageB),this.pageOffset=this.pageA.implementation._x,this.pageB.implementation.set_alpha(0),this.pageB.set_visible(!0)):(this.findLinks(this),this.pageSize=this.links.length);null!=this.pageA&&(c=this.getChild("next_button"),null!=c&&this.set_nextButton(c),c=this.getChild("previous_button"),null!=c&&this.set_previousButton(c));this.update()},initialize:function(){a.widget.Group.prototype.initialize.call(this);
this.set_itemUpdater(null);this.links=[];this.set_data([]);this.dragged=this.velocity=0;this.needsSnap=!1;this.currentPage=0;this.set_pageCount(0);this.deltaDistance=0},pagingEnabled:null,pageOffset:null,pageSize:null,currentPage:null,pageScroller:null,pageIndicator:null,snapTweenB:null,snapTweenA:null,pageB:null,pageA:null,needsSnap:null,dragged:null,velocity:null,deltaDistance:null,currentTouchX:null,currentTouchId:null,links:null,__class__:a.widget.Chain,__properties__:h(a.widget.Group.prototype.__properties__,
{set_nextButton:"set_nextButton",set_previousButton:"set_previousButton",set_pageCount:"set_pageCount",set_data:"set_data",set_itemUpdater:"set_itemUpdater"})});a.widget.Label=function(c,b){a.widget.Simple.call(this,c,b)};f["nfuzion.widget.Label"]=a.widget.Label;a.widget.Label.__name__=["nfuzion","widget","Label"];a.widget.Label.__super__=a.widget.Simple;a.widget.Label.prototype=h(a.widget.Simple.prototype,{destroy:function(){null!=this.textComponent&&this.textComponent.destroy();a.widget.Simple.prototype.destroy.call(this)},
set_paint:function(a){this.paint=a;null!=this.textComponent&&this.textComponent.set_paint(a);return a},paint:null,set_wrap:function(a){null!=this.textComponent&&this.textComponent.set_wrap(a);return a},wrap:null,set_text:function(a){this.text=a;null!=this.textComponent&&this.textComponent.get_text()!=a&&this.textComponent.set_text(a);return a},text:null,configureComponent:function(){a.widget.Simple.prototype.configureComponent.call(this);this.textComponent=null;null!=this.implementation&&q.Boot.__instanceof(this.implementation,
a.graphics.Text)&&(this.textComponent=this.implementation,this.set_text(this.textComponent.get_text()))},textComponent:null,__class__:a.widget.Label,__properties__:h(a.widget.Simple.prototype.__properties__,{set_text:"set_text",set_wrap:"set_wrap",set_paint:"set_paint"})});a.widget.List=function(c,b){this.visualPosition=this._dataPosition=this.dataLength=0;this.rowUpdater=null;this.scrollFactor=1;this.selectedRowIndex=0;a.widget.Group.call(this,c,b)};f["nfuzion.widget.List"]=a.widget.List;a.widget.List.__name__=
["nfuzion","widget","List"];a.widget.List.__super__=a.widget.Group;a.widget.List.prototype=h(a.widget.Group.prototype,{destroy:function(){a.widget.Group.prototype.destroy.call(this);null!=this.cache&&(this.cache.destroy(),this.cache=null);null!=this.physics&&(this.physics.destroy(),this.set_physics(null));for(;0<this.rows.length;){var c=this.rows.pop();null!=c&&c.widget.destroy()}this.rows=null},getDataByWidget:function(a){for(var b=0,d=this.rows;b<d.length;){var e=d[b];++b;if(e.widget==a)return e.data}return null},
set_physics:function(a){null!=this.physics&&(this.detachListener(a,"PhysicsEvent.begin",l(this,this.onPhysicsBegin)),this.detachListener(a,"PhysicsEvent.change",l(this,this.onPhysicsChange)),this.detachListener(a,"PhysicsEvent.end",l(this,this.onPhysicsEnd)));this.physics=a;null!=a&&(a.set_touchTarget(this.target),0<this.rowSize&&a.set_rowSize(this.rowSize),a.bottomPadding=this.rowOverlap,this.attachListener(a,"PhysicsEvent.begin",l(this,this.onPhysicsBegin)),this.attachListener(a,"PhysicsEvent.change",
l(this,this.onPhysicsChange)),this.attachListener(a,"PhysicsEvent.end",l(this,this.onPhysicsEnd)));return a},physics:null,onPhysicsEnd:function(a){this.onPhysicsChange(a)},onPhysicsChange:function(a){this.set_visualPosition(a.position);this.adjustRowPositions()},onPhysicsBegin:function(a){this.onPhysicsChange(a);a=0;for(var b=this.rows;a<b.length;){var d=b[a];++a;d.widget.cancel()}},update:function(){for(var a=0,b=this.rows.length;a<b;){var d=a++,e=this._dataPosition+d,f=this.rows[d];f.data=this.cache.getDataAt(e);
if(null==f.data||null==this.rowUpdater)e=-35535;f.dataIndex!=e&&(f.dataIndex=e,0<=e?(f.widget.set_visible(!0),f.widgetIndex=d,this.rowUpdater(this.rows[d])):f.widget.set_visible(!1))}},onCacheUpdate:function(a){this.cache.listPosition<=a.end&&this.cache.listPosition+this.rows.length>a.start&&this.update()},adjustRowPositions:function(){for(var a=this._dataPosition*this.rowSize-this.visualPosition,b=0,d=this.rows.length;b<d;){var e=b++;this.rows[e].widget.implementation.set_y(a+e*this.rowSize)}},getPosition:function(a){g.Log.trace("FATAL: getPosition from List.as must be overridden.",
{fileName:"List.hx",lineNumber:280,className:"nfuzion.widget.List",methodName:"getPosition"});return 0},invalidateView:function(){for(var a=0,b=this.rows;a<b.length;){var d=b[a];++a;d.dataIndex=-35534}this.update()},set_dataLength:function(c){this.dataLength!=c&&(this.dataLength=c,null!=this.physics&&(this.physics.set_length(this.rowSize*c-this.size+this.rowOverlap),this.physics.set_step(this.size)),this.dispatchEvent(new a.widget.event.ListEvent("ListEvent.length",this,!0)),this.cache.set_listLength(c),
this.invalidateView());return c},dataLength:null,changeDataPosition:function(a){a>this.dataLength-this.rows.length&&(a=this.dataLength-this.rows.length);0>a&&(a=0);if(this._dataPosition!=a){var b;a<this._dataPosition&&a+this.rows.length>=this._dataPosition?(b=this.rows.splice(this.rows.length-(this._dataPosition-a),this.rows.length-2),this.rows=b.concat(this.rows)):a>this._dataPosition&&a<this._dataPosition+this.rows.length&&(b=this.rows.splice(0,a-this._dataPosition),this.rows=this.rows.concat(b));
this._dataPosition=a;this.cache.set_listPosition(a);this.adjustRowPositions();this.update()}},set_dataPosition:function(a){this.set_visualPosition(a*this.rowSize);null!=this.physics&&this.physics.set_position(this.visualPosition);return a},get_dataPosition:function(){return this._dataPosition},_dataPosition:null,set_visualPosition:function(a){this.visualPosition!=a&&0<this.rowSize&&(this.visualPosition=a,this.changeDataPosition(a/this.rowSize|0));return a},visualPosition:null,rows:null,rowUpdater:null,
addListeners:function(){a.widget.Group.prototype.addListeners.call(this);this.set_physics(this.physics);this.attachListener(this.cache,"CacheEvent.update",l(this,this.onCacheUpdate))},findComponents:function(c){a.widget.Group.prototype.findComponents.call(this,c);this.set_enabled(!0);c=[];for(var b=0,d=this.get_childCount();b<d;){var e=b++,e=this.getChildAt(e),f=e.name.split("_");3<=f.length&&"row"==f[0]&&("button"==f[2]&&(e.pressDelayPeriod=0.1),f=n.parseInt(f[1]),c.push(new a.widget.type.ItemWidget(e,
f)))}c.sort(function(a,c){return a.widgetIndex-c.widgetIndex});this.size=this.implementation._height;this.rowSize=1<c.length?c[1].widget.implementation._y-c[0].widget.implementation._y:c[0].widget.implementation._height;this.rowOverlap=c[0].widget.implementation._height-this.rowSize;this.pageSize=Math.ceil(this.size/this.rowSize);this.cache.set_windowSize(this.pageSize);for(var b=Math.ceil(this.size/this.rowSize)+1,f=c[c.length-1].widget.name.split("_"),g=c[c.length-1].widget,d=c.length;d<b;){e=d++;
f[1]=n.string(e);var h=g.clone();h.name=f.join("_");this.insertChildAfter(h,g);c.push(new a.widget.type.ItemWidget(h,e))}b=0;for(d=c.length;b<d;)e=b++,c[e].widgetIndex=e,e=c[e].widget,e.bubbleComponentEvents=!0;for(d=0;d<c.length;)e=c[d],++d,this.rows.push(e);this.adjustRowPositions();this.update()},initialize:function(){a.widget.Group.prototype.initialize.call(this);this.rows=[];this.cache=new a.cache.ListCache},scrollFactor:null,selectedRowIndex:null,rowOverlap:null,rowSize:null,size:null,cache:null,
pageSize:null,__class__:a.widget.List,__properties__:h(a.widget.Group.prototype.__properties__,{set_visualPosition:"set_visualPosition",set_dataPosition:"set_dataPosition",get_dataPosition:"get_dataPosition",set_dataLength:"set_dataLength",set_physics:"set_physics"})});a.widget.Scroller=function(c,b){this.popupPageThreshold=5;this.reportPeriod=0;this.vMaximum=this.hMaximum=90;this.vValue=this.hValue=this.hMinimum=this.vMinimum=0;this.repaintRequested=this.hideIfUseless=!1;this.popupWidget=this.currentTouchId=
null;this.hidePopupOnStop=!0;this.popupUpdater=null;this.progressTracksThumb=this.liveProgress=!0;this.verticalEnabled=this.horizontalEnabled=this.roundValue=this.thumbDown=!1;a.widget.Group.call(this,c,b)};f["nfuzion.widget.Scroller"]=a.widget.Scroller;a.widget.Scroller.__name__=["nfuzion","widget","Scroller"];a.widget.Scroller.__super__=a.widget.Group;a.widget.Scroller.prototype=h(a.widget.Group.prototype,{set_popupPageThreshold:function(a){this.popupPageThreshold!=a&&(this.popupPageThreshold=a,
this.updatePopup());return this.popupPageThreshold},popupPageThreshold:null,onPaint:function(a){this.thumbDown?(a=this.implementation.globalToLocal(this.touch),this.verticalEnabled&&this.slideY(a.y-this.touchOffset.y),this.horizontalEnabled&&this.slideX(a.x-this.touchOffset.x),0==this.get_reportPeriod()&&this.reportPosition(),this.updatePopup(),this.liveProgress&&(this.updateProgress(),this.updateButtons())):(this.detachListener(this.implementation.get_stage(),"paint",l(this,this.onPaint)),this.repaintRequested=
!1,this.update(),this.updatePopup())},set_autoRepeatDelay:function(a){this.autoRepeatDelay=a;null!=this.upButton&&this.upButton.set_autoRepeatDelay(a);null!=this.downButton&&this.downButton.set_autoRepeatDelay(a);null!=this.leftButton&&this.leftButton.set_autoRepeatDelay(a);null!=this.rightButton&&this.rightButton.set_autoRepeatDelay(a);return this.autoRepeatDelay},autoRepeatDelay:null,set_autoRepeatPeriod:function(a){this.autoRepeatPeriod=a;null!=this.upButton&&this.upButton.set_autoRepeatPeriod(a);
null!=this.downButton&&this.downButton.set_autoRepeatPeriod(a);null!=this.leftButton&&this.leftButton.set_autoRepeatPeriod(a);null!=this.rightButton&&this.rightButton.set_autoRepeatPeriod(a);return this.autoRepeatPeriod},autoRepeatPeriod:null,updatePopup:function(){if(null!=this.popupWidget){var a=0;this.horizontalEnabled&&(a=(this.hMaximum-this.hMinimum)/this.hPageSize);var b=0;this.verticalEnabled&&(b=(this.vMaximum-this.vMinimum)/this.vPageSize);if(b>this.popupPageThreshold||a>this.popupPageThreshold)this.popupWidget.set_visible(!0),
null!=this.popupUpdater&&this.popupUpdater(this.popupWidget)}},set_hProgress:function(a){if(this.horizontalEnabled&&null!=this.progressIndicator){a<this.hMinimum&&(a=this.hMinimum);a>this.hMaximum-this.hPageSize&&(a=this.hMaximum-this.hPageSize);var b=this.hMaximum-this.hMinimum-this.hPageSize;0>b&&(b=0);this.progressIndicator.set_width((a-this.hMinimum)/b*this.progressWidth)}return a},get_hProgress:function(){if(this.horizontalEnabled&&null!=this.progressIndicator){var a=this.hMaximum-this.hMinimum-
this.hPageSize;0>a&&(a=0);return this.progressIndicator._width/this.progressWidth*a+this.hMinimum}return 0},set_vProgress:function(a){if(this.verticalEnabled&&null!=this.progressIndicator){a<this.vMinimum&&(a=this.vMinimum);a>this.vMaximum-this.vPageSize&&(a=this.vMaximum-this.vPageSize);var b=this.vMaximum-this.vMinimum-this.vPageSize;0>b&&(b=0);this.progressIndicator.set_height((a-this.vMinimum)/b*this.progressHeight)}return a},get_vProgress:function(){if(this.verticalEnabled&&null!=this.progressIndicator){var a=
this.vMaximum-this.vMinimum-this.vPageSize;0>a&&(a=0);return this.progressIndicator._height/this.progressHeight*a+this.vMinimum}return 0},set_progress:function(a){this.verticalEnabled?this.set_vProgress(a):this.set_hProgress(a);return a},get_progress:function(){return this.verticalEnabled?this.get_vProgress():this.get_hProgress()},set_reportPeriod:function(a){this.reportPeriod=this.get_reportPeriod();0<a&&this.reportTimer.set_period(a);return this.reportTimer.period},get_reportPeriod:function(){return this.reportTimer.period},
reportPeriod:null,pageRight:function(a){this.set_hValue(this.get_hValue()+this.hPageSize);this.liveProgress&&this.updateProgress();this.reportPosition()},pageLeft:function(a){this.set_hValue(this.get_hValue()-this.hPageSize);this.liveProgress&&this.updateProgress();this.reportPosition()},pageDown:function(a){this.set_vValue(this.get_vValue()+Math.floor(this.vPageSize));this.liveProgress&&this.updateProgress();this.reportPosition()},pageUp:function(a){this.set_vValue(this.get_vValue()-Math.floor(this.vPageSize));
this.liveProgress&&this.updateProgress();this.reportPosition()},reportPosition:function(c){c=this.get_vValue();this.previousVValue!=c&&(this.previousVValue=c,this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.verticalPosition",this,c,!0)),this.verticalEnabled&&this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.position",this,c,!0)));c=this.get_hValue();this.previousHValue!=c&&(this.previousHValue=c,this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.horizontalPosition",
this,c,!0)),this.verticalEnabled||this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.position",this,c,!0)))},stopSlideTimer:function(){this.reportTimer.stop();this.detachListener(this.reportTimer,"timer",l(this,this.reportPosition))},startSlideTimer:function(){this.stopSlideTimer();this.attachListener(this.reportTimer,"timer",l(this,this.reportPosition));this.reportTimer.set_period(this.get_reportPeriod());this.reportTimer.start()},onHListPageSize:function(a){this.set_hPageSize(a.target.pageSize)},
onVListPageSize:function(a){this.set_vPageSize(a.target.pageSize)},onListPageSize:function(a){if(this.verticalEnabled)this.onVListPageSize(a);else this.onHListPageSize(a)},set_hPageSize:function(a){a!=this.hPageSize&&(this.hPageSize=a,this.hMaximum-this.hPageSize<this.get_hValue()&&this.set_value(this.hMaximum-this.hPageSize),this.repaint());return this.hPageSize},hPageSize:null,set_vPageSize:function(a){a!=this.vPageSize&&(this.vPageSize=a,this.vMaximum-this.vPageSize<this.get_vValue()&&this.set_value(this.vMaximum-
this.vPageSize),this.repaint());return this.vPageSize},vPageSize:null,set_pageSize:function(a){this.verticalEnabled?this.set_vPageSize(a):this.set_hPageSize(a);return a},get_pageSize:function(){return this.verticalEnabled?this.vPageSize:this.hPageSize},onHListLength:function(a){this.set_hMaximum(a.target.dataLength)},set_hMaximum:function(a){a!=this.hMaximum&&(this.hMaximum=a,this.hMaximum<this.hMinimum&&this.set_hMinimum(this.hMaximum),this.hMaximum-this.hPageSize<this.get_hValue()&&this.set_value(this.hMaximum-
this.hPageSize),this.repaint());return this.hMaximum},hMaximum:null,onVListLength:function(a){this.set_vMaximum(a.target.dataLength)},set_vMaximum:function(a){a!=this.vMaximum&&(this.vMaximum=a,this.vMaximum<this.vMinimum&&this.set_vMinimum(this.vMaximum),this.vMaximum-this.vPageSize<this.get_vValue()&&this.set_value(this.vMaximum-this.vPageSize),this.repaint());return this.vMaximum},vMaximum:null,onListLength:function(a){if(this.verticalEnabled)this.onVListLength(a);else this.onHListLength(a)},set_maximum:function(a){this.verticalEnabled?
this.set_vMaximum(a):this.set_hMaximum(a);return a},get_maximum:function(){return this.verticalEnabled?this.vMaximum:this.hMaximum},set_vMinimum:function(a){a!=this.vMinimum&&(this.vMinimum=a,this.vMinimum>this.vMaximum&&this.set_vMaximum(this.vMinimum),this.vMinimum>this.get_vValue()&&this.set_vValue(this.vMinimum),this.repaint());return this.vMinimum},vMinimum:null,set_hMinimum:function(a){a!=this.hMinimum&&(this.hMinimum=a,this.hMinimum>this.hMaximum&&this.set_hMaximum(this.hMinimum),this.hMinimum>
this.get_hValue()&&this.set_hValue(this.hMinimum),this.repaint());return this.hMinimum},hMinimum:null,set_minimum:function(a){this.verticalEnabled?this.set_vMinimum(a):this.set_hMinimum(a);return a},get_minimum:function(){return this.verticalEnabled?this.vMinimum:this.hMinimum},set_hValue:function(a){a!=this.get_hValue()&&(a>this.hMaximum-this.hPageSize&&(a=this.hMaximum-this.hPageSize),a<this.hMinimum&&(a=this.hMinimum),this.hValue=a,this.repaint());return this.get_hValue()},get_hValue:function(){return this.roundValue?
Math.round(this.hValue):this.hValue},hValue:null,set_vValue:function(a){a!=this.get_vValue()&&(a>this.vMaximum-this.vPageSize&&(a=this.vMaximum-this.vPageSize),a<this.vMinimum&&(a=this.vMinimum),this.vValue=a,this.repaint());return this.get_vValue()},get_vValue:function(){return this.roundValue?Math.round(this.vValue):this.vValue},vValue:null,set_value:function(a){this.verticalEnabled?this.set_vValue(a):this.set_hValue(a);return a},get_value:function(){return this.verticalEnabled?this.get_vValue():
this.get_hValue()},set_hideIfUseless:function(a){this.hideIfUseless=a;this.update();return a},hideIfUseless:null,onTouchEnd:function(a){this.currentTouchId==a.id&&(this.currentTouchId=null,null!=this.track&&(this.detachListener(this.track.get_stage(),"move",l(this,this.onTouchMove)),this.detachListener(this.track.get_stage(),"end",l(this,this.onTouchEnd))),this.endSlide())},onTouchMove:function(a){this.currentTouchId==a.id&&(this.touch=a.global.clone())},onTrackTouchBegin:function(a){null==this.currentTouchId&&
(this.currentTouchId=a.id,a.stopPropagation(),this.sensitiveTrack&&(null!=this.thumb?(this.touchOffset.x=this.thumb._width/2,this.touchOffset.y=this.thumb._height/2):(this.touchOffset.x=0,this.touchOffset.y=0),null!=this.track&&(this.attachListener(this.track.get_stage(),"move",l(this,this.onTouchMove)),this.attachListener(this.track.get_stage(),"end",l(this,this.onTouchEnd))),this.startSlide(),this.onTouchMove(a),this.reportPosition()))},onThumbTouchBegin:function(a){null==this.currentTouchId&&(this.currentTouchId=
a.id,a.stopPropagation(),this.touch=a.global.clone(),this.touchOffset=a.local,null!=this.track&&(this.attachListener(this.track.get_stage(),"move",l(this,this.onTouchMove)),this.attachListener(this.track.get_stage(),"end",l(this,this.onTouchEnd))),this.startSlide())},slideY:function(a){0<=this.height?a>this.bottom?a=this.bottom:a<this.top&&(a=this.top):a<this.bottom?a=this.bottom:a>this.top&&(a=this.top);null!=this.thumb&&this.thumb.set_y(a);this.updateValue()},slideX:function(a){0<=this.width?a>
this.right?a=this.right:a<this.left&&(a=this.left):a<this.right?a=this.right:a>this.left&&(a=this.left);null!=this.thumb&&this.thumb.set_x(a);this.updateValue()},endSlide:function(){this.thumbDown=!1;this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.release",this));this.stopSlideTimer();this.updateValue();this.reportPosition();this.touch=null;null!=this.popupWidget&&this.hidePopupOnStop&&this.popupWidget.set_visible(!1)},startSlide:function(){this.thumbDown=!0;this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.grab",
this));this.repaint();0<this.get_reportPeriod()&&this.startSlideTimer();this.updatePopup()},repaint:function(a){null==this.implementation||null==this.implementation.get_stage()||this.repaintRequested||(this.repaintRequested=!0,this.attachListener(this.implementation.get_stage(),"paint",l(this,this.onPaint)))},updateProgress:function(){if(null!=this.implementation){var a=0,b=0,b=a=0;if(null!=this.progressIndicator&&this.progressTracksThumb){if(null!=this.thumb)a=this.thumb._width/2,b=this.thumb._height/
2,a=this.thumb._x+a,b=this.thumb._y+b;else if(null!=this.touch)a=this.implementation.globalToLocal(this.touch).x,b=this.implementation.globalToLocal(this.touch).y;else{a=this.left;b=this.hMaximum-this.hMinimum-this.hPageSize;0>b&&(b=0);0!=b&&0!=this.width&&(a+=(this.get_value()-this.hMinimum)/b*this.width);var b=this.top,d=this.vMaximum-this.vMinimum-this.vPageSize;0>d&&(d=0);0!=d&&0!=this.height&&(b+=(this.get_value()-this.vMinimum)/d*this.height)}this.horizontalEnabled&&this.progressIndicator.set_right(a);
this.verticalEnabled&&this.progressIndicator.set_bottom(b)}null!=this.horizontalLine&&null!=this.verticalLine&&(this.verticalLine.set_x(this.thumb._x+this.thumb._width/2-this.verticalLine._width/2),this.horizontalLine.set_y(this.thumb._y+this.thumb._height/2-this.horizontalLine._height/2))}},updateButtons:function(){this.verticalEnabled&&(null!=this.upButton&&this.upButton.set_enabled(this.get_vValue()>this.vMinimum),null!=this.downButton&&this.downButton.set_enabled(this.get_vValue()<this.vMaximum-
this.vPageSize));this.horizontalEnabled&&(null!=this.leftButton&&this.leftButton.set_enabled(this.get_hValue()>this.hMinimum),null!=this.rightButton&&this.rightButton.set_enabled(this.get_hValue()<this.hMaximum-this.hPageSize))},updateValue:function(){var a;this.verticalEnabled&&(a=this.vMaximum-this.vMinimum-this.vPageSize,0>a&&(a=0),null!=this.track&&(null!=this.thumb?this.set_vValue((this.thumb._y-this.top)/this.height*a+this.vMinimum):this.set_vValue(this.track.globalToLocal(this.touch).y/this.height*
a+this.vMinimum)));this.horizontalEnabled&&(a=this.hMaximum-this.hMinimum-this.hPageSize,0>a&&(a=0),null!=this.track&&(null!=this.thumb?this.set_hValue((this.thumb._x-this.left)/this.width*a+this.hMinimum):this.set_hValue(this.track.globalToLocal(this.touch).x/this.width*a+this.hMinimum)));this.updateButtons()},update:function(){var a,b;this.hideIfUseless&&(a=!0,this.verticalEnabled&&Math.round(this.vMaximum-this.vPageSize)>Math.round(this.vMinimum)&&(a=!1),this.horizontalEnabled&&this.hMaximum-this.hPageSize>
this.hMinimum&&(a=!1),this.set_visible(!a));this.verticalEnabled&&(a=this.get_vValue(),a+this.vPageSize>this.vMaximum&&(a=this.vMaximum-this.vPageSize),a<this.vMinimum&&(a=this.vMinimum),b=this.vMaximum-this.vMinimum-this.vPageSize,0>b&&(b=0),null!=this.thumb&&(0!=b&&0!=this.height?this.thumb.set_y((a-this.vMinimum)/b*this.height+this.top):this.thumb.set_y(this.top)));this.horizontalEnabled&&(a=this.get_hValue(),a+this.hPageSize>this.hMaximum&&(a=this.hMaximum-this.hPageSize),a<this.hMinimum&&(a=
this.hMinimum),b=this.hMaximum-this.hMinimum-this.hPageSize,0>b&&(b=0),null!=this.thumb&&(0!=b&&0!=this.width?this.thumb.set_x((a-this.hMinimum)/b*this.width+this.left):this.thumb.set_x(this.left)));this.updateProgress();this.updateButtons()},set_sensitiveTrack:function(a){this.sensitiveTrack=a;null!=this.track&&(a?(this.attachListener(this.track,"begin",l(this,this.onTrackTouchBegin)),this.track.set_touchEnabled(!0)):(this.detachListener(this.track,"begin",l(this,this.onTrackTouchBegin)),this.track.set_touchEnabled(!1)));
return a},sensitiveTrack:null,addListeners:function(){a.widget.Group.prototype.addListeners.call(this);null!=this.thumb&&this.attachListener(this.thumb,"begin",l(this,this.onThumbTouchBegin));this.set_sensitiveTrack(this.sensitiveTrack);null!=this.upButton&&this.attachListener(this.upButton,"ButtonEvent.autoClick",l(this,this.pageUp));null!=this.downButton&&this.attachListener(this.downButton,"ButtonEvent.autoClick",l(this,this.pageDown));null!=this.leftButton&&this.attachListener(this.leftButton,
"ButtonEvent.autoClick",l(this,this.pageLeft));null!=this.rightButton&&this.attachListener(this.rightButton,"ButtonEvent.autoClick",l(this,this.pageRight))},findComponents:function(c){a.widget.Group.prototype.findComponents.call(this,c);this.track=this.getComponentChild(this.implementation,"track");this.thumb=this.getComponentChild(this.implementation,"thumb");null==this.thumb&&(this.thumb=this.getComponentChild(this.implementation,"thumb_button"));null!=this.thumb&&this.thumb.set_touchEnabled(!0);
c=this.getChild("popup_group");null!=c&&(this.popupWidget=c,this.popupWidget.set_visible(!1));this.progressIndicator=this.getComponentChild(this.implementation,"progress");null==this.progressIndicator&&(c=this.getChild("progress_simple"),null!=c&&(this.progressIndicator=c.implementation));null==this.progressIndicator&&(c=this.getChild("progress_group"),null!=c&&(this.progressIndicator=c.implementation));null!=this.progressIndicator&&(this.progressOrigin=new a.geometry.Point(this.progressIndicator._x,
this.progressIndicator._y));this.horizontalLine=this.getComponentChild(this.implementation,"horizontalLine");this.verticalLine=this.getComponentChild(this.implementation,"verticalLine");null!=this.track&&this.track._height>=this.track._width&&(this.verticalEnabled=!0);null!=this.track&&this.track._width>=this.track._height&&(this.horizontalEnabled=!0);null!=this.track&&(null!=this.thumb?(this.top=this.thumb._y,this.bottom=2*this.track._y+this.track._height-this.thumb._height-this.thumb._y,this.left=
this.thumb._x,this.right=2*this.track._x+this.track._width-this.thumb._width-this.thumb._x):(this.top=0,this.bottom=this.track._height,this.left=0,this.right=this.track._width));this.height=this.bottom-this.top;this.width=this.right-this.left;null!=this.progressIndicator&&null!=this.track&&(this.progressWidth=this.track._width+2*(this.track._x-this.progressIndicator._x),this.progressHeight=this.track._height+2*(this.track._y-this.progressIndicator._y));c=this.getChild("up_button");null!=c&&(this.upButton=
c,this.verticalEnabled=!0);c=this.getChild("down_button");null!=c&&(this.downButton=c,this.verticalEnabled=!0);c=this.getChild("left_button");null!=c&&(this.leftButton=c,this.horizontalEnabled=!0);c=this.getChild("right_button");null!=c&&(this.rightButton=c,this.horizontalEnabled=!0);this.set_autoRepeatPeriod(0.2);this.set_autoRepeatDelay(1);this.set_sensitiveTrack(!0);this.set_enabled(!0);this.reportPosition();this.repaint();this.attachListener(this.implementation,"addedToStage",l(this,this.repaint))},
initialize:function(){a.widget.Group.prototype.initialize.call(this);this.touchOffset=new a.geometry.Point;this.reportTimer=new a.timer.Timer(0);this.progressOrigin=new a.geometry.Point;this.set_hMinimum(0);this.set_vMinimum(0);this.set_hMaximum(100);this.set_vMaximum(100);this.set_vPageSize(10);this.set_hPageSize(10)},repaintRequested:null,touch:null,currentTouchId:null,progressOrigin:null,popupWidget:null,progressHeight:null,progressWidth:null,reportTimer:null,verticalLine:null,horizontalLine:null,
progressIndicator:null,track:null,thumb:null,previousHValue:null,previousVValue:null,touchOffset:null,width:null,right:null,left:null,height:null,bottom:null,top:null,rightButton:null,leftButton:null,downButton:null,upButton:null,hidePopupOnStop:null,popupUpdater:null,liveProgress:null,progressTracksThumb:null,thumbDown:null,roundValue:null,horizontalEnabled:null,verticalEnabled:null,__class__:a.widget.Scroller,__properties__:h(a.widget.Group.prototype.__properties__,{set_sensitiveTrack:"set_sensitiveTrack",
set_hideIfUseless:"set_hideIfUseless",set_value:"set_value",get_value:"get_value",set_vValue:"set_vValue",get_vValue:"get_vValue",set_hValue:"set_hValue",get_hValue:"get_hValue",set_minimum:"set_minimum",get_minimum:"get_minimum",set_hMinimum:"set_hMinimum",set_vMinimum:"set_vMinimum",set_maximum:"set_maximum",get_maximum:"get_maximum",set_vMaximum:"set_vMaximum",set_hMaximum:"set_hMaximum",set_pageSize:"set_pageSize",get_pageSize:"get_pageSize",set_vPageSize:"set_vPageSize",set_hPageSize:"set_hPageSize",
set_reportPeriod:"set_reportPeriod",get_reportPeriod:"get_reportPeriod",set_progress:"set_progress",get_progress:"get_progress",set_vProgress:"set_vProgress",get_vProgress:"get_vProgress",set_hProgress:"set_hProgress",get_hProgress:"get_hProgress",set_autoRepeatPeriod:"set_autoRepeatPeriod",set_autoRepeatDelay:"set_autoRepeatDelay",set_popupPageThreshold:"set_popupPageThreshold"})});a.widget.VBox=function(c,b){a.widget.Group.call(this,c,b)};f["nfuzion.widget.VBox"]=a.widget.VBox;a.widget.VBox.__name__=
["nfuzion","widget","VBox"];a.widget.VBox.__super__=a.widget.Group;a.widget.VBox.prototype=h(a.widget.Group.prototype,{onChildSizeChange:function(a){this.update()},update:function(){a.widget.Group.prototype.update.call(this);for(var c=0,b=0,d=this.children.length-1;0<=d;){var e=this.children[d];null!=e&&null!=e.implementation&&(c+=e.implementation._height,e.implementation.set_y(b),b+=e.implementation._height);d--}0<c&&this.implementation.set_height(c)},appendChild:function(c){var b=a.widget.Group.prototype.appendChild.call(this,
c);b&&null!=c.implementation&&this.attachListener(c.implementation,"changeSize",l(this,this.onChildSizeChange));return b},findChildWidgets:function(c){a.widget.Group.prototype.findChildWidgets.call(this,c);c=0;for(var b=this.children;c<b.length;){var d=b[c];++c;this.attachListener(d.implementation,"changeSize",l(this,this.onChildSizeChange))}this.update()},__class__:a.widget.VBox});a.widget.event={};a.widget.event.ButtonEvent=function(c,b,d){null==d&&(d=!0);a.event.BubblingEvent.call(this,c,d);this.target=
b};f["nfuzion.widget.event.ButtonEvent"]=a.widget.event.ButtonEvent;a.widget.event.ButtonEvent.__name__=["nfuzion","widget","event","ButtonEvent"];a.widget.event.ButtonEvent.__super__=a.event.BubblingEvent;a.widget.event.ButtonEvent.prototype=h(a.event.BubblingEvent.prototype,{target:null,__class__:a.widget.event.ButtonEvent});a.widget.event.ChainEvent=function(c,b,d,e,f){null==f&&(f=!0);a.event.BubblingEvent.call(this,c,f);this.target=b;this.index=d;this.data=e};f["nfuzion.widget.event.ChainEvent"]=
a.widget.event.ChainEvent;a.widget.event.ChainEvent.__name__=["nfuzion","widget","event","ChainEvent"];a.widget.event.ChainEvent.__super__=a.event.BubblingEvent;a.widget.event.ChainEvent.prototype=h(a.event.BubblingEvent.prototype,{data:null,index:null,target:null,__class__:a.widget.event.ChainEvent});a.widget.event.ListEvent=function(c,b,d){null==d&&(d=!0);a.event.BubblingEvent.call(this,c,d);this.target=b};f["nfuzion.widget.event.ListEvent"]=a.widget.event.ListEvent;a.widget.event.ListEvent.__name__=
["nfuzion","widget","event","ListEvent"];a.widget.event.ListEvent.__super__=a.event.BubblingEvent;a.widget.event.ListEvent.prototype=h(a.event.BubblingEvent.prototype,{target:null,__class__:a.widget.event.ListEvent});a.widget.event.ScrollerEvent=function(c,b,d,e){null==e&&(e=!0);null==d&&(d=0);a.event.BubblingEvent.call(this,c,e);this.target=b;this.value=d};f["nfuzion.widget.event.ScrollerEvent"]=a.widget.event.ScrollerEvent;a.widget.event.ScrollerEvent.__name__=["nfuzion","widget","event","ScrollerEvent"];
a.widget.event.ScrollerEvent.__super__=a.event.BubblingEvent;a.widget.event.ScrollerEvent.prototype=h(a.event.BubblingEvent.prototype,{value:null,target:null,__class__:a.widget.event.ScrollerEvent});a.widget.event.WidgetEvent=function(c,b,d){null==d&&(d=!0);a.event.BubblingEvent.call(this,c,d);this.target=b};f["nfuzion.widget.event.WidgetEvent"]=a.widget.event.WidgetEvent;a.widget.event.WidgetEvent.__name__=["nfuzion","widget","event","WidgetEvent"];a.widget.event.WidgetEvent.__super__=a.event.BubblingEvent;
a.widget.event.WidgetEvent.prototype=h(a.event.BubblingEvent.prototype,{target:null,__class__:a.widget.event.WidgetEvent});a.widget.type={};a.widget.type.ItemWidget=function(a,b,d,e){null==e&&(e=-35534);this.widget=a;this.widgetIndex=b;this.data=d;this.data=e};f["nfuzion.widget.type.ItemWidget"]=a.widget.type.ItemWidget;a.widget.type.ItemWidget.__name__=["nfuzion","widget","type","ItemWidget"];a.widget.type.ItemWidget.prototype={dataIndex:null,data:null,widgetIndex:null,widget:null,__class__:a.widget.type.ItemWidget};
a.widget.type.PartialList=function(a,b){this.offset=a;this.entries=b};f["nfuzion.widget.type.PartialList"]=a.widget.type.PartialList;a.widget.type.PartialList.__name__=["nfuzion","widget","type","PartialList"];a.widget.type.PartialList.prototype={clone:function(){return new a.widget.type.PartialList(this.offset,this.entries.slice())},entries:null,offset:null,__class__:a.widget.type.PartialList};var v={Peripheral:function(){}};f["peripheral.Peripheral"]=v.Peripheral;v.Peripheral.__name__=["peripheral",
"Peripheral"];v.Peripheral.initialize=function(){a.nTactic.NTactic.cacheManager.set_cacheAll(!0);if(v.Peripheral.initialized)throw"Intercepted attempt to initialize Peripheral twice.";v.Peripheral.initialized=!0;v.Peripheral.urlRecord=a.nTactic.NTactic.storage.getRecord("url");null==v.Peripheral.urlRecord.value&&v.Peripheral.useDefault();try{v.Peripheral.spanClient=new a.span.SpanClient(v.Peripheral.urlRecord.value,null,"Message Sender","Development")}catch(c){v.Peripheral.spanClient=null,g.Log.trace("NOTICE: Invalid url. Using default.",
{fileName:"Peripheral.hx",lineNumber:40,className:"peripheral.Peripheral",methodName:"initialize"}),v.Peripheral.useDefault(),v.Peripheral.spanClient=new a.span.SpanClient(v.Peripheral.urlRecord.value)}null!=v.Peripheral.spanClient&&(v.Peripheral.spanClient.set_autoConnect(!0),a.debug.Debug.set_client(v.Peripheral.spanClient));v.Peripheral.urlRecord.addEventListener("RecordEvent.change",v.Peripheral.onUrlChange)};v.Peripheral.useDefault=function(){v.Peripheral.urlRecord.set_value("ws://localhost:4410")};
v.Peripheral.onUrlChange=function(a){v.Peripheral.spanClient.connect(v.Peripheral.urlRecord.value)};var y,A;y=function(c){a.nTactic.core.DynamicScreen.call(this,c)};f["screen.BaseScreen"]=y;y.__name__=["screen","BaseScreen"];y.__super__=a.nTactic.core.DynamicScreen;y.prototype=h(a.nTactic.core.DynamicScreen.prototype,{onButton:function(c){c=c.target.name;c=c.substring(0,c.indexOf("_"));g.Log.trace("Button Clicked: "+c,{fileName:"BaseScreen.hx",lineNumber:169,className:"screen.BaseScreen",methodName:"onButton"});
if(s.startsWith(c,"local")){if(c=this.screens.get(c),null!=c)a.nTactic.NTactic.screens["goto"](c)}else{var b=this.messages.get(c);null!=b?v.Peripheral.spanClient.send(b):g.Log.trace("WARNING: Message "+c+" not found.",{fileName:"BaseScreen.hx",lineNumber:187,className:"screen.BaseScreen",methodName:"onButton"})}},getY:function(){return 50*Math.floor(this.buttonCount/this.buttonsPerRow)},getX:function(){return 160*(this.buttonCount%this.buttonsPerRow)},createButton:function(c,b,d,e,f,g,h,l,m){h=new a.sketch.type.SketchContainer(b,
h,l,f,g);h.borderPaint=m;h.borderWidth=3;b=null;null!=d&&(b=new a.sketch.type.SketchText("text_label",2,10,f-4,g-12),b.paint=this.buttonTextPaint,b.alignment=a.type.Alignment.center,b.font=d,b.text=e,h.appendChildSketch(b));d=new a.sketch.type.SketchContainer("down");d.backgroundPaint=this.buttonDownPaint;d.borderPaint=m;d.borderWidth=3;h.addGuise(d);c=a.nTactic.NTactic.builder.buildContainer(c,h);null!=b&&(b.paint=null);return c},addButton:function(a,b){var d=n.string(this.getX()+"-"+this.getY());
this.createButton(this,d+"_button",this.primaryFont,a,160,50,this.getX(),this.getY(),this.buttonBorderPaint);this.buttonArray.push(d+"_button");this.messages.set(d,b);b;this.buttonCount++},addLocalButton:function(a,b){var d="local"+n.string(this.getX()+"-"+this.getY());this.createButton(this,d+"_button",this.primaryFont,a,160,50,this.getX(),this.getY(),this.localButtonPaint);this.buttonArray.push(d+"_button");this.screens.set(d,b);b;this.buttonCount++},addButtons:function(){this.addLocalButton("< Back",
"Home")},layoutScreen:function(){a.nTactic.core.DynamicScreen.prototype.layoutScreen.call(this);this.messages=new g.ds.StringMap;this.screens=new g.ds.StringMap;this.buttonCount=0;this.buttonsPerRow=Math.floor(a.nTactic.NTactic.stage._width/160);this.buttonArray=[];var c=this.createContainer("background_simple",a.nTactic.NTactic.stage._width|0,a.nTactic.NTactic.stage._height|0);c.set_backgroundPaint(this.bgPaint);this.appendChild(c);this.addButtons()},defineFonts:function(){a.nTactic.core.DynamicScreen.prototype.defineFonts.call(this);
this.primaryFont=this.setFont("statsoverlayprimary",this.formatPath("./fonts/GillSansLight.ttf"),16)},definePaints:function(){a.nTactic.core.DynamicScreen.prototype.definePaints.call(this);this.bgPaint=this.setPaint("background","0x222222");this.buttonBorderPaint=this.setPaint("border","0x78C043");this.localButtonPaint=this.setPaint("local","0xFF7F2A");this.buttonTextPaint=this.setPaint("text","0xffffff");this.buttonDownPaint=this.setPaint("down","0x555555")},addListeners:function(){a.nTactic.core.DynamicScreen.prototype.addListeners.call(this);
for(var c=0,b=this.buttonArray;c<b.length;){var d=b[c];++c;d=this.getWidget(d);this.attachListener(d,"ButtonEvent.click",l(this,this.onButton))}},setupWidgets:function(){a.nTactic.core.DynamicScreen.prototype.setupWidgets.call(this);this.group=new a.widget.Group(this.graphicsClassName,this)},buttonArray:null,buttonsPerRow:null,buttonCount:null,screens:null,messages:null,buttonTextPaint:null,buttonDownPaint:null,localButtonPaint:null,buttonBorderPaint:null,bgPaint:null,primaryFont:null,__class__:y});
x=function(a){y.call(this,a)};f["screen.HmiClusterTestScreen"]=x;x.__name__=["screen","HmiClusterTestScreen"];x.__super__=y;x.prototype=h(y.prototype,{addButtons:function(){y.prototype.addButtons.call(this);this.addButton("Ignition On",new a.message.vehicle.LetStarted(!0));this.addButton("Ignition Off ",new a.message.vehicle.LetStarted(!1));this.addButton("ABS - T",new a.message.vehicle.LetABS(!0));this.addButton("ABS - F",new a.message.vehicle.LetABS(!1));this.addButton("Airbag - T",new a.message.vehicle.LetAirbag(!0));
this.addButton("Airbag - F",new a.message.vehicle.LetAirbag(!1));this.addButton("Battery - T",new a.message.vehicle.LetBattery(!0));this.addButton("Battery - F",new a.message.vehicle.LetBattery(!1));this.addButton("E-Brake - T",new a.message.vehicle.LetEmergencyBrake(!0));this.addButton("E-Brake - F",new a.message.vehicle.LetEmergencyBrake(!1));this.addButton("HiBeam - T",new a.message.vehicle.LetHighBeam(!0));this.addButton("HiBeam - F",new a.message.vehicle.LetHighBeam(!1));this.addButton("Odometer A",
new a.message.vehicle.LetOdometer(8675309.1));this.addButton("Odometer B",new a.message.vehicle.LetOdometer(59368.7));this.addButton("Oil - T",new a.message.vehicle.LetOil(!0));this.addButton("Oil - F",new a.message.vehicle.LetOil(!1));this.addButton("Seatbelt - T",new a.message.vehicle.LetSeatBelt(!0));this.addButton("Seatbelt - F",new a.message.vehicle.LetSeatBelt(!1));this.addButton("TracCtrl - T",new a.message.vehicle.LetTractionControl(!0));this.addButton("TracCtrl - F",new a.message.vehicle.LetTractionControl(!1));
this.addButton("Fuel 33%",new a.message.vehicle.LetFuel(0.33));this.addButton("Fuel 100%",new a.message.vehicle.LetFuel(1));this.addButton("Fuel 0%",new a.message.vehicle.LetFuel(0));this.addButton("Dis2E 777.7",new a.message.vehicle.LetDistanceToEmpty(777.7));this.addButton("Dis2E 207",new a.message.vehicle.LetDistanceToEmpty(20));this.addButton("Speed - 55",new a.message.vehicle.LetSpeed(55.1));this.addButton("Speed - 106",new a.message.vehicle.LetSpeed(106));this.addButton("Speed - 8",new a.message.vehicle.LetSpeed(8));
this.addButton("PRND - P",new a.message.vehicle.LetTransmission(a.message.vehicle.type.TransmissionState.park));this.addButton("PRND - R",new a.message.vehicle.LetTransmission(a.message.vehicle.type.TransmissionState.reverse));this.addButton("PRND - N",new a.message.vehicle.LetTransmission(a.message.vehicle.type.TransmissionState.nuetral));this.addButton("PRND - D",new a.message.vehicle.LetTransmission(a.message.vehicle.type.TransmissionState.drive));this.addButton("TurnSig - L",new a.message.vehicle.LetTurnSignal(a.message.vehicle.type.TurnSignalState.left));
this.addButton("TurnSig - R",new a.message.vehicle.LetTurnSignal(a.message.vehicle.type.TurnSignalState.right));this.addButton("TurnSig - N",new a.message.vehicle.LetTurnSignal(a.message.vehicle.type.TurnSignalState.none));this.addButton("TurnSig - B",new a.message.vehicle.LetTurnSignal(a.message.vehicle.type.TurnSignalState.both));this.addButton("WaterTemp - 77",new a.message.vehicle.LetWaterTemperature(0.77));this.addButton("WaterTemp - 15",new a.message.vehicle.LetWaterTemperature(0.15));this.addButton("Nav - BearLeft",
new a.message.navigation.LetNextTurn(new a.message.navigation.type.StepData(a.message.navigation.type.TargetType.bearLeft,1941,"Pearl Harbor Way")));this.addButton("Nav - BearRight",new a.message.navigation.LetNextTurn(new a.message.navigation.type.StepData(a.message.navigation.type.TargetType.bearRight,2001,"Trade Plaza")));this.addButton("Nav - Left",new a.message.navigation.LetNextTurn(new a.message.navigation.type.StepData(a.message.navigation.type.TargetType.left,1776,"Lexington Hwy")));this.addButton("Nav - Right",
new a.message.navigation.LetNextTurn(new a.message.navigation.type.StepData(a.message.navigation.type.TargetType.right,1492,"Santo Domingo St")));this.addButton("Nav - UTurn",new a.message.navigation.LetNextTurn(new a.message.navigation.type.StepData(a.message.navigation.type.TargetType.uturn,1066,"Normandy Lane")));this.addButton("Nav Dist 620",new a.message.navigation.LetDistance(620));this.addButton("Nav Dist 2585",new a.message.navigation.LetDistance(2585));this.addButton("Nav Dist 605548",new a.message.navigation.LetDistance(605548))},
__class__:x});x=function(a){y.call(this,a)};f["screen.Home"]=x;x.__name__=["screen","Home"];x.__super__=y;x.prototype=h(y.prototype,{addButtons:function(){this.addLocalButton("Span Config","popup:SpanConfigPopup");this.addLocalButton("nService","NServiceTestScreen");this.addLocalButton("Robin Hood Cluster","HmiClusterTestScreen");this.addLocalButton("Robin Hood HMI","RobinhoodHmi")},__class__:x});x=function(a){y.call(this,a)};f["screen.NServiceTestScreen"]=x;x.__name__=["screen","NServiceTestScreen"];
x.__super__=y;x.prototype=h(y.prototype,{addButtons:function(){y.prototype.addButtons.call(this);this.addButton("Chime Test 3x",new a.message.chime.SetChime(a.message.chime.type.Chime.warning,3));this.addButton("VR Start",new a.message.vr.SetCapture(!0));this.addButton("VR Stop",new a.message.vr.SetCapture(!1));this.addButton("TTS Speak Text",new a.message.tts.SetText("Everything is Ok"));this.addButton("TTS Cache Text",new a.message.tts.SetCacheText("Everything is going to be Ok"));this.addButton("Add Notice A",
new a.message.notice.SetAddNotice(new a.message.notice.type.Notice("Check it out","I cant believe it!",a.message.notice.type.NoticeType.waypointSuggestion,a.message.notice.type.NoticePriority.low)));this.addButton("Add Notice B",new a.message.notice.SetAddNotice(new a.message.notice.type.Notice("Uh oh","You forgot your wallet!",a.message.notice.type.NoticeType.socialMedia,a.message.notice.type.NoticePriority.high)));this.addButton("Add Notice C",new a.message.notice.SetAddNotice(new a.message.notice.type.Notice("Note",
"Did you notice this notice?",a.message.notice.type.NoticeType.text,a.message.notice.type.NoticePriority.low)));this.addButton("Play Media",new a.message.media.SetTransportAction(a.message.media.type.TransportAction.play));this.addButton("Pause Media",new a.message.media.SetTransportAction(a.message.media.type.TransportAction.pause));this.addButton("Next Track",new a.message.media.SetTransportAction(a.message.media.type.TransportAction.next));this.addButton("Previous Track",new a.message.media.SetTransportAction(a.message.media.type.TransportAction.previous));
this.addButton("Pandora GetStatus",new a.message.pandora.GetStatus);this.addButton("Pandora GetChannels",new a.message.pandora.GetChannels(0,2));this.addButton("Pandora SetChannel 0",new a.message.pandora.SetChannel(1));this.addButton("Pandora SetChannel 1",new a.message.pandora.SetChannel(1));this.addButton("Pandora SetChannel 2",new a.message.pandora.SetChannel(2));this.addButton("Pandora getCurrentChannel",new a.message.pandora.GetCurrentChannel);this.addButton("1.ClearRoute",new a.message.navigation.SetClearRoute);
this.addButton("2.SetStartPoint",new a.message.navigation.SetStartByPoint(42.47727,-83.09807421395362));this.addButton("3.SetEndPoint",new a.message.navigation.SetEndByPoint(42.258252,-82.9453683));this.addButton("4.requestNewRoute",new a.message.navigation.SetRequestNewRoute(a.message.navigation.type.TransitType.driving));this.addButton("GetRoute",new a.message.navigation.GetRoute);this.addButton("GetDistance",new a.message.navigation.GetDistance);this.addButton("GetDistance %",new a.message.navigation.GetDistancePercentage);
this.addButton("GetNextTurn",new a.message.navigation.GetNextTurn);this.addButton("GetWaypoints",new a.message.navigation.GetWaypoints);this.addButton("Hands Free On",new a.message.phone.LetHandsFree(!0));this.addButton("Hands Free Off",new a.message.phone.LetHandsFree(!1));this.addButton("AmpSource Phone",new a.message.amp.LetSource(3));this.addButton("AmpSource Media",new a.message.amp.LetSource(0))},__class__:x});x=function(a){y.call(this,a)};f["screen.RobinhoodHmi"]=x;x.__name__=["screen","RobinhoodHmi"];
x.__super__=y;x.prototype=h(y.prototype,{addButtons:function(){y.prototype.addButtons.call(this);this.addButton("Welcome",new a.message.vehicle.LetWelcome("Welcome","Tom Sedars"));this.addButton("Goodbye",new a.message.vehicle.LetGoodbye);this.addButton("Dismiss Gesture",new a.message.leap.LetGesture(a.message.leap.type.Gesture.dismiss));this.addButton("Beckon Gesture",new a.message.leap.LetGesture(a.message.leap.type.Gesture.beckon));this.addButton("Call Duration 35",new a.message.phone.LetCallDuration(35));
this.addButton("Call Duration 489",new a.message.phone.LetCallDuration(489));this.addButton("InCall Existing Contact",new a.message.phone.LetStatus(a.message.phone.type.PhoneStatus.inCall,"248-930-4956"));this.addButton("InCall: No Contact",new a.message.phone.LetStatus(a.message.phone.type.PhoneStatus.inCall,"900-555-1212"));this.addButton("PhoneStatus: Idle",new a.message.phone.LetStatus(a.message.phone.type.PhoneStatus.idle));this.addButton("Next Destination",new a.message.notice.SetAddNotice(new a.message.notice.type.Notice("Robinhood Meeting",
"Meet Robinhood Team",a.message.notice.type.NoticeType.destination,a.message.notice.type.NoticePriority.high,[new a.message.notice.type.Action("Set as Destination",a.message.notice.type.ActionType.setDestination,"42.258252,-82.9453683"),new a.message.notice.type.Action("Dismiss",a.message.notice.type.ActionType["delete"])],new a.message.notice.type.EventData("Photoshoot","Rose Gardens","2:45","Anne Geddis","555-555-5555"))));this.addButton("Waypoint Suggestion",new a.message.notice.SetAddNotice(new a.message.notice.type.Notice("Calender Change",
"You have some extra time. Would you like to stop for Coffee?",a.message.notice.type.NoticeType.waypointSuggestion,a.message.notice.type.NoticePriority.medium,[new a.message.notice.type.Action("Add to Route",a.message.notice.type.ActionType.addWaypoint,"42.560054,-83.183888"),new a.message.notice.type.Action("Dismiss",a.message.notice.type.ActionType["delete"])],new a.message.notice.type.EventData("Coffee","Starbucks",null,null,null))))},__class__:x});A=function(c){this.entry="";a.nTactic.core.DynamicScreen.call(this,
c)};f["screen.SpanConfigPopup"]=A;A.__name__=["screen","SpanConfigPopup"];A.__super__=a.nTactic.core.DynamicScreen;A.prototype=h(a.nTactic.core.DynamicScreen.prototype,{addToHistory:function(a){this.history=this.history.filter(function(b){return b!=a});this.history.unshift(a);10<this.history.length&&this.history.shift();this.historyList.set_dataLength(0);this.historyList.set_dataPosition(0);this.historyList.cache.invalidateData();this.historyList.invalidateView();this.historyList.set_dataLength(this.history.length);
this.historyRecord.set_value(this.history)},onHistorySelect:function(a){a=this.historyList.getDataByWidget(a.target);null!=a&&(this.entry=a,this.displayLabel.set_text(this.entry),this.onEnter(),this.hideHistory())},updateRow:function(a){var b=a.widget;a=n.string(a.data);null!=a&&b.label.set_text(a)},requestData:function(c,b){for(var d=[],e=c,f=b+1;e<f;){var g=e++;null!=this.history[g]&&d.push(this.history[g])}this.historyList.cache.addData(new a.widget.type.PartialList(c,d))},hideHistory:function(){this.historyList.set_visible(!1)},
onDisplayClick:function(a){this.historyList.set_visible(!this.historyList.get_visible())},onClose:function(c){v.Peripheral.spanClient.set_autoConnect(!0);a.nTactic.NTactic.screens["goto"]("popup:")},onKeyboard:function(a){this.changeKeyLayout()},onEnter:function(a){this.validateEntry()&&(this.urlRecord.set_value(this.entry),null!=v.Peripheral.spanClient.url?(this.entry=v.Peripheral.spanClient.url.toString(),this.setDisplayLabel(this.entry),this.descriptionLabel.set_text("Attempting to connect to:"),
v.Peripheral.spanClient.set_autoConnect(!0),this.addToHistory(this.entry)):this.descriptionLabel.set_text("Failed to connect; malformed URL"))},deleteCharacter:function(){this.entry=r.substr(this.entry,0,this.entry.length-1);this.setDisplayLabel(this.entry)},onDeleteAutoClick:function(a){this.deleteCharacter()},onDeleteLongPress:function(a){this.entry="";this.setDisplayLabel(this.entry)},changeKeyLayout:function(a){null==a&&(a=-1);0>a&&(a=this.keyboardLayoutRecord.value+1,a>=A.keyLayouts.length&&
(a=0));a<A.keyLayouts.length&&(this.keyboardLayoutRecord.set_value(a),this.keyMatrix.set_data(A.keyLayouts[this.keyboardLayoutRecord.value]),this.keyMatrix.update())},validateEntry:function(){try{a.span.SpanClient.parseUrlString(this.entry,!0)}catch(c){if(q.Boot.__instanceof(c,String))return this.descriptionLabel.set_text(c),!1;throw c;}return!0},onKeyClick:function(a){a=this.keyMatrix.getDataByWidget(a.target);this.entry+=a;this.setDisplayLabel(this.entry)},onConnectionEvent:function(a){v.Peripheral.spanClient.get_connected()?
(g.Log.trace("Connected to Span!",{fileName:"SpanConfigPopup.hx",lineNumber:484,className:"screen.SpanConfigPopup",methodName:"onConnectionEvent"}),this.descriptionLabel.set_text("Connected"),this.displayLabel.set_paint(this.connectedPaint)):null==a?(g.Log.trace("Not Connected",{fileName:"SpanConfigPopup.hx",lineNumber:491,className:"screen.SpanConfigPopup",methodName:"onConnectionEvent"}),this.descriptionLabel.set_text("Disconnected")):(g.Log.trace("Connection Failed!",{fileName:"SpanConfigPopup.hx",
lineNumber:496,className:"screen.SpanConfigPopup",methodName:"onConnectionEvent"}),this.descriptionLabel.set_text("Connection failed"),this.displayLabel.set_paint(this.invalidPaint))},setDisplayLabel:function(a){this.validateEntry()?(this.displayLabel.set_paint(this.alphaPaint),this.enterButton.label.set_paint(this.controlsTextPaint),this.enterButton.set_enabled(!0),this.descriptionLabel.set_text("")):(this.displayLabel.set_paint(this.invalidPaint),this.enterButton.label.set_paint(this.disabledPaint),
this.enterButton.set_enabled(!1),""==a&&this.descriptionLabel.set_text("Enter a valid url or hostname"));this.entry==v.Peripheral.spanClient.url.toString()&&v.Peripheral.spanClient.get_connected()?(this.displayLabel.set_paint(this.connectedPaint),this.displayLabel.set_text(a),this.descriptionLabel.set_text("Connected")):this.displayLabel.set_text(a+"_");v.Peripheral.spanClient.set_autoConnect(!1)},updateKeys:function(c){if(q.Boot.__instanceof(c.widget,a.widget.Button)){var b=c.widget;b.label.set_text(c.data.toUpperCase());
-1!=D.indexOf("1234567890".split(""),c.data.toUpperCase())?b.label.set_paint(this.numeralPaint):b.label.set_paint(this.alphaPaint)}},createButton:function(c,b,d,e,f,g){null==f&&(f=0.5);null==g&&(g=this.keyPrimaryPaint);b=new a.sketch.type.SketchContainer(b,0,0,this.keyWidth,this.keyHeight);b.backgroundPaint=g;b.borderPaint=this.keyBorderPaint;b.borderWidth=1;b.alpha=0.9;g=null;null!=d&&(g=Math.round(1.35*d.size),g=new a.sketch.type.SketchText("text_label",2,Math.round(f*(this.keyHeight-g)),this.keyWidth-
4,g),g.paint=this.controlsTextPaint,g.alignment=a.type.Alignment.center,g.font=d,g.text=e,b.appendChildSketch(g));d=new a.sketch.type.SketchContainer("down");d.backgroundPaint=this.keyDownPaint;d.borderPaint=this.keyBorderPaint;d.borderWidth=1;b.addGuise(d);d=new a.sketch.type.SketchContainer("disabled");d.backgroundPaint=this.keyPrimaryPaint;d.alpha=0.7;d.borderPaint=this.keyBorderPaint;d.borderWidth=1;b.addGuise(d);c=a.nTactic.NTactic.builder.buildContainer(c,b);null!=g&&(g.paint=null);return c},
layoutScreen:function(){a.nTactic.core.DynamicScreen.prototype.layoutScreen.call(this);var c=a.nTactic.NTactic.stage._width|0,b=a.nTactic.NTactic.stage._height|0,d=0.9*c|0,e;e=0.5*d|0;var f=(c-d)/2|0,g=(b-e)/2|0;this.keyWidth=(d/10|0)+1;this.keyHeight=e/5|0;c=this.createContainer("background_simple",c,b);c.set_alpha(0.8);c.set_backgroundPaint(this.bgPaint);this.appendChild(c);var h=this.createContainer("control_group",d,this.keyHeight,f,g);this.createButton(h,"delete_button",this.symbolFont,"<",0.6,
this.controlsPaint).set_x(d-2*(this.keyWidth-1));c=this.createButton(h,"enter_button",this.symbolFont,">",0.6,this.controlsPaint);c.set_x(d-(this.keyWidth-1));c.set_width(this.keyWidth-1);this.createButton(h,"close_button",this.symbolFont,"X",0.6,this.controlsPaint);this.createButton(h,"keyLayout_button",this.symbolFont,"K",0.6,this.controlsPaint).set_x(this.keyWidth-1);var b=d-4*(this.keyWidth-1)-1,l=2*this.keyWidth-1,c=this.createContainer("displayBackground_simple",b,this.keyHeight,l,0);c.set_backgroundPaint(this.bgPaint);
c.set_alpha(0.9);h.appendChild(c);this.appendChild(h);var c=this.createContainer("display_button",b,this.keyHeight,l,0),m=new a.graphics.Text("input_label");m.set_text("");m.set_paint(this.alphaPaint);m.set_alignment(a.type.Alignment.left);m.set_font(this.displayFontPrimary);m.set_x(10);m.set_height(1.25*m.font.size);m.set_y(this.keyHeight-m._height);m.set_width(c._width-(m._x+2));c.appendChild(m);m=new a.graphics.Text("alert_label");m.set_text("");m.set_paint(this.controlsTextPaint);m.set_alignment(a.type.Alignment.left);
m.set_font(this.displayFontSecondary);m.set_x(10);m.set_y(4);m.set_height(1.25*m.font.size);m.set_width(c._width-(m._x+2));c.appendChild(m);h.appendChild(c);h=this.createContainer("keypad_chain",d,e,f,g+this.keyHeight-1);for(m=0;4>m;)for(var n=m++,p=0;10>p;){var q=p++,r=this.createButton(h,"item_"+(q+10*n)+"_button",this.keypadFont);r.set_x(q*(this.keyWidth-1));r.set_y(n*(this.keyHeight-1))}this.appendChild(h);d=this.createContainer("border",d,e-4,f,g);d.set_touchEnabled(!1);d.set_borderPaint(this.keyBorderPaint);
d.set_borderWidth(1);this.appendChild(d);e=this.createContainer("history_list",b,e-2*this.keyHeight-2,f+l,g+this.keyHeight-1);e.set_backgroundPaint(this.disabledPaint);e.set_alpha(0.9);e.set_borderPaint(this.keyBorderPaint);e.set_borderWidth(1);f=this.createContainer("row_0_button",b,Math.round(0.6*this.keyHeight),0,0);g=this.createContainer("down",f._width,f._height,0,0);g.set_backgroundPaint(this.keyDownPaint);d=new a.graphics.Text("text_label");d.set_text("Blast from the past!");d.set_paint(this.alphaPaint);
d.set_alignment(a.type.Alignment.left);d.set_font(this.displayFontPrimary);d.set_x(10);d.set_height(1.25*d.font.size);d.set_y(3);d.set_width(c._width-(d._x+2));f.appendChild(g);f.appendChild(d);e.appendChild(f);this.appendChild(e)},defineFonts:function(){a.nTactic.core.DynamicScreen.prototype.defineFonts.call(this);this.keypadFont=this.setFont("spanconfigkey",this.formatPath("./fonts/GillSansLight.ttf"),40);this.displayFontPrimary=this.setFont("spanconfigdisplayprimary",this.formatPath("./fonts/GillSansLight.ttf"),
36);this.displayFontSecondary=this.setFont("spanconfigdisplaysecondary",this.formatPath("./fonts/GillSansLight.ttf"),22);this.symbolFont=this.setFont("spanconfigsymbols",this.formatPath("./fonts/Symbols.ttf"),40)},definePaints:function(){a.nTactic.core.DynamicScreen.prototype.definePaints.call(this);this.alphaPaint=this.setPaint("spanconfigalpha","0xffffff");this.numeralPaint=this.setPaint("spanconfignumeral","0xffff99");this.connectedPaint=this.setPaint("spanconfigconnected","0xccff66");this.invalidPaint=
this.setPaint("spanconfiginvalid","0xff3300");this.disabledPaint=this.setPaint("spanconfigdisabled","0x000000");this.controlsTextPaint=this.setPaint("spanconfigcontrolstext","0xbbbbbb");this.controlsPaint=this.setPaint("spanconfigcontrols","0x333333");this.keyPrimaryPaint=this.setPaint("spanconfigkeyprimary","0x555555");this.keyDownPaint=this.setPaint("spanconfigkeydown","0x78C043");this.keyBorderPaint=this.setPaint("spanconfigkeyborder","0x666666");this.bgPaint=this.setPaint("spanconfigbackground",
"0x000000")},enterScreen:function(){a.nTactic.core.DynamicScreen.prototype.enterScreen.call(this);this.keyMatrix.update();this.deleteButton.set_longPressDelay(1.5);this.deleteButton.set_autoRepeatDelay(0.5);this.deleteButton.set_autoRepeatPeriod(0.1);this.historyList.update();this.entry=v.Peripheral.spanClient.url.toString();this.displayLabel.set_text(this.entry);this.onConnectionEvent();1<A.keyLayouts.length?this.keyboardButton.set_visible(!0):this.keyboardButton.set_visible(!1);this.historyList.set_visible(!1)},
addListeners:function(){a.nTactic.core.DynamicScreen.prototype.addListeners.call(this);this.attachListener(this.keyMatrix,"ButtonEvent.click",l(this,this.onKeyClick));this.attachListener(this.deleteButton,"ButtonEvent.longPress",l(this,this.onDeleteLongPress));this.attachListener(this.deleteButton,"ButtonEvent.autoClick",l(this,this.onDeleteAutoClick));this.attachListener(this.enterButton,"ButtonEvent.click",l(this,this.onEnter));this.attachListener(this.closeButton,"ButtonEvent.click",l(this,this.onClose));
this.attachListener(this.keyboardButton,"ButtonEvent.click",l(this,this.onKeyboard));this.attachListener(this.displayButton,"ButtonEvent.click",l(this,this.onDisplayClick));this.attachListener(this.historyList,"ButtonEvent.click",l(this,this.onHistorySelect));this.attachListener(v.Peripheral.spanClient,"SpanClientEvent.connect",l(this,this.onConnectionEvent));this.attachListener(v.Peripheral.spanClient,"SpanClientEvent.disconnect",l(this,this.onConnectionEvent))},setupWidgets:function(){a.nTactic.core.DynamicScreen.prototype.setupWidgets.call(this);
this.keyMatrix=this.getWidget("keypad_chain");this.deleteButton=this.getWidget("control_group.delete_button");this.closeButton=this.getWidget("control_group.close_button");this.enterButton=this.getWidget("control_group.enter_button");this.keyboardButton=this.getWidget("control_group.keyLayout_button");this.displayButton=this.getWidget("control_group.display_button");this.displayLabel=this.getWidget("control_group.display_button.input_label");this.descriptionLabel=this.getWidget("control_group.display_button.alert_label");
this.historyList=this.getWidget("history_list");this.urlRecord=a.nTactic.NTactic.storage.getRecord("url");this.keyboardLayoutRecord=a.nTactic.NTactic.storage.getRecord("keyLayout");null==this.keyboardLayoutRecord.value&&this.keyboardLayoutRecord.set_value(0);this.keyMatrix.set_data(A.keyLayouts[this.keyboardLayoutRecord.value]);this.keyMatrix.set_itemUpdater(l(this,this.updateKeys));for(var c=0,b=this.keyMatrix.get_childCount()-1;c<b;){var d=c++;this.keyMatrix.getChildAt(d).set_requireDirectTouch(!1)}this.history=
[];this.historyRecord=a.nTactic.NTactic.storage.getRecord("urlHistory");null==this.historyRecord.value&&this.historyRecord.set_value(this.history);this.history=this.historyRecord.value;this.historyList.set_physics(new a.physics.Scrolling);this.historyList.cache.set_dataRequester(l(this,this.requestData));this.historyList.rowUpdater=l(this,this.updateRow);this.historyList.set_dataLength(this.history.length)},historyRecord:null,keyboardLayoutRecord:null,urlRecord:null,keyHeight:null,keyWidth:null,history:null,
entry:null,historyList:null,displayButton:null,descriptionLabel:null,displayLabel:null,keyboardButton:null,closeButton:null,enterButton:null,deleteButton:null,displayGroup:null,keyMatrix:null,symbolFont:null,displayFontSecondary:null,displayFontPrimary:null,keypadFont:null,bgPaint:null,keyBorderPaint:null,keyDownPaint:null,controlsPaint:null,keyPrimaryPaint:null,controlsTextPaint:null,disabledPaint:null,invalidPaint:null,connectedPaint:null,numeralPaint:null,alphaPaint:null,__class__:A});var I,M=
0;Array.prototype.indexOf&&(r.remove=function(a,b){var d=a.indexOf(b);if(-1==d)return!1;a.splice(d,1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;f.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=f.String=String;String.__name__=["String"];Array.prototype.__class__=f.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=
f.Date=Date;Date.__name__=["Date"];var z=f.Int={__name__:["Int"]},N=f.Dynamic={__name__:["Dynamic"]},B=f.Float=Number;B.__name__=["Float"];var C=f.Bool=Boolean;C.__ename__=["Bool"];var O=f.Class={__name__:["Class"]},P={};t.Element="element";t.PCData="pcdata";t.CData="cdata";t.Comment="comment";t.DocType="doctype";t.ProcessingInstruction="processingInstruction";t.Document="document";a.application.Application.done=!1;g.Serializer.USE_CACHE=!1;g.Serializer.USE_ENUM_INDEX=!1;g.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
g.Unserializer.DEFAULT_RESOLVER=p;g.Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";g.ds.ObjectMap.count=0;g.xml.Parser.escapes=function(a){a=new g.ds.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);q.Browser.window="undefined"!=typeof window?window:null;q.Browser.document="undefined"!=typeof window?window.document:null;a.builder.event.BuilderEvent.SKETCH="sketch";
a.cache.ListCache.REQUEST_TIMEOUT=5;a.cache.ListCache.BUFFER_SIZE=20;a.cache.ListCache.INVALID_RANGE_INDEX=-1;a.cache.event.CacheEvent.UPDATE="CacheEvent.update";a.cache.event.CacheEvent.CACHING="CacheEvent.caching";a.cache.event.CacheEvent.CACHED="CacheEvent.cached";a.client.WebSocketClient.TX_WAIT_PERIOD=0.05;a.client.event.ClientEvent.CONNECT="ClientEvent.connect";a.client.event.ClientEvent.DISCONNECT="ClientEvent.disconnect";a.client.event.ClientEvent.DATA="ClientEvent.data";a.debug.Debug.BUFFER_LIMIT=
20;a.font.Font.fontCount=0;a.font.event.FontEvent.CHANGE="PaintEvent.change";a.font.event.FontFaceEvent.READY="FontFaceEvent.ready";a.geometry.event.BoxEvent.CHANGE="change";a.geometry.event.BoxEvent.CHANGE_SIZE="changeSize";a.geometry.event.BoxEvent.CHANGE_POSITION="changePosition";a.graphics.Stage.FORCED_FRAME_RATE=1/30;a.graphics.Stage.FRAME_RATE_PERIOD=0.25;a.graphics.Stage.FRAME_RATE_FILTER=10;a.graphics.event.ComponentEvent.ADDED_TO_STAGE="addedToStage";a.graphics.event.ComponentEvent.REMOVED_FROM_STAGE=
"removedFromStage";a.graphics.event.ComponentEvent.ORPHANING="orphaning";a.graphics.event.ComponentEvent.ADOPTED="adopted";a.graphics.event.StageEvent.PAINT="paint";a.graphics.event.StageEvent.FRAME_RATE="frameRate";a.graphics.event.TouchEvent.MOUSE_TOUCH_ID=-1;a.graphics.event.TouchEvent.BEGIN="begin";a.graphics.event.TouchEvent.OVER="over";a.graphics.event.TouchEvent.MOVE="move";a.graphics.event.TouchEvent.OUT="out";a.graphics.event.TouchEvent.END="end";a.image.event.ImageEvent.READY="ImageEvent.ready";
a.image.event.ImageEvent.ERROR="ImageEvent.error";a.image.event.ImageLoaderEvent.COMPLETE="ImageLoaderEvent.complete";a.limits.IntLimits.MAX=134217727;a.limits.IntLimits.MIN=134217728;a.loader.event.LoaderEvent.READY="LoaderEvent.ready";a.loader.event.LoaderEvent.ERROR="LoaderEvent.error";a.message.generic.templates.LetInt32.valueType=[z];a.message.chime.SetChime.chimeType=[a.message.chime.type.Chime];a.message.chime.SetChime.playCountType=[z];a.message.debug.LetTrace.timestampType=[B];a.message.debug.LetTrace.sourceNameType=
[String];a.message.debug.LetTrace.messageType=[String];a.message.debug.LetTrace.fileNameType=[String];a.message.debug.LetTrace.lineNumberType=[z];a.message.debug.LetTrace.classNameType=[String];a.message.debug.LetTrace.functionNameType=[String];a.message.generic.templates.GetPartialList.startType=[z];a.message.generic.templates.GetPartialList.endType=[z];a.message.generic.templates.LetBool.valueType=[C];a.message.generic.templates.LetFloat.valueType=[B];a.message.generic.templates.SetBool.valueType=
[C];a.message.generic.templates.SetString.valueType=[String];a.message.leap.LetGesture.gestureType=[a.message.leap.type.Gesture];a.message.media.SetTransportAction.actionType=[a.message.media.type.TransportAction];a.message.media.type.Item.titleType=[String];a.message.media.type.Item.typeType=[a.message.media.type.ItemType];a.message.media.type.Item.idType=[z];a.message.media.type.Item.playableType=[C];a.message.media.type.Item.artUrlType=[String];a.message.media.type.Item.artFileType=[String];a.message.media.type.Item.lengthType=
[z];a.message.media.type.Item.albumType=[String];a.message.media.type.Item.artistType=[String];a.message.media.type.Item.genreType=[String];a.message.media.type.Item.composerType=[String];a.message.media.type.Item.albumTrackNumberType=[z];a.message.media.templates.LetPartialMediaList.offsetType=[z];a.message.media.templates.LetPartialMediaList.dataType=[Array,a.message.media.type.Item];a.message.navigation.type.StepData.distanceType=[B];a.message.navigation.type.StepData.turnType=[String];a.message.navigation.type.StepData.targetType=
[a.message.navigation.type.TargetType];a.message.navigation.type.StepData.streetType=[String];a.message.navigation.type.StepData.destinationType=[String];a.message.navigation.type.StepData.isLastStepType=[C];a.message.navigation.type.StepData.isLastLegType=[C];a.message.navigation.LetNextTurn.nextTurnType=[a.message.navigation.type.StepData];a.message.navigation.SetEndByPoint.xType=[B];a.message.navigation.SetEndByPoint.yType=[B];a.message.navigation.SetRequestNewRoute.typeType=[a.message.navigation.type.TransitType];
a.message.navigation.SetStartByPoint.xType=[B];a.message.navigation.SetStartByPoint.yType=[B];a.message.navigation.type.SerializablePoint.xType=[B];a.message.navigation.type.SerializablePoint.yType=[B];a.message.notice.type.EventData.nameType=[String];a.message.notice.type.EventData.locationNameType=[String];a.message.notice.type.EventData.timeType=[String];a.message.notice.type.EventData.contactNameType=[String];a.message.notice.type.EventData.contactNumberType=[String];a.message.notice.type.Action.nameType=
[String];a.message.notice.type.Action.actionType=[a.message.notice.type.ActionType];a.message.notice.type.Action.dataType=[String];a.message.notice.type.Notice.titleType=[String];a.message.notice.type.Notice.textType=[String];a.message.notice.type.Notice.optionsType=[Array,a.message.notice.type.Action];a.message.notice.type.Notice.typeType=[a.message.notice.type.NoticeType];a.message.notice.type.Notice.priorityType=[a.message.notice.type.NoticePriority];a.message.notice.type.Notice.eventDataType=
[a.message.notice.type.EventData];a.message.notice.type.Notice.idType=[z];a.message.notice.LetNotices.startType=[z];a.message.notice.LetNotices.noticesType=[Array,a.message.notice.type.Notice];a.message.notice.SetAddNotice.noticeType=[a.message.notice.type.Notice];a.message.pandora.SetChannel.idType=[z];a.message.phone.LetStatus.statusType=[a.message.phone.type.PhoneStatus];a.message.phone.LetStatus.numberType=[String];a.message.span.LetClientMetadata.nameType=[String];a.message.span.LetClientMetadata.clientCatagoryType=
[String];a.message.span.LetClientMetadata.echoType=[C];a.message.test.type.Type.testType=[String];a.message.test.LetTest.aType=[Array,a.message.test.type.Type];a.message.test.LetTest.bType=[C];a.message.test.LetTest.cType=[a.message.test.type.Type];a.message.test.LetTest.dType=[String];a.message.test.LetTest.eType=[a.message.test.type.Enum];a.message.test.LetTest.fType=[B];a.message.test.LetTest.gType=[Array,Array,z];a.message.tts.SetClearCache.cacheType=[a.message.tts.type.CacheTypes];a.message.vehicle.LetTransmission.stateType=
[a.message.vehicle.type.TransmissionState];a.message.vehicle.LetTurnSignal.stateType=[a.message.vehicle.type.TurnSignalState];a.message.vehicle.LetWelcome.titleType=[String];a.message.vehicle.LetWelcome.subtitleType=[String];a.moduleLink.event.MagicScrollEvent.SCROLL="scroll";a.moduleLink.event.MediaPlayerEvent.AUDITION_PERIOD="auditionPeriod";a.moduleLink.event.MediaPlayerEvent.BROWSE_ITEMS="browseItems";a.moduleLink.event.MediaPlayerEvent.BROWSE_PATH="browsePath";a.moduleLink.event.MediaPlayerEvent.CURRENT_DEVICE=
"currentDevice";a.moduleLink.event.MediaPlayerEvent.CURRENT_ITEM="currentItem";a.moduleLink.event.MediaPlayerEvent.DEVICES="devices";a.moduleLink.event.MediaPlayerEvent.PLAY_ITEMS="playItems";a.moduleLink.event.MediaPlayerEvent.PLAY_PATH="playPath";a.moduleLink.event.MediaPlayerEvent.TRANSPORT_POSITION="transportPosition";a.moduleLink.event.MediaPlayerEvent.RANDOM_MODE="randomMode";a.moduleLink.event.MediaPlayerEvent.REPEAT_MODE="repeatMode";a.moduleLink.event.MediaPlayerEvent.SEEK_SPEED="seekSpeed";
a.moduleLink.event.MediaPlayerEvent.SKIP_THRESHOLD="skipThreshold";a.moduleLink.event.MediaPlayerEvent.TRANSPORT_ACTION="transportAction";a.moduleLink.event.MediaPlayerEvent.BROWSE_ALPHA_INDEX="browseAlphaIndex";a.nTactic.event.ScreenEvent.READY="ready";a.nTactic.event.ScreenEvent.SCREEN_OUT_COMPLETE="screenOutComplete";a.nTactic.event.ScreenModelEvent.GOTO="goto";a.nTactic.event.ScreenModelEvent.AFTER_GOTO="afterGoto";a.nTactic.event.ScreenModelEvent.INITIAL_BRANCH_LOADED="initalBranchLoaded";a.nTactic.event.ScreenModelEvent.BRANCH_LOADED=
"branchLoaded";a.paint.event.PaintEvent.CHANGE="PaintEvent.change";a.physics.Scrolling.FRICTIONAL_ACCELERATION=500;a.physics.Scrolling.VELOCITY_FILTER_COEFFICIENT=3;a.physics.Scrolling.STRETCH_FACTOR=0.2;a.physics.Scrolling.EXTREMITY_ACCELERATION=2E4;a.physics.Scrolling.JERK=200;a.physics.Scrolling.VELOCITY_KILL_TIME=0.1;a.physics.Scrolling.EXTREMITY_TYPE=1;a.physics.Scrolling.MINIMUM_INTERVAL=0.07;a.physics.Scrolling.DRAG_THRESHOLD=15;a.physics.Scrolling.HARD=0;a.physics.Scrolling.SOFT=1;a.physics.Scrolling.RUBBER=
2;a.physics.event.PhysicsEvent.BEGIN="PhysicsEvent.begin";a.physics.event.PhysicsEvent.CHANGE="PhysicsEvent.change";a.physics.event.PhysicsEvent.END="PhysicsEvent.end";a.sketch.event.SketchEvent.READY="BuilderEvent.ready";a.span.SpanClient.RECONNECT_PERIOD=1;a.span.event.SpanClientEvent.CONNECT="SpanClientEvent.connect";a.span.event.SpanClientEvent.DISCONNECT="SpanClientEvent.disconnect";a.storage.PersistentStorage.STORAGE_EXTENSION=".record";a.storage.event.RecordEvent.CHANGE="RecordEvent.change";
a.storage.event.RecordEvent.DELETE="RecordEvent.delete";a.storage.event.StorageEvent.READY="StorageEvent.ready";a.timer.Delay.BIG_NUMBER_NOT_INFINITY=3.4E38;a.timer.Delay.delays=[];a.timer.Delay.requestedTimestamps=[];a.timer.event.TimerEvent.TIMER="timer";a.timer.event.TimerEvent.TIMER_COMPLETE="timerComplete";a.utility.BaseCode32.BASE_32_ENCODINGS="abcdefghijklmnopqrstuvwxyz234567";a.utility.CharacterTools.CODE_0=r.cca("0",0);a.utility.CharacterTools.CODE_9=r.cca("9",0);a.utility.CharacterTools.CODE_A=
r.cca("A",0);a.utility.CharacterTools.CODE_Z=r.cca("Z",0);a.utility.CharacterTools.CODE_a=r.cca("a",0);a.utility.CharacterTools.CODE_z=r.cca("z",0);a.widget.Chain.MOVE_THRESHOLD=15;a.widget.Chain.VELOCITY_THRESHOLD=2;a.widget.Scroller.REPORT_PERIOD=0;a.widget.Scroller.ROUND_VALUES=!1;a.widget.Scroller.POPUP_PAGE_THRESHOLD=5;a.widget.Scroller.SENSITIVE_TRACK=!0;a.widget.Scroller.HIDE_IF_USELESS=!1;a.widget.event.ButtonEvent.ACTIVE_CHANGE="ButtonEvent.activeChange";a.widget.event.ButtonEvent.AUTO_CLICK=
"ButtonEvent.autoClick";a.widget.event.ButtonEvent.CLICK="ButtonEvent.click";a.widget.event.ButtonEvent.DOWN="ButtonEvent.down";a.widget.event.ButtonEvent.LONG_PRESS="ButtonEvent.longPress";a.widget.event.ButtonEvent.TOGGLE="ButtonEvent.toggle";a.widget.event.ButtonEvent.UP="ButtonEvent.up";a.widget.event.ButtonEvent.CANCEL="ButtonEvent.cancel";a.widget.event.ChainEvent.SELECT="ChainEvent.select";a.widget.event.ListEvent.LENGTH="ListEvent.length";a.widget.event.ScrollerEvent.VERTICAL_POSITION="ScrollerEvent.verticalPosition";
a.widget.event.ScrollerEvent.HORIZONTAL_POSITION="ScrollerEvent.horizontalPosition";a.widget.event.ScrollerEvent.POSITION="ScrollerEvent.position";a.widget.event.ScrollerEvent.GRAB="ScrollerEvent.grab";a.widget.event.ScrollerEvent.RELEASE="ScrollerEvent.release";a.widget.event.WidgetEvent.VISIBILITY="WidgetEvent.visibility";a.widget.event.WidgetEvent.SELECT="WidgetEvent.select";a.widget.type.ItemWidget.NULL_DATA_INDEX=-35535;a.widget.type.ItemWidget.INVALID_DATA_INDEX=-35534;v.Peripheral.initialized=
!1;y.BUTTON_WIDTH=160;y.BUTTON_HEIGHT=50;y.SHOW_GRID=!1;A.FILL_PERCENT=0.9;A.PRIMARY_FONT_PATH="./fonts/GillSansLight.ttf";A.SYMBOL_FONT_PATH="./fonts/Symbols.ttf";A.keyLayouts=["abcdefg789hijklmn456opqrstu123vwxyz-:/0.".split(""),"1234567890qwertyuiopasdfghjkl:zxcvbnm-./".split(""),"1234567890:/.pyfgcrlaoeuidhtns-qjkxbmwvz".split("")];J.main()})();
