(function(){function g(b,a){function d(){}d.prototype=b;var e=new d,k;for(k in a)e[k]=a[k];a.toString!==Object.prototype.toString&&(e.toString=a.toString);return e}function H(b){return b instanceof Array?function(){return r.iter(b)}:"function"==typeof b.iterator?h(b,b.iterator):b.iterator}function h(b,a){if(null==a)return null;null==a.__id__&&(a.__id__=K++);var d;null==b.hx__closures__?b.hx__closures__={}:d=b.hx__closures__[a.__id__];null==d&&(d=function(){return d.method.apply(d.scope,arguments)},
d.scope=b,d.method=a,b.hx__closures__[a.__id__]=d);return d}var f={},q=function(){return n.Boot.__string_rec(this,"")},a={application:{}};a.application.Application=function(b){if(null==b)throw"Application name cannot be null.";if(null!=a.application.Application.appName)throw"Cannot create more than one instance of Application.";a.application.Application.appName=b;l.Log.trace("Starting "+b+".",{fileName:"Application.hx",lineNumber:53,className:"nfuzion.application.Application",methodName:"new"});l.Log.trace("Built: 2013-12-04 11:01:20",
{fileName:"Application.hx",lineNumber:54,className:"nfuzion.application.Application",methodName:"new"})};f["nfuzion.application.Application"]=a.application.Application;a.application.Application.__name__=["nfuzion","application","Application"];a.application.Application.destroy=function(){a.application.Application.appName=null;a.application.Application.done=!0};a.application.Application.exit=function(){};a.application.Application.doExit=function(b){a.application.Application.done=!0};a.application.Application.prototype=
{run:function(){},__class__:a.application.Application};a.nTactic={};a.nTactic.NTactic=function(b){a.application.Application.call(this,b);this.ready=!1;a.nTactic.NTactic.layers=new a.nTactic.core.AppView;a.nTactic.NTactic.fontManager=new a.font.FontManager;a.nTactic.NTactic.paintManager=new a.paint.PaintManager;a.nTactic.NTactic.imageManager=new a.image.ImageManager;b=a.nTactic.NTactic;null==a.storage.PersistentStorage.instance&&(a.storage.PersistentStorage.instance=new a.storage.PersistentStorage);
b.storage=a.storage.PersistentStorage.instance;a.nTactic.NTactic.cache=new a.nTactic.core.ScreenCache;a.nTactic.NTactic.cacheManager=new a.nTactic.core.CacheManager;a.nTactic.NTactic.builder=new a.builder.Builder;a.nTactic.NTactic.builder.addEventListener("sketch",h(this,this.onReady));a.nTactic.NTactic.storage.addEventListener("StorageEvent.ready",h(this,this.onReady));this.onReady()};f["nfuzion.nTactic.NTactic"]=a.nTactic.NTactic;a.nTactic.NTactic.__name__=["nfuzion","nTactic","NTactic"];a.nTactic.NTactic["goto"]=
function(b,c,d){null==d&&(d=!0);var e=b.split(":");if(1<e.length)if(b=a.nTactic.NTactic.screens.getModel(e.shift()),null!=b)b["goto"](e.join("/"),c,d);else l.Log.trace("ERROR: Failed to go to branch on screen model.",{fileName:"NTactic.hx",lineNumber:85,className:"nfuzion.nTactic.NTactic",methodName:"goto"});else a.nTactic.NTactic.screens.defaultModel["goto"](b)};a.nTactic.NTactic.cacheScreens=function(b,c){var d=a.nTactic.NTactic.screens.getModel(b);null!=d?d.cacheScreens(c):l.Log.trace("ERROR: Failed to cache screen(s). Screen model does not exist",
{fileName:"NTactic.hx",lineNumber:108,className:"nfuzion.nTactic.NTactic",methodName:"cacheScreens"})};a.nTactic.NTactic.releaseScreens=function(b,c){var d=a.nTactic.NTactic.screens.getModel(b);null!=d?d.releaseScreens(c):l.Log.trace("ERROR: Failed to cache screen(s). Screen model does not exist",{fileName:"NTactic.hx",lineNumber:123,className:"nfuzion.nTactic.NTactic",methodName:"releaseScreens"})};a.nTactic.NTactic.back=function(){a.nTactic.NTactic.screens.defaultModel.back()};a.nTactic.NTactic.__super__=
a.application.Application;a.nTactic.NTactic.prototype=g(a.application.Application.prototype,{start:function(){a.nTactic.NTactic.screens.loadInitialScreens()},onReady:function(b){this.get_ready()&&(null==a.nTactic.NTactic.cacheManager&&(a.nTactic.NTactic.cacheManager=new a.nTactic.core.CacheManager),a.nTactic.NTactic.builder.removeEventListener("sketch",h(this,this.onReady)),a.nTactic.NTactic.storage.removeEventListener("StorageEvent.ready",h(this,this.onReady)),this.start())},get_ready:function(){return null!=
a.nTactic.NTactic.builder.sketch&&a.nTactic.NTactic.builder.sketch.ready&&null!=a.nTactic.NTactic.screens&&a.nTactic.NTactic.storage.ready},ready:null,onNTacticXmlReady:function(b){this.loader.removeEventListener("LoaderEvent.ready",h(this,this.onNTacticXmlReady));b=t.parse(this.loader.data);a.nTactic.NTactic.configurationXml=b.firstElement();if(null==a.nTactic.NTactic.configurationXml)l.Log.trace("FATAL: 'ntactic.xml' data is null!",{fileName:"NTactic.hx",lineNumber:183,className:"nfuzion.nTactic.NTactic",
methodName:"onNTacticXmlReady"});else{var c=a.nTactic.NTactic.configurationXml.elementsNamed("viewport").next();if(null!=c){b=800;var d=600,e=null,e=c.get("width");null==e?l.Log.trace("FATAL: Viewport width is not specified in 'ntactic.xml'.",{fileName:"NTactic.hx",lineNumber:197,className:"nfuzion.nTactic.NTactic",methodName:"onNTacticXmlReady"}):b=m.parseInt(e);e=c.get("height");null==e?l.Log.trace("FATAL: Viewport height is not specified in 'ntactic.xml'.",{fileName:"NTactic.hx",lineNumber:206,
className:"nfuzion.nTactic.NTactic",methodName:"onNTacticXmlReady"}):d=m.parseInt(e);c=c.get("color");e=null!=c?new a.paint.Paint("viewport",a.utility.ColorTools.fromString(c)):new a.paint.Paint("viewport",a.type.Color.black);a.nTactic.NTactic.stage=new a.graphics.Stage(b,d,e)}else l.Log.trace("FATAL: Viewport not specified in 'ntactic.xml'.",{fileName:"NTactic.hx",lineNumber:225,className:"nfuzion.nTactic.NTactic",methodName:"onNTacticXmlReady"});a.nTactic.NTactic.screens=new a.nTactic.core.AppModel;
this.onReady()}},assignCacheManager:function(b){if(null==b)l.Log.trace("WARNING: Intercepted attempt to set property 'cacheManager' to null.",{fileName:"NTactic.hx",lineNumber:166,className:"nfuzion.nTactic.NTactic",methodName:"assignCacheManager"});else{if(null!=a.nTactic.NTactic.cacheManager)throw"Property 'cacheManager' has already been assigned!";a.nTactic.NTactic.cacheManager=b}},assignAssetsPath:function(b){a.nTactic.NTactic.assetsPath=b;this.loader=new a.loader.TextLoader(b+"ntactic.xml");
this.loader.addEventListener("LoaderEvent.ready",h(this,this.onNTacticXmlReady));this.loader.request()},loader:null,__class__:a.nTactic.NTactic,__properties__:{get_ready:"get_ready"}});var F=function(){a.nTactic.NTactic.call(this,"Robin Hood Hmi");this.assignAssetsPath("../assets/");a.nTactic.NTactic.builder.set_sketch(new a.sketch.XmlSketch("assets.xml"))};f.Hmi=F;F.__name__=["Hmi"];F.__super__=a.nTactic.NTactic;F.prototype=g(a.nTactic.NTactic.prototype,{start:function(){p.Peripheral.initialize();
a.nTactic.NTactic.prototype.start.call(this)},__class__:F});var r=function(){};f.HxOverrides=r;r.__name__=["HxOverrides"];r.dateStr=function(b){var a=b.getMonth()+1,d=b.getDate(),e=b.getHours(),k=b.getMinutes(),f=b.getSeconds();return b.getFullYear()+"-"+(10>a?"0"+a:""+a)+"-"+(10>d?"0"+d:""+d)+" "+(10>e?"0"+e:""+e)+":"+(10>k?"0"+k:""+k)+":"+(10>f?"0"+f:""+f)};r.strDate=function(b){switch(b.length){case 8:b=b.split(":");var a=new Date;a.setTime(0);a.setUTCHours(b[0]);a.setUTCMinutes(b[1]);a.setUTCSeconds(b[2]);
return a;case 10:return b=b.split("-"),new Date(b[0],b[1]-1,b[2],0,0,0);case 19:return b=b.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+b;}};r.cca=function(b,a){var d=b.charCodeAt(a);return d!=d?void 0:d};r.substr=function(b,a,d){if(null!=a&&0!=a&&null!=d&&0>d)return"";null==d&&(d=b.length);0>a?(a=b.length+a,0>a&&(a=0)):0>d&&(d=b.length+d-a);return b.substr(a,d)};r.remove=function(b,a){for(var d=0,e=b.length;d<e;){if(b[d]==
a)return b.splice(d,1),!0;d++}return!1};r.iter=function(b){return{cur:0,arr:b,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var A=function(){};f.Lambda=A;A.__name__=["Lambda"];A.array=function(b){var a=[];for(b=H(b)();b.hasNext();){var d=b.next();a.push(d)}return a};A.has=function(b,a){for(var d=H(b)();d.hasNext();)if(d.next()==a)return!0;return!1};A.filter=function(b,a){for(var d=new E,e=H(b)();e.hasNext();){var k=e.next();a(k)&&d.add(k)}return d};
A.indexOf=function(b,a){for(var d=0,e=H(b)();e.hasNext();){var k=e.next();if(a==k)return d;d++}return-1};var E=function(){this.length=0};f.List=E;E.__name__=["List"];E.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var b=this.h[0];this.h=this.h[1];return b}}},add:function(b){b=[b];null==this.h?this.h=b:this.q[1]=b;this.q=b;this.length++},length:null,q:null,h:null,__class__:E};var I=function(){};f.Main=I;I.__name__=
["Main"];I.main=function(){a.debug.Debug.initialize();new F};var B=function(){};f.IMap=B;B.__name__=["IMap"];var w=function(){};f.Reflect=w;w.__name__=["Reflect"];w.hasField=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};w.field=function(b,a){var d=null;try{d=b[a]}catch(e){}return d};w.getProperty=function(b,a){var d;return null==b?null:b.__properties__&&(d=b.__properties__["get_"+a])?b[d]():b[a]};w.setProperty=function(b,a,d){var e;if(b.__properties__&&(e=b.__properties__["set_"+
a]))b[e](d);else b[a]=d};w.fields=function(b){var a=[];if(null!=b){var d=Object.prototype.hasOwnProperty,e;for(e in b)"__id__"!=e&&"hx__closures__"!=e&&d.call(b,e)&&a.push(e)}return a};w.isFunction=function(b){return"function"==typeof b&&!(b.__name__||b.__ename__)};w.compareMethods=function(b,a){return b==a?!0:w.isFunction(b)&&w.isFunction(a)?b.scope==a.scope&&b.method==a.method&&null!=b.method:!1};w.deleteField=function(b,a){if(!w.hasField(b,a))return!1;delete b[a];return!0};var m=function(){};f.Std=
m;m.__name__=["Std"];m.string=function(b){return n.Boot.__string_rec(b,"")};m.parseInt=function(b){var a=parseInt(b,10);0!=a||120!=r.cca(b,1)&&88!=r.cca(b,1)||(a=parseInt(b));return isNaN(a)?null:a};m.parseFloat=function(b){return parseFloat(b)};var D=function(){this.b=""};f.StringBuf=D;D.__name__=["StringBuf"];D.prototype={addSub:function(b,a,d){this.b+=null==d?r.substr(b,a,null):r.substr(b,a,d)},b:null,__class__:D};var u=function(){};f.StringTools=u;u.__name__=["StringTools"];u.urlEncode=function(b){return encodeURIComponent(b)};
u.urlDecode=function(b){return decodeURIComponent(b.split("+").join(" "))};u.htmlEscape=function(b,a){b=b.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");return a?b.split('"').join("&quot;").split("'").join("&#039;"):b};u.htmlUnescape=function(b){return b.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")};u.startsWith=function(b,a){return b.length>=a.length&&r.substr(b,0,a.length)==a};u.endsWith=function(b,
a){var d=a.length,e=b.length;return e>=d&&r.substr(b,e-d,d)==a};u.isSpace=function(b,a){var d=r.cca(b,a);return 8<d&&14>d||32==d};u.ltrim=function(b){for(var a=b.length,d=0;d<a&&u.isSpace(b,d);)d++;return 0<d?r.substr(b,d,a-d):b};u.rtrim=function(b){for(var a=b.length,d=0;d<a&&u.isSpace(b,a-d-1);)d++;return 0<d?r.substr(b,0,a-d):b};u.trim=function(b){return u.ltrim(u.rtrim(b))};u.replace=function(b,a,d){return b.split(a).join(d)};u.hex=function(b,a){var d="";do d="0123456789ABCDEF".charAt(b&15)+d,
b>>>=4;while(0<b);if(null!=a)for(;d.length<a;)d="0"+d;return d};var v=f.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};v.TNull=["TNull",0];v.TNull.toString=q;v.TNull.__enum__=v;v.TInt=["TInt",1];v.TInt.toString=q;v.TInt.__enum__=v;v.TFloat=["TFloat",2];v.TFloat.toString=q;v.TFloat.__enum__=v;v.TBool=["TBool",3];v.TBool.toString=q;v.TBool.__enum__=v;v.TObject=["TObject",4];v.TObject.toString=q;v.TObject.__enum__=v;v.TFunction=
["TFunction",5];v.TFunction.toString=q;v.TFunction.__enum__=v;v.TClass=function(b){b=["TClass",6,b];b.__enum__=v;b.toString=q;return b};v.TEnum=function(b){b=["TEnum",7,b];b.__enum__=v;b.toString=q;return b};v.TUnknown=["TUnknown",8];v.TUnknown.toString=q;v.TUnknown.__enum__=v;var s=function(){};f.Type=s;s.__name__=["Type"];s.getClass=function(b){return null==b?null:b.__class__};s.getSuperClass=function(b){return b.__super__};s.getClassName=function(b){return b.__name__.join(".")};s.getEnumName=function(b){return b.__ename__.join(".")};
s.resolveClass=function(b){b=f[b];return null!=b&&b.__name__?b:null};s.resolveEnum=function(b){b=f[b];return null!=b&&b.__ename__?b:null};s.createInstance=function(b,a){switch(a.length){case 0:return new b;case 1:return new b(a[0]);case 2:return new b(a[0],a[1]);case 3:return new b(a[0],a[1],a[2]);case 4:return new b(a[0],a[1],a[2],a[3]);case 5:return new b(a[0],a[1],a[2],a[3],a[4]);case 6:return new b(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new b(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return new b(a[0],
a[1],a[2],a[3],a[4],a[5],a[6],a[7]);default:throw"Too many arguments";}};s.createEmptyInstance=function(b){function a(){}a.prototype=b.prototype;return new a};s.createEnum=function(b,a,d){var e=w.field(b,a);if(null==e)throw"No such constructor "+a;if(w.isFunction(e)){if(null==d)throw"Constructor "+a+" need parameters";return e.apply(b,d)}if(null!=d&&0!=d.length)throw"Constructor "+a+" does not need parameters";return e};s.getInstanceFields=function(b){var a=[],d;for(d in b.prototype)a.push(d);r.remove(a,
"__class__");r.remove(a,"__properties__");return a};s.getEnumConstructs=function(b){return b.__constructs__.slice()};s["typeof"]=function(b){switch(typeof b){case "boolean":return v.TBool;case "string":return v.TClass(String);case "number":return Math.ceil(b)==b%2147483648?v.TInt:v.TFloat;case "object":if(null==b)return v.TNull;var a=b.__enum__;if(null!=a)return v.TEnum(a);b=b.__class__;return null!=b?v.TClass(b):v.TObject;case "function":return b.__name__||b.__ename__?v.TObject:v.TFunction;case "undefined":return v.TNull;
default:return v.TUnknown}};s.enumEq=function(b,a){if(b==a)return!0;try{if(b[0]!=a[0])return!1;for(var d=2,e=b.length;d<e;){var k=d++;if(!s.enumEq(b[k],a[k]))return!1}var f=b.__enum__;if(f!=a.__enum__||null==f)return!1}catch(l){return!1}return!0};var J=function(){};f.TypeTools=J;J.__name__=["TypeTools"];f.XmlType={__ename__:["XmlType"],__constructs__:[]};var t=function(){};f.Xml=t;t.__name__=["Xml"];t.parse=function(b){return l.xml.Parser.parse(b)};t.createElement=function(b){var a=new t;a.nodeType=
t.Element;a._children=[];a._attributes=new l.ds.StringMap;a.set_nodeName(b);return a};t.createPCData=function(b){var a=new t;a.nodeType=t.PCData;a.set_nodeValue(b);return a};t.createCData=function(b){var a=new t;a.nodeType=t.CData;a.set_nodeValue(b);return a};t.createComment=function(b){var a=new t;a.nodeType=t.Comment;a.set_nodeValue(b);return a};t.createDocType=function(b){var a=new t;a.nodeType=t.DocType;a.set_nodeValue(b);return a};t.createProcessingInstruction=function(b){var a=new t;a.nodeType=
t.ProcessingInstruction;a.set_nodeValue(b);return a};t.createDocument=function(){var b=new t;b.nodeType=t.Document;b._children=[];return b};t.prototype={addChild:function(b){if(null==this._children)throw"bad nodetype";null!=b._parent&&r.remove(b._parent._children,b);b._parent=this;this._children.push(b)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var b=0,a=this._children.length;b<a;){var d=this._children[b];if(d.nodeType==t.Element)return d;b++}return null},elementsNamed:function(b){if(null==
this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,d=this.x.length;a<d;){var e=this.x[a];if(e.nodeType==t.Element&&e._nodeName==b)break;a++}this.cur=a;return a<d},next:function(){for(var a=this.cur,d=this.x.length;a<d;){var e=this.x[a];a++;if(e.nodeType==t.Element&&e._nodeName==b)return this.cur=a,e}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,a=
this.x.length;b<a&&this.x[b].nodeType!=t.Element;)b+=1;this.cur=b;return b<a},next:function(){for(var b=this.cur,a=this.x.length;b<a;){var d=this.x[b],b=b+1;if(d.nodeType==t.Element)return this.cur=b,d}return null}}},exists:function(b){if(this.nodeType!=t.Element)throw"bad nodeType";return this._attributes.exists(b)},set:function(b,a){if(this.nodeType!=t.Element)throw"bad nodeType";this._attributes.set(b,a)},get:function(b){if(this.nodeType!=t.Element)throw"bad nodeType";return this._attributes.get(b)},
set_nodeValue:function(b){if(this.nodeType==t.Element||this.nodeType==t.Document)throw"bad nodeType";return this._nodeValue=b},set_nodeName:function(b){if(this.nodeType!=t.Element)throw"bad nodeType";return this._nodeName=b},get_nodeName:function(){if(this.nodeType!=t.Element)throw"bad nodeType";return this._nodeName},_parent:null,_children:null,_attributes:null,_nodeValue:null,_nodeName:null,nodeType:null,__class__:t};var l={Log:function(){}};f["haxe.Log"]=l.Log;l.Log.__name__=["haxe","Log"];l.Log.trace=
function(b,a){n.Boot.__trace(b,a)};l.Serializer=function(){this.buf=new D;this.cache=[];this.useCache=l.Serializer.USE_CACHE;this.useEnumIndex=l.Serializer.USE_ENUM_INDEX;this.shash=new l.ds.StringMap;this.scount=0};f["haxe.Serializer"]=l.Serializer;l.Serializer.__name__=["haxe","Serializer"];l.Serializer.run=function(b){var a=new l.Serializer;a.serialize(b);return a.toString()};l.Serializer.prototype={serialize:function(b){var a=s["typeof"](b);switch(a[1]){case 0:this.buf.b+="n";break;case 1:if(0==
b){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=m.string(b);break;case 2:Math.isNaN(b)?this.buf.b+="k":Math.isFinite(b)?(this.buf.b+="d",this.buf.b+=m.string(b)):this.buf.b+=m.string(0>b?"m":"p");break;case 3:this.buf.b+=m.string(b?"t":"f");break;case 6:a=a[2];if(a==String){this.serializeString(b);break}if(this.useCache&&this.serializeRef(b))break;switch(a){case Array:var d=0;this.buf.b+="a";for(var e=b.length,k=0;k<e;)a=k++,null==b[a]?d++:(0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=
m.string(d)),d=0),this.serialize(b[a]));0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=m.string(d)));this.buf.b+="h";break;case E:this.buf.b+="l";for(b=b.iterator();b.hasNext();)a=b.next(),this.serialize(a);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=m.string(r.dateStr(b));break;case l.ds.StringMap:this.buf.b+="b";for(d=b.keys();d.hasNext();)a=d.next(),this.serializeString(a),this.serialize(b.get(a));this.buf.b+="h";break;case l.ds.IntMap:this.buf.b+="q";for(d=b.keys();d.hasNext();)a=
d.next(),this.buf.b+=":",this.buf.b+=m.string(a),this.serialize(b.get(a));this.buf.b+="h";break;case l.ds.ObjectMap:this.buf.b+="M";for(d=b.keys();d.hasNext();)a=d.next(),e=w.field(a,"__id__"),w.deleteField(a,"__id__"),this.serialize(a),a.__id__=e,this.serialize(b.h[a.__id__]);this.buf.b+="h";break;case l.io.Bytes:a=0;d=b.length-2;e=new D;for(k=l.Serializer.BASE64;a<d;){var f=b.b[a++],h=b.b[a++],g=b.b[a++];e.b+=m.string(k.charAt(f>>2));e.b+=m.string(k.charAt((f<<4|h>>4)&63));e.b+=m.string(k.charAt((h<<
2|g>>6)&63));e.b+=m.string(k.charAt(g&63))}a==d?(f=b.b[a++],h=b.b[a++],e.b+=m.string(k.charAt(f>>2)),e.b+=m.string(k.charAt((f<<4|h>>4)&63)),e.b+=m.string(k.charAt(h<<2&63))):a==d+1&&(f=b.b[a++],e.b+=m.string(k.charAt(f>>2)),e.b+=m.string(k.charAt(f<<4&63)));a=e.b;this.buf.b+="s";this.buf.b+=m.string(a.length);this.buf.b+=":";this.buf.b+=m.string(a);break;default:this.cache.pop(),null!=b.hxSerialize?(this.buf.b+="C",this.serializeString(s.getClassName(a)),this.cache.push(b),b.hxSerialize(this),this.buf.b+=
"g"):(this.buf.b+="c",this.serializeString(s.getClassName(a)),this.cache.push(b),this.serializeFields(b))}break;case 4:if(this.useCache&&this.serializeRef(b))break;this.buf.b+="o";this.serializeFields(b);break;case 7:a=a[2];if(this.useCache&&this.serializeRef(b))break;this.cache.pop();this.buf.b+=m.string(this.useEnumIndex?"j":"w");this.serializeString(s.getEnumName(a));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=m.string(b[1])):this.serializeString(b[0]);this.buf.b+=":";e=b.length;this.buf.b+=
m.string(e-2);for(k=2;k<e;)a=k++,this.serialize(b[a]);this.cache.push(b);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+m.string(b);}},serializeFields:function(a){for(var c=0,d=w.fields(a);c<d.length;){var e=d[c];++c;this.serializeString(e);this.serialize(w.field(a,e))}this.buf.b+="g"},serializeRef:function(a){for(var c=typeof a,d=0,e=this.cache.length;d<e;){var k=d++,f=this.cache[k];if(typeof f==c&&f==a)return this.buf.b+="r",this.buf.b+=m.string(k),!0}this.cache.push(a);
return!1},serializeString:function(a){var c=this.shash.get(a);null!=c?(this.buf.b+="R",this.buf.b+=m.string(c)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=u.urlEncode(a),this.buf.b+=m.string(a.length),this.buf.b+=":",this.buf.b+=m.string(a))},toString:function(){return this.buf.b},useEnumIndex:null,useCache:null,scount:null,shash:null,cache:null,buf:null,__class__:l.Serializer};l.Timer=function(a){var c=this;this.id=setInterval(function(){c.run()},a)};f["haxe.Timer"]=l.Timer;l.Timer.__name__=
["haxe","Timer"];l.Timer.delay=function(a,c){var d=new l.Timer(c);d.run=function(){d.stop();a()};return d};l.Timer.stamp=function(){return(new Date).getTime()/1E3};l.Timer.prototype={run:function(){l.Log.trace("run",{fileName:"Timer.hx",lineNumber:98,className:"haxe.Timer",methodName:"run"})},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},id:null,__class__:l.Timer};l.Unserializer=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=l.Unserializer.DEFAULT_RESOLVER;
null==a&&(a=s,l.Unserializer.DEFAULT_RESOLVER=a);this.setResolver(a)};f["haxe.Unserializer"]=l.Unserializer;l.Unserializer.__name__=["haxe","Unserializer"];l.Unserializer.initCodes=function(){for(var a=[],c=0,d=l.Unserializer.BASE64.length;c<d;){var e=c++;a[l.Unserializer.BASE64.charCodeAt(e)]=e}return a};l.Unserializer.run=function(a){return(new l.Unserializer(a)).unserialize()};l.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;
case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var c=this.buf.charCodeAt(this.pos);if(43<=c&&58>c||101==c||69==c)this.pos++;else break}return m.parseFloat(r.substr(this.buf,a,this.pos-a));case 121:c=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<c)throw"Invalid string length";a=r.substr(this.buf,this.pos,c);this.pos+=c;a=u.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;
case 112:return Math.POSITIVE_INFINITY;case 97:var d=this.buf,a=[];for(this.cache.push(a);;){c=this.buf.charCodeAt(this.pos);if(104==c){this.pos++;break}117==c?(this.pos++,c=this.readDigits(),a[a.length+c-1]=null):a.push(this.unserialize())}return a;case 111:return c={},this.cache.push(c),this.unserializeObject(c),c;case 114:c=this.readDigits();if(0>c||c>=this.cache.length)throw"Invalid reference";return this.cache[c];case 82:c=this.readDigits();if(0>c||c>=this.scache.length)throw"Invalid string reference";
return this.scache[c];case 120:throw this.unserialize();case 99:c=this.unserialize();a=this.resolver.resolveClass(c);if(null==a)throw"Class not found "+c;c=s.createEmptyInstance(a);this.cache.push(c);this.unserializeObject(c);return c;case 119:c=this.unserialize();a=this.resolver.resolveEnum(c);if(null==a)throw"Enum not found "+c;c=this.unserializeEnum(a,this.unserialize());this.cache.push(c);return c;case 106:c=this.unserialize();a=this.resolver.resolveEnum(c);if(null==a)throw"Enum not found "+c;
this.pos++;var d=this.readDigits(),e=s.getEnumConstructs(a)[d];if(null==e)throw"Unknown enum index "+c+"@"+d;c=this.unserializeEnum(a,e);this.cache.push(c);return c;case 108:c=new E;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)c.add(this.unserialize());this.pos++;return c;case 98:d=new l.ds.StringMap;for(this.cache.push(d);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),d.set(a,this.unserialize());this.pos++;return d;case 113:d=new l.ds.IntMap;this.cache.push(d);for(c=this.buf.charCodeAt(this.pos++);58==
c;)a=this.readDigits(),d.set(a,this.unserialize()),c=this.buf.charCodeAt(this.pos++);if(104!=c)throw"Invalid IntMap format";return d;case 77:d=new l.ds.ObjectMap;for(this.cache.push(d);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),d.set(a,this.unserialize());this.pos++;return d;case 118:return c=r.strDate(r.substr(this.buf,this.pos,19)),this.cache.push(c),this.pos+=19,c;case 115:c=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<c)throw"Invalid bytes length";
e=l.Unserializer.CODES;null==e&&(e=l.Unserializer.initCodes(),l.Unserializer.CODES=e);for(var a=this.pos,k=c&3,f=a+(c-k),h=l.io.Bytes.alloc(3*(c>>2)+(2<=k?k-1:0)),g=0;a<f;){var p=e[d.charCodeAt(a++)],q=e[d.charCodeAt(a++)];h.b[g++]=(p<<2|q>>4)&255;p=e[d.charCodeAt(a++)];h.b[g++]=(q<<4|p>>2)&255;q=e[d.charCodeAt(a++)];h.b[g++]=(p<<6|q)&255}2<=k&&(p=e[d.charCodeAt(a++)],q=e[d.charCodeAt(a++)],h.b[g++]=(p<<2|q>>4)&255,3==k&&(p=e[d.charCodeAt(a++)],h.b[g++]=(q<<4|p>>2)&255));this.pos+=c;this.cache.push(h);
return h;case 67:c=this.unserialize();a=this.resolver.resolveClass(c);if(null==a)throw"Class not found "+c;c=s.createEmptyInstance(a);this.cache.push(c);c.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return c}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,c){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var d=this.readDigits();if(0==d)return s.createEnum(a,c);for(var e=[];0<
d--;)e.push(this.unserialize());return s.createEnum(a,c,e)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var c=this.unserialize();if(!n.Boot.__instanceof(c,String))throw"Invalid object key";var d=this.unserialize();a[c]=d}this.pos++},readDigits:function(){for(var a=0,c=!1,d=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=d)break;c=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}c&&
(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:a},resolver:null,scache:null,cache:null,length:null,pos:null,buf:null,__class__:l.Unserializer};l.crypto={};l.crypto.BaseCode=function(a){for(var c=a.length,d=1;c>1<<d;)d++;if(8<d||c!=1<<d)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=d};f["haxe.crypto.BaseCode"]=l.crypto.BaseCode;l.crypto.BaseCode.__name__=["haxe","crypto","BaseCode"];
l.crypto.BaseCode.prototype={decodeBytes:function(a){var c=this.nbits;null==this.tbl&&this.initTable();for(var d=this.tbl,e=a.length*c>>3,k=l.io.Bytes.alloc(e),f=0,h=0,g=0,m=0;m<e;){for(;8>h;){var h=h+c,f=f<<c,p=d[a.b[g++]];if(-1==p)throw"BaseCode : invalid encoded char";f|=p}h-=8;k.b[m++]=f>>h&255}return k},initTable:function(){for(var a=[],c=0;256>c;){var d=c++;a[d]=-1}for(var e=0,c=this.base.length;e<c;)d=e++,a[this.base.b[d]]=d;this.tbl=a},encodeBytes:function(a){for(var c=this.nbits,d=this.base,
e=8*a.length/c|0,k=l.io.Bytes.alloc(e+(0==8*a.length%c?0:1)),f=0,h=0,g=(1<<c)-1,m=0,p=0;p<e;){for(;h<c;)h+=8,f<<=8,f|=a.b[m++];h-=c;k.b[p++]=d.b[f>>h&g]&255}0<h&&(k.b[p++]=d.b[f<<c-h&g]&255);return k},tbl:null,nbits:null,base:null,__class__:l.crypto.BaseCode};l.ds={};l.ds.IntMap=function(){this.h={}};f["haxe.ds.IntMap"]=l.ds.IntMap;l.ds.IntMap.__name__=["haxe","ds","IntMap"];l.ds.IntMap.__interfaces__=[B];l.ds.IntMap.prototype={keys:function(){var a=[],c;for(c in this.h)this.h.hasOwnProperty(c)&&
a.push(c|0);return r.iter(a)},get:function(a){return this.h[a]},set:function(a,c){this.h[a]=c},h:null,__class__:l.ds.IntMap};l.ds.ObjectMap=function(){this.h={};this.h.__keys__={}};f["haxe.ds.ObjectMap"]=l.ds.ObjectMap;l.ds.ObjectMap.__name__=["haxe","ds","ObjectMap"];l.ds.ObjectMap.__interfaces__=[B];l.ds.ObjectMap.prototype={keys:function(){var a=[],c;for(c in this.h.__keys__)this.h.hasOwnProperty(c)&&a.push(this.h.__keys__[c]);return r.iter(a)},set:function(a,c){var d=null!=a.__id__?a.__id__:a.__id__=
++l.ds.ObjectMap.count;this.h[d]=c;this.h.__keys__[d]=a},h:null,__class__:l.ds.ObjectMap};l.ds.StringMap=function(){this.h={}};f["haxe.ds.StringMap"]=l.ds.StringMap;l.ds.StringMap.__name__=["haxe","ds","StringMap"];l.ds.StringMap.__interfaces__=[B];l.ds.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref["$"+a]}}},keys:function(){var a=[],c;for(c in this.h)this.h.hasOwnProperty(c)&&
a.push(c.substr(1));return r.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,c){this.h["$"+a]=c},h:null,__class__:l.ds.StringMap};l.io={};l.io.Bytes=function(a,c){this.length=a;this.b=c};f["haxe.io.Bytes"]=l.io.Bytes;l.io.Bytes.__name__=["haxe","io","Bytes"];l.io.Bytes.alloc=function(a){for(var c=[],d=0;d<a;)d++,c.push(0);return new l.io.Bytes(a,
c)};l.io.Bytes.ofString=function(a){for(var c=[],d=0,e=a.length;d<e;){var k=d++,k=a.charCodeAt(k);127>=k?c.push(k):(2047>=k?c.push(192|k>>6):(65535>=k?c.push(224|k>>12):(c.push(240|k>>18),c.push(128|k>>12&63)),c.push(128|k>>6&63)),c.push(128|k&63))}return new l.io.Bytes(c.length,c)};l.io.Bytes.prototype={toString:function(){return this.readString(0,this.length)},readString:function(a,c){if(0>a||0>c||a+c>this.length)throw l.io.Error.OutsideBounds;for(var d="",e=this.b,k=String.fromCharCode,f=a,h=a+
c;f<h;){var g=e[f++];if(128>g){if(0==g)break;d+=k(g)}else if(224>g)d+=k((g&63)<<6|e[f++]&127);else if(240>g)var m=e[f++],d=d+k((g&31)<<12|(m&127)<<6|e[f++]&127);else var m=e[f++],p=e[f++],d=d+k((g&15)<<18|(m&127)<<12|p<<6&127|e[f++]&127)}return d},b:null,length:null,__class__:l.io.Bytes};l.io.Error=f["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};l.io.Error.Blocked=["Blocked",0];l.io.Error.Blocked.toString=q;l.io.Error.Blocked.__enum__=
l.io.Error;l.io.Error.Overflow=["Overflow",1];l.io.Error.Overflow.toString=q;l.io.Error.Overflow.__enum__=l.io.Error;l.io.Error.OutsideBounds=["OutsideBounds",2];l.io.Error.OutsideBounds.toString=q;l.io.Error.OutsideBounds.__enum__=l.io.Error;l.io.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=l.io.Error;a.toString=q;return a};l.xml={};l.xml.Parser=function(){};f["haxe.xml.Parser"]=l.xml.Parser;l.xml.Parser.__name__=["haxe","xml","Parser"];l.xml.Parser.parse=function(a){var c=t.createDocument();
l.xml.Parser.doParse(a,0,c);return c};l.xml.Parser.doParse=function(a,c,d){null==c&&(c=0);for(var e=null,k=1,f=1,h=null,g=0,p=0,q=0,n=a.charCodeAt(c),s=new D;n==n;){switch(k){case 0:switch(n){case 10:case 13:case 9:case 32:break;default:k=f;continue}break;case 1:switch(n){case 60:k=0;f=2;break;default:g=c;k=13;continue}break;case 13:60==n?(k=t.createPCData(s.b+r.substr(a,g,c-g)),s=new D,d.addChild(k),p++,k=0,f=2):38==n&&(s.addSub(a,g,c-g),k=18,f=13,g=c+1);break;case 17:93==n&&93==a.charCodeAt(c+1)&&
62==a.charCodeAt(c+2)&&(k=t.createCData(r.substr(a,g,c-g)),d.addChild(k),p++,c+=2,k=1);break;case 2:switch(n){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=r.substr(a,c,6).toUpperCase())throw"Expected <![CDATA[";c+=5;k=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=r.substr(a,c+2,6).toUpperCase())throw"Expected <!DOCTYPE";c+=8;k=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw"Expected \x3c!--";c+=2;k=15}g=c+1;break;case 63:k=14;g=c;break;case 47:if(null==
d)throw"Expected node name";g=c+1;k=0;f=10;break;default:k=3;g=c;continue}break;case 3:if(!(97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||58==n||46==n||95==n||45==n)){if(c==g)throw"Expected node name";e=t.createElement(r.substr(a,g,c-g));d.addChild(e);k=0;f=4;continue}break;case 4:switch(n){case 47:k=11;p++;break;case 62:k=9;p++;break;default:k=5;g=c;continue}break;case 5:if(!(97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||58==n||46==n||95==n||45==n)){if(g==c)throw"Expected attribute name";h=r.substr(a,
g,c-g);if(e.exists(h))throw"Duplicate attribute";k=0;f=6;continue}break;case 6:switch(n){case 61:k=0;f=7;break;default:throw"Expected =";}break;case 7:switch(n){case 34:case 39:k=8;g=c;break;default:throw'Expected "';}break;case 8:n==a.charCodeAt(g)&&(f=r.substr(a,g+1,c-g-1),e.set(h,f),k=0,f=4);break;case 9:g=c=l.xml.Parser.doParse(a,c,e);k=1;break;case 11:switch(n){case 62:k=1;break;default:throw"Expected >";}break;case 12:switch(n){case 62:return 0==p&&d.addChild(t.createPCData("")),c;default:throw"Expected >";
}case 10:if(!(97<=n&&122>=n||65<=n&&90>=n||48<=n&&57>=n||58==n||46==n||95==n||45==n)){if(g==c)throw"Expected node name";if(r.substr(a,g,c-g)!=d.get_nodeName())throw"Expected </"+d.get_nodeName()+">";k=0;f=12;continue}break;case 15:45==n&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(t.createComment(r.substr(a,g,c-g))),c+=2,k=1);break;case 16:91==n?q++:93==n?q--:62==n&&0==q&&(d.addChild(t.createDocType(r.substr(a,g,c-g))),k=1);break;case 14:63==n&&62==a.charCodeAt(c+1)&&(c++,k=r.substr(a,
g+1,c-g-2),d.addChild(t.createProcessingInstruction(k)),k=1);break;case 18:59==n&&(g=r.substr(a,g,c-g),35==g.charCodeAt(0)?(g=120==g.charCodeAt(1)?m.parseInt("0"+r.substr(g,1,g.length-1)):m.parseInt(r.substr(g,1,g.length-1)),s.b+=m.string(String.fromCharCode(g))):l.xml.Parser.escapes.exists(g)?s.b+=m.string(l.xml.Parser.escapes.get(g)):s.b+=m.string("&"+g+";"),g=c+1,k=f)}n=a.charCodeAt(++c)}1==k&&(g=c,k=13);if(13==k)return c==g&&0!=p||d.addChild(t.createPCData(s.b+r.substr(a,g,c-g))),c;throw"Unexpected end";
};var n={Boot:function(){}};f["js.Boot"]=n.Boot;n.Boot.__name__=["js","Boot"];n.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};n.Boot.__trace=function(a,c){var d=null!=c?c.fileName+":"+c.lineNumber+": ":"",d=d+n.Boot.__string_rec(a,"");if(null!=c&&null!=c.customParams)for(var e=0,k=c.customParams;e<k.length;){var f=k[e];++e;d+=","+n.Boot.__string_rec(f,"")}var g;"undefined"!=typeof document&&null!=(g=document.getElementById("haxe:trace"))?
g.innerHTML+=n.Boot.__unhtml(d)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(d)};n.Boot.__string_rec=function(a,c){if(null==a)return"null";if(5<=c.length)return"<...>";var d=typeof a;"function"==d&&(a.__name__||a.__ename__)&&(d="object");switch(d){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];d=a[0]+"(";c+="\t";for(var e=2,k=a.length;e<k;)var f=e++,d=2!=f?d+(","+n.Boot.__string_rec(a[f],c)):d+n.Boot.__string_rec(a[f],c);return d+")"}e=a.length;
d="[";c+="\t";for(k=0;k<e;)f=k++,d+=(0<f?",":"")+n.Boot.__string_rec(a[f],c);return d+"]"}try{k=a.toString}catch(g){return"???"}if(null!=k&&k!=Object.toString&&(d=a.toString(),"[object Object]"!=d))return d;k=null;d="{\n";c+="\t";e=null!=a.hasOwnProperty;for(k in a)e&&!a.hasOwnProperty(k)||"prototype"==k||"__class__"==k||"__super__"==k||"__interfaces__"==k||"__properties__"==k||(2!=d.length&&(d+=", \n"),d+=c+k+" : "+n.Boot.__string_rec(a[k],c));c=c.substring(1);return d+="\n"+c+"}";case "function":return"<function>";
case "string":return a;default:return String(a)}};n.Boot.__interfLoop=function(a,c){if(null==a)return!1;if(a==c)return!0;var d=a.__interfaces__;if(null!=d)for(var e=0,k=d.length;e<k;){var f=e++,f=d[f];if(f==c||n.Boot.__interfLoop(f,c))return!0}return n.Boot.__interfLoop(a.__super__,c)};n.Boot.__instanceof=function(a,c){if(null==c)return!1;switch(c){case z:return(a|0)===a;case x:return"number"==typeof a;case C:return"boolean"==typeof a;case String:return"string"==typeof a;case L:return!0;default:if(null!=
a){if("function"==typeof c){if(a instanceof c)return c==Array?null==a.__enum__:!0;if(n.Boot.__interfLoop(a.__class__,c))return!0}}else return!1;return c==M&&null!=a.__name__||c==N&&null!=a.__ename__?!0:a.__enum__==c}};n.Boot.__cast=function(a,c){if(n.Boot.__instanceof(a,c))return a;throw"Cannot cast "+m.string(a)+" to "+m.string(c);};n.Browser=function(){};f["js.Browser"]=n.Browser;n.Browser.__name__=["js","Browser"];a.application.ApplicationMessage=function(a,c){this.handler=a;this.data=c};f["nfuzion.application.ApplicationMessage"]=
a.application.ApplicationMessage;a.application.ApplicationMessage.__name__=["nfuzion","application","ApplicationMessage"];a.application.ApplicationMessage.prototype={data:null,handler:null,__class__:a.application.ApplicationMessage};a.application.ApplicationTool=function(){};f["nfuzion.application.ApplicationTool"]=a.application.ApplicationTool;a.application.ApplicationTool.__name__=["nfuzion","application","ApplicationTool"];a.event={};a.event.IEventDispatcher=function(){};f["nfuzion.event.IEventDispatcher"]=
a.event.IEventDispatcher;a.event.IEventDispatcher.__name__=["nfuzion","event","IEventDispatcher"];a.event.IEventDispatcher.prototype={dispatchEvent:null,hasEventListener:null,removeEventListener:null,addEventListener:null,__class__:a.event.IEventDispatcher};a.event.EventDispatcher=function(){this.eventTypes=null};f["nfuzion.event.EventDispatcher"]=a.event.EventDispatcher;a.event.EventDispatcher.__name__=["nfuzion","event","EventDispatcher"];a.event.EventDispatcher.__interfaces__=[a.event.IEventDispatcher];
a.event.EventDispatcher.prototype={getFunctionIndex:function(a,c){for(var d=0,e=a.length;d<e;){var k=d++;if(w.compareMethods(a[k],c))return k}return-1},dispatchEvent:function(a){if(null!=this.eventTypes&&this.eventTypes.exists(a.type))for(var c=0,d=this.eventTypes.get(a.type).slice();c<d.length;){var e=d[c];++c;e(a);if(a.stopNow)break}},hasEventListener:function(a){return null==this.eventTypes?!1:this.eventTypes.exists(a)&&0<this.eventTypes.get(a).length?!0:!1},removeEventListener:function(a,c,d){null!=
this.eventTypes&&this.eventTypes.exists(a)&&(a=this.eventTypes.get(a),c=this.getFunctionIndex(a,c),0<=c&&a.splice(c,1))},addEventListener:function(a,c,d){null==this.eventTypes&&(this.eventTypes=new l.ds.StringMap);this.eventTypes.exists(a)||this.eventTypes.set(a,[]);a=this.eventTypes.get(a);0>this.getFunctionIndex(a,c)&&(this.invertDefaultPriority?a.unshift(c):a.push(c))},invertDefaultPriority:null,eventTypes:null,__class__:a.event.EventDispatcher};a.builder={};a.builder.Builder=function(){a.event.EventDispatcher.call(this);
this.set_sketch(null)};f["nfuzion.builder.Builder"]=a.builder.Builder;a.builder.Builder.__name__=["nfuzion","builder","Builder"];a.builder.Builder.__super__=a.event.EventDispatcher;a.builder.Builder.prototype=g(a.event.EventDispatcher.prototype,{themeComponent:function(a,c,d){null==d&&(d=!0);d&&a.setSquare(c._x,c._y,c._width,c._height);a.set_alpha(c.alpha);a.set_visible(c.visible);a.set_backgroundPaint(c.backgroundPaint);a.set_borderPaint(c.borderPaint);null!=c.borderWidth&&a.set_borderWidth(c.borderWidth);
a.set_frames(c.frames);null!=c.mask?(a.set_maskUrl(c.mask.url),a.maskBox.copyFromBox(c.mask)):a.set_maskUrl(null)},themeText:function(a,c,d){this.themeComponent(a,c);a.set_alignment(c.alignment);null==c.text||a.manualText||(a.set_text(c.text),a.manualText=!1);a.set_font(c.font);null!=c.paint&&a.set_paint(c.paint);a.set_wrap(c.wrap)},themeChild:function(b,c,d){null==d&&(d=!0);n.Boot.__instanceof(b,a.graphics.Text)?this.themeText(b,c,d):n.Boot.__instanceof(b,a.graphics.Container)?this.themeContainer(b,
c,d):l.Log.trace("ERROR: Unknown sketch type '"+s.getClassName(s.getClass(b))+"'.",{fileName:"Builder.hx",lineNumber:285,className:"nfuzion.builder.Builder",methodName:"themeChild"})},themeChildren:function(b,c){if(n.Boot.__instanceof(c,a.sketch.type.SketchContainer))for(var d=0,e=c.children;d<e.length;){var k=e[d];++d;var f=b.getChild(k.name);null!=f&&this.themeChild(f,k)}},themeContainer:function(a,c,d){null==d&&(d=!0);this.themeComponent(a,c,d);d=null;if(null!=c.className){var e=c.className;d=
this.sketch.getClass(e);null==d?l.Log.trace("ERROR: Class '"+e+"' not found.",{fileName:"Builder.hx",lineNumber:230,className:"nfuzion.builder.Builder",methodName:"themeContainer"}):(this.themeComponent(a,d,!1),a.setSize(d._width,d._height),this.themeChildren(a,d),a.sketch=d)}this.themeChildren(a,c)},theme:function(a,c){this.themeChild(a,c,!1)},buildText:function(b,c){var d=new a.graphics.Text(c.name,c);this.themeText(d,c);b.appendChild(d);return d},buildChildren:function(b,c){for(var d=0,e=c.children;d<
e.length;){var k=e[d];++d;switch(s.getClass(k)){case a.sketch.type.SketchContainer:this.buildContainer(b,k);break;case a.sketch.type.SketchText:this.buildText(b,k);break;default:l.Log.trace("ERROR: Unknown sketch type '"+s.getClassName(s.getClass(k))+"'.",{fileName:"Builder.hx",lineNumber:180,className:"nfuzion.builder.Builder",methodName:"buildChildren"})}}},buildContainer:function(b,c){var d=new a.graphics.Container(c.name,c);b.appendChild(d);this.configueComponent(d,c);var e=null;if(null!=c.className){var k=
c.className,e=this.sketch.getClass(k);null==e?l.Log.trace("ERROR: Class '"+k+"' not found.",{fileName:"Builder.hx",lineNumber:141,className:"nfuzion.builder.Builder",methodName:"buildContainer"}):(this.configueComponent(d,e),this.buildChildren(d,e),d.sketch=e)}this.buildChildren(d,c);null!=e&&(d.setPosition(c._x,c._y),d.set_borderWidth(e.borderWidth),d.set_borderPaint(e.borderPaint),d.set_backgroundPaint(e.backgroundPaint));return d},configueComponent:function(a,c){a.set_guises(c.guises);this.themeComponent(a,
c);a["goto"](c.initialFrameName)},buildOver:function(a,c){var d;d=this.sketch.getClass(a);if(null==d)return l.Log.trace("ERROR: Class '"+a+"' not found.",{fileName:"Builder.hx",lineNumber:101,className:"nfuzion.builder.Builder",methodName:"buildOver"}),!1;this.configueComponent(c,d);this.buildChildren(c,d);c.sketch=d;return!0},build:function(a,c){var d;d=this.sketch.getClass(a);if(null==d)return l.Log.trace("ERROR: Class '"+a+"' not found.",{fileName:"Builder.hx",lineNumber:79,className:"nfuzion.builder.Builder",
methodName:"build"}),!1;this.buildContainer(c,d);return!0},onSketchReady:function(b){null!=this.sketch&&this.sketch.ready&&(this.sketch.removeEventListener("BuilderEvent.ready",h(this,this.onSketchReady)),this.dispatchEvent(new a.builder.event.BuilderEvent("sketch")))},set_sketch:function(a){if(a!=this.sketch)if(this.sketch=a,a.ready)this.onSketchReady();else a.addEventListener("BuilderEvent.ready",h(this,this.onSketchReady));return this.sketch},sketch:null,__class__:a.builder.Builder,__properties__:{set_sketch:"set_sketch"}});
a.event.Event=function(a){this.type=a;this.stopNow=this.stop=!1};f["nfuzion.event.Event"]=a.event.Event;a.event.Event.__name__=["nfuzion","event","Event"];a.event.Event.prototype={stopImmediatePropagation:function(){this.stopNow=!0},stopPropagation:function(){this.stop=!0},stopNow:null,stop:null,type:null,__class__:a.event.Event};a.builder.event={};a.builder.event.BuilderEvent=function(b){a.event.Event.call(this,b)};f["nfuzion.builder.event.BuilderEvent"]=a.builder.event.BuilderEvent;a.builder.event.BuilderEvent.__name__=
["nfuzion","builder","event","BuilderEvent"];a.builder.event.BuilderEvent.__super__=a.event.Event;a.builder.event.BuilderEvent.prototype=g(a.event.Event.prototype,{__class__:a.builder.event.BuilderEvent});a.cache={};a.cache.ListCache=function(){this.dataRequester=this.dataDismisser=null;this.bufferSize=20;this.dataAtRangeIndexHint=-1;this.cached=this.requestInProgress=!1;a.event.EventDispatcher.call(this);this.requestTimer=new a.timer.Timer(5);this.set_listLength(0);this.set_listPosition(0);this.set_windowSize(1);
this.ranges=[];this.requestTimer.addEventListener("timer",h(this,this.onRequestTimeout))};f["nfuzion.cache.ListCache"]=a.cache.ListCache;a.cache.ListCache.__name__=["nfuzion","cache","ListCache"];a.cache.ListCache.__super__=a.event.EventDispatcher;a.cache.ListCache.prototype=g(a.event.EventDispatcher.prototype,{dismissDataEntry:function(a){null!=this.dataDismisser&&null==this.getCacheDataAt(a)&&this.dataDismisser(this.data.entries[a-this.data.offset])},dismissAllData:function(){if(null!=this.data){if(null!=
this.data)for(var a=0,c=this.data.entries.length;a<c;){var d=a++;this.dismissDataEntry(d)}this.data.entries=[]}},requestCacheRangeData:function(){for(var a=0,c=this.ranges.length;a<c;){var d=a++,d=this.ranges[d];if(d.entries.length<d.end-d.start+1){this.addDataRequest(d.start+d.entries.length,d.end);break}}},addCacheRangeData:function(b){if(0<this.ranges.length){var c=b.offset,d=b.offset+b.entries.length-1,e=this.findInsertionIndex(c);0>e&&e++;if(0<e&&this.ranges[e-1].end>=c){var k=this.ranges[e-
1];if(c<=k.start+k.entries.length)e--;else{var f=k.end;k.end=c-1;this.ranges.splice(e,0,new a.cache.type.CacheRange(c,f))}}for(;e<this.ranges.length&&this.ranges[e].start<=d;){k=this.ranges[e];for(f=c;f<=d;){var g=k.start+k.entries.length;if(f<g)k.entries[f-k.start]=b.entries[f-c];else if(f==g)k.entries.push(b.entries[f-c]),g++,g>k.end&&e+1<this.ranges.length&&this.ranges[e+1].start==g&&(g=this.ranges.splice(e+1,1)[0],k.entries=k.entries.concat(g.entries),k.end=g.end);else if(e+1<this.ranges.length&&
this.ranges[e+1].start==f)g=this.ranges.splice(e+1,1)[0],k.entries=k.entries.concat(g.entries),k.end=g.end;else break;f++}e++}}},clearCacheRanges:function(){this.ranges=[]},removeCacheRange:function(a,c){if(0>=a&&c>=this.listLength-1){if(null!=this.dataDismisser)for(var d=0,e=this.ranges;d<e.length;){var k=e[d];++d;this.dataDismisser(k.entries)}this.ranges=[]}else l.Log.trace("WARNING: Cannot remove partial cache range.  Removing all.",{fileName:"ListCache.hx",lineNumber:784,className:"nfuzion.cache.ListCache",
methodName:"removeCacheRange"}),this.removeCacheRange(0,this.listLength-1)},addCacheRange:function(b,c){c>=this.listLength&&(c=this.listLength-1);b>c&&(b=c);if(!(0>b)){var d=this.findInsertionIndex(b);-1==d&&(this.ranges.unshift(new a.cache.type.CacheRange(b,b)),d++);0<d&&this.ranges[d-1].end>=b&&d--;var e=this.ranges[d];if(null==e||c<e.start){var k=new a.cache.type.CacheRange(b,c);this.ranges.splice(d,0,k)}else for(;c>=e.start;){b<e.start&&(k=new a.cache.type.CacheRange(b,e.start-1),this.ranges.splice(d,
0,k),b=e.start,d++,e=this.ranges[d]);if(d+1>=this.ranges.length){e.end+1>=b?c>e.end&&(e.end=c):this.ranges.splice(d+1,0,new a.cache.type.CacheRange(b,c));break}else if(k=this.ranges[d+1],c<k.start){e.end+1>=b?c>e.end&&(e.end=c):this.ranges.splice(d+1,0,new a.cache.type.CacheRange(b,c));break}else e.end=k.start-1,b=e.end+1;d++;e=this.ranges[d]}this.requestData()}},findInsertionIndex:function(a){for(var c=0,d=this.ranges.length;c<d;){var e=c++;if(this.ranges[e].start>a)return e-1}return this.ranges.length},
addCacheWindow:function(a){a+this.windowSize>this.listLength&&(a=this.listLength-this.windowSize);this.addCacheRange(a,a+this.windowSize-1)},getCacheDataAt:function(a){if(0>=this.ranges.length)return this.dataAtRangeIndexHint=-1,null;if(0<=this.dataAtRangeIndexHint&&this.dataAtRangeIndexHint<this.ranges.length){var c=this.ranges[this.dataAtRangeIndexHint];if(a>=c.start&&a<c.start+c.entries.length)return c.entries[a-c.start]}var d=this.findInsertionIndex(a);if(0<=d&&(d>=this.ranges.length&&(d=this.ranges.length-
1),c=this.ranges[d],a>=c.start&&a<c.start+c.entries.length))return this.dataAtRangeIndexHint=d,c.entries[a-c.start];this.dataAtRangeIndexHint=-1;return null},getDataAt:function(a){return null!=this.data&&a>=this.data.offset&&a<this.data.offset+this.data.entries.length?this.data.entries[a-this.data.offset]:this.getCacheDataAt(a)},set_dataDismisser:function(a){return this.dataDismisser=a},dataDismisser:null,set_dataRequester:function(a){w.compareMethods(this.dataRequester,a)||(this.dataRequester=a,
this.invalidateData());return a},dataRequester:null,invalidateData:function(){this.dismissAllData();this.data=null;this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",0,this.listLength-1));this.requestInProgress=!1;this.requestData()},onRequestTimeout:function(a){l.Log.trace("ERROR: No response received for list request after "+this.requestTimer.period+" seconds.",{fileName:"ListCache.hx",lineNumber:476,className:"nfuzion.cache.ListCache",methodName:"onRequestTimeout"});this.requestTimer.reset();
this.requestInProgress=!1;this.requestData()},addDataRequest:function(a,c){c>this.listLength-1&&(c=this.listLength-1);0>a||0>c||c<a?l.Log.trace("WARNING: Request for invalid data range!",{fileName:"ListCache.hx",lineNumber:461,className:"nfuzion.cache.ListCache",methodName:"addDataRequest"}):(this.requestTimer.start(),this.requestedStart=a,this.requestedEnd=c,this.requestInProgress=!0,this.dataRequester(a,c))},requestData:function(){if(null!=this.dataRequester&&!this.requestInProgress&&0<this.listLength)if(null==
this.data){if(0<this.windowSize){var b=this.listPosition,c=this.listPosition+this.windowSize-1;c>=this.listLength&&(c=this.listLength-1);this.dismissAllData();this.data=new a.widget.type.PartialList(b,[]);b=this.fillCacheForward(b,c);0<this.data.entries.length&&this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",0,this.listLength-1));b<=c?this.addDataRequest(b,c):this.requestData()}}else{var d=this.data.offset,e=d+this.data.entries.length-1,k=this.listPosition,f=this.listPosition+
this.windowSize-1,b=-1;k<=e&&(k>=d?b=k:d<=f&&(b=d));c=-1;f>=d&&(f<=e?c=f:k<=e&&(c=e));k=this.listPosition+this.windowSize+this.bufferSize-1;k>=this.listLength&&(k=this.listLength-1);var g=this.listPosition-this.bufferSize;0>g&&(g=0);f=0;0<=b&&0<=c&&(f=c-b+1);var h=this.windowSize;h>this.listLength&&(h=this.listLength);this.listPosition<this.listLength&&f<h?(d=this.listPosition,b==this.listPosition&&(d=c+1),d<this.listLength&&(b=d+(h-f)-1,b>=this.listLength&&(b=this.listLength-1),c=this.fillCacheForward(d,
b),c!=d&&this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",this.data.offset,this.data.offset+this.data.entries.length-1)),c<=b?this.addDataRequest(d,b):this.requestData())):e<k?(b=this.fillCacheForward(e+1,k),b<=k?this.addDataRequest(b,k):this.requestData()):g<this.data.offset?(this.fillCacheBackward(g),g<=this.data.offset?this.addDataRequest(g,d-1):this.requestData()):this.requestCacheRangeData()}this.requestInProgress&&this.cached?(this.cached=!1,this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.caching",
this.requestedStart,this.requestedEnd))):this.requestInProgress||this.cached||(this.cached=!0,this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.cached",0,this.listLength-1)))},fillCacheBackward:function(a){for(;a<=this.data.offset;){var c=this.getCacheDataAt(this.data.offset-1);if(null==c)break;this.data.entries.unshift(c);this.data.offset--}},fillCacheForward:function(a,c){c>=this.listLength&&(c=this.listLength-1);if(a>c)return a;do{var d=this.getCacheDataAt(a);if(null==d)break;this.data.entries.push(d);
a++}while(a<=c);return a},addData:function(b){var c;if(null!=b){this.requestInProgress&&(c=this.requestedEnd-this.requestedStart+1,b.offset==this.requestedStart&&b.entries.length==c&&(this.requestTimer.reset(),this.requestInProgress=!1));if(b.offset>=this.listLength){l.Log.trace("WARNING: List received out-of-range data.",{fileName:"ListCache.hx",lineNumber:180,className:"nfuzion.cache.ListCache",methodName:"addData"});return}if(b.offset>=this.listPosition-20&&b.offset+b.entries.length<=this.listPosition+
this.windowSize+20){if(null==this.data||this.data.offset>b.offset+b.entries.length||b.offset>this.data.offset+this.data.entries.length)null!=b&&(this.dismissAllData(),this.data=b.clone());else{for(c=this.data.offset-1;c>=b.offset;)this.data.entries.unshift(b.entries[c-b.offset]),this.data.offset=c,c--;c=this.data.offset+this.data.entries.length;var d;for(d=b.entries.length;c<b.offset+d;)c>=this.data.offset&&c<this.data.offset+this.data.entries.length?this.data.entries[c-this.data.offset]=b.entries[c-
b.offset]:this.data.entries.push(b.entries[c-b.offset]),c++}this.dispatchEvent(new a.cache.event.CacheEvent("CacheEvent.update",this.data.offset,this.data.offset+this.data.entries.length-1))}this.addCacheRangeData(b)}this.requestData()},dataEventHandler:function(a){this.addData(a.data)},set_listPosition:function(a){0>a&&(l.Log.trace("ERROR: Cannot set list position to less than 0.",{fileName:"ListCache.hx",lineNumber:120,className:"nfuzion.cache.ListCache",methodName:"set_listPosition"}),a=0);if(this.listPosition!=
a){this.listPosition=a;if(null!=this.data)if(a<this.data.offset||a>=this.data.offset+this.data.entries.length)this.dismissAllData(),this.data=null;else{for(;this.data.offset<a-this.bufferSize;)this.dismissDataEntry(this.data.entries.shift()),this.data.offset++;for(;this.data.offset+this.data.entries.length>a+this.windowSize+this.bufferSize;)this.dismissDataEntry(this.data.entries.pop())}this.requestData()}return a},listPosition:null,set_listLength:function(a){0>a&&(l.Log.trace("ERROR: Cannot set list length to less than 0.",
{fileName:"ListCache.hx",lineNumber:85,className:"nfuzion.cache.ListCache",methodName:"set_listLength"}),a=0);if(this.listLength!=a){if(a<this.listLength){if(this.data.offset+this.data.entries.length>=a){var c=this.data.offset+this.data.entries.length-a;if(c>this.data.entries.length)this.data.entries=[];else for(var d=0;d<c;)d++,this.data.entries.pop()}this.removeCacheRange(a,this.listLength-1)}this.listLength=a;this.requestData()}return a},listLength:null,set_windowSize:function(a){1>a&&(l.Log.trace("ERROR: Cannot set cache window size to less than 1.",
{fileName:"ListCache.hx",lineNumber:69,className:"nfuzion.cache.ListCache",methodName:"set_windowSize"}),a=1);this.windowSize!=a&&(this.windowSize=a,this.requestData());return a},windowSize:null,set_bufferSize:function(a){0>a&&(a=0);this.bufferSize!=a&&(this.bufferSize=a,this.requestData());return a},bufferSize:null,destroy:function(){this.requestTimer.removeEventListener("timer",h(this,this.onRequestTimeout));this.set_dataRequester(null);this.data=null},dataAtRangeIndexHint:null,requests:null,ranges:null,
requestedEnd:null,requestedStart:null,requestTimer:null,requestInProgress:null,data:null,cached:null,__class__:a.cache.ListCache,__properties__:{set_bufferSize:"set_bufferSize",set_windowSize:"set_windowSize",set_listLength:"set_listLength",set_listPosition:"set_listPosition",set_dataRequester:"set_dataRequester",set_dataDismisser:"set_dataDismisser"}});a.cache.event={};a.cache.event.CacheEvent=function(b,c,d){a.event.Event.call(this,b);this.start=c;this.end=d};f["nfuzion.cache.event.CacheEvent"]=
a.cache.event.CacheEvent;a.cache.event.CacheEvent.__name__=["nfuzion","cache","event","CacheEvent"];a.cache.event.CacheEvent.__super__=a.event.Event;a.cache.event.CacheEvent.prototype=g(a.event.Event.prototype,{end:null,start:null,__class__:a.cache.event.CacheEvent});a.cache.type={};a.cache.type.CacheRange=function(a,c){this.entries=[];this.start=a;this.end=c};f["nfuzion.cache.type.CacheRange"]=a.cache.type.CacheRange;a.cache.type.CacheRange.__name__=["nfuzion","cache","type","CacheRange"];a.cache.type.CacheRange.prototype=
{end:null,start:null,entries:null,__class__:a.cache.type.CacheRange};a.client={};a.client.IClient=function(){};f["nfuzion.client.IClient"]=a.client.IClient;a.client.IClient.__name__=["nfuzion","client","IClient"];a.client.IClient.__interfaces__=[a.event.IEventDispatcher];a.client.IClient.prototype={send:null,disconnect:null,connect:null,connected:null,port:null,host:null,__class__:a.client.IClient};a.client.Client=function(b,c){a.event.EventDispatcher.call(this);this.host=b;this.port=c};f["nfuzion.client.Client"]=
a.client.Client;a.client.Client.__name__=["nfuzion","client","Client"];a.client.Client.__interfaces__=[a.client.IClient];a.client.Client.__super__=a.event.EventDispatcher;a.client.Client.prototype=g(a.event.EventDispatcher.prototype,{send:function(a){return!1},disconnect:function(){},connect:function(){},port:null,host:null,connected:null,__class__:a.client.Client});a.client.GhostClient=function(){a.event.EventDispatcher.call(this);this.host="ghost";this.port=0;this.connected=!0;this.set_autoConnect(!1)};
f["nfuzion.client.GhostClient"]=a.client.GhostClient;a.client.GhostClient.__name__=["nfuzion","client","GhostClient"];a.client.GhostClient.__interfaces__=[a.client.IClient];a.client.GhostClient.__super__=a.event.EventDispatcher;a.client.GhostClient.prototype=g(a.event.EventDispatcher.prototype,{addMessageListener:function(a,c){},send:function(a){return!1},set_autoConnect:function(a){return a},autoConnect:null,disconnect:function(){},connect:function(){},connected:null,port:null,host:null,__class__:a.client.GhostClient,
__properties__:{set_autoConnect:"set_autoConnect"}});a.client.WebSocketClient=function(b,c){a.client.Client.call(this,b,c);this.client=null;this.closeRequested=this.connectRequested=this.connected=!1;this.txTimer=new a.timer.Timer(0.05)};f["nfuzion.client.WebSocketClient"]=a.client.WebSocketClient;a.client.WebSocketClient.__name__=["nfuzion","client","WebSocketClient"];a.client.WebSocketClient.__super__=a.client.Client;a.client.WebSocketClient.prototype=g(a.client.Client.prototype,{onError:function(a){l.Log.trace("ERROR:"+
m.string(a),{fileName:"WebSocketClient.hx",lineNumber:191,className:"nfuzion.client.WebSocketClient",methodName:"onError"})},onMessage:function(b){null!=b.data&&this.dispatchEvent(new a.client.event.ClientEvent("ClientEvent.data",this,b.data))},onClose:function(b){this.closeRequested=this.connectRequested=this.connected=!1;this.client=null;this.dispatchEvent(new a.client.event.ClientEvent("ClientEvent.disconnect",this))},onOpen:function(b){this.connected=!0;this.connectRequested=!1;this.closeRequested?
this.disconnect():this.dispatchEvent(new a.client.event.ClientEvent("ClientEvent.connect",this))},onTxTimer:function(a){if(0>=this.client.bufferedAmount){if(0<this.txQueue.length)try{this.client.send(this.txQueue.shift())}catch(c){l.Log.trace("ERROR: "+m.string(c),{fileName:"WebSocketClient.hx",lineNumber:144,className:"nfuzion.client.WebSocketClient",methodName:"onTxTimer"}),this.disconnect()}this.txTimer.reset()}},send:function(a){if(null!=this.client){if(0>=this.txQueue.length)if(0>=this.client.bufferedAmount)try{this.client.send(a)}catch(c){return l.Log.trace("ERROR: "+
m.string(c),{fileName:"WebSocketClient.hx",lineNumber:97,className:"nfuzion.client.WebSocketClient",methodName:"send"}),this.disconnect(),!1}else this.txQueue.push(a),this.txTimer.start();else this.txQueue.push(a);return!0}return!1},disconnect:function(){null!=this.client&&(this.connected?(this.txTimer.removeEventListener("timer",h(this,this.onTxTimer)),this.connected=!1,this.client.close()):this.closeRequested=!0)},connect:function(){this.connectRequested||(null!=this.client?this.disconnect():(this.txTimer.addEventListener("timer",
h(this,this.onTxTimer)),this.txQueue=[],this.connectRequested=!0,this.client=new WebSocket("ws://"+this.host+":"+m.string(this.port)+"?encoding=text"),this.client.onopen=h(this,this.onOpen),this.client.onclose=h(this,this.onClose),this.client.onerror=h(this,this.onError),this.client.onmessage=h(this,this.onMessage)))},txTimer:null,txQueue:null,client:null,closeRequested:null,connectRequested:null,__class__:a.client.WebSocketClient});a.client.event={};a.client.event.ClientEvent=function(b,c,d){a.event.Event.call(this,
b);this.client=c;this.data=d};f["nfuzion.client.event.ClientEvent"]=a.client.event.ClientEvent;a.client.event.ClientEvent.__name__=["nfuzion","client","event","ClientEvent"];a.client.event.ClientEvent.__super__=a.event.Event;a.client.event.ClientEvent.prototype=g(a.event.Event.prototype,{data:null,client:null,__class__:a.client.event.ClientEvent});a.debug={};a.debug.Debug=function(){};f["nfuzion.debug.Debug"]=a.debug.Debug;a.debug.Debug.__name__=["nfuzion","debug","Debug"];a.debug.Debug.__properties__=
{set_client:"set_client"};a.debug.Debug.initialize=function(){a.debug.Debug.buffer=[];l.Log.trace=a.debug.Debug.debugTrace};a.debug.Debug.debugTrace=function(b,c){var d=new a.message.debug.LetTrace(a.timer.Delay.now(),a.application.Application.appName,m.string(b),c.fileName,c.lineNumber,c.className,c.methodName);if(null==a.debug.Debug.client||!1==a.debug.Debug.client.get_connected())for(a.debug.Debug.buffer.push(d);20<a.debug.Debug.buffer.length;)a.debug.Debug.buffer.shift();else a.debug.Debug.client.send(d)};
a.debug.Debug.set_client=function(b){a.debug.Debug.client=b;if(b.get_connected())a.debug.Debug.onClientConnect();else b.addEventListener("SpanClientEvent.connect",a.debug.Debug.onClientConnect);return a.debug.Debug.client};a.debug.Debug.onClientConnect=function(b){for(;0<a.debug.Debug.buffer.length;)a.debug.Debug.client.send(a.debug.Debug.buffer.shift())};a.event.BubblingEvent=function(b,c){null==c&&(c=!0);a.event.Event.call(this,b);this.bubbles=c};f["nfuzion.event.BubblingEvent"]=a.event.BubblingEvent;
a.event.BubblingEvent.__name__=["nfuzion","event","BubblingEvent"];a.event.BubblingEvent.__super__=a.event.Event;a.event.BubblingEvent.prototype=g(a.event.Event.prototype,{bubbles:null,__class__:a.event.BubblingEvent});a.event.IListenerManager=function(){};f["nfuzion.event.IListenerManager"]=a.event.IListenerManager;a.event.IListenerManager.__name__=["nfuzion","event","IListenerManager"];a.event.IListenerManager.prototype={detachAllListeners:null,swapListener:null,detachListener:null,attachListener:null,
__class__:a.event.IListenerManager};a.event.ListenerManager=function(){this.listeners=[]};f["nfuzion.event.ListenerManager"]=a.event.ListenerManager;a.event.ListenerManager.__name__=["nfuzion","event","ListenerManager"];a.event.ListenerManager.prototype={detachAllListeners:function(){for(var a=0,c=this.listeners;a<c.length;){var d=c[a];++a;d.dispatcher.removeEventListener(d.type,d.listener)}this.listeners=[]},swapListener:function(a,c,d,e){null==e&&(e=0);for(var k=0,f=this.listeners.length;k<f;){var g=
k++,h=this.listeners[g];h.dispatcher==a&&h.type==c&&(h.dispatcher.removeEventListener(h.type,h.listener),this.listeners.splice(g,1))}null!=d&&this.attachListener(a,c,d,e)},detachListener:function(a,c,d){for(var e=0,k=this.listeners.length;e<k;){var f=e++,g=this.listeners[f];if(g.dispatcher==a&&g.type==c&&w.compareMethods(g.listener,d)){g.dispatcher.removeEventListener(g.type,g.listener);this.listeners.splice(f,1);break}}},attachListener:function(b,c,d,e){if(null!=b){e=0;for(var k=this.listeners.length;e<
k;){var f=e++,f=this.listeners[f];if(f.dispatcher==b&&f.type==c&&w.compareMethods(f.listener,d))return}this.listeners.push(new a.event.ListenerRecord(b,c,d));b.addEventListener(c,d)}else l.Log.trace("ERROR: Attempted to add a listener to a null EventDispatcher.",{fileName:"ListenerManager.hx",lineNumber:36,className:"nfuzion.event.ListenerManager",methodName:"attachListener"})},listeners:null,__class__:a.event.ListenerManager};a.event.ListenerManagerAndEventDispatcher=function(){a.event.ListenerManager.call(this);
this.eventDispatcher=new a.event.EventDispatcher};f["nfuzion.event.ListenerManagerAndEventDispatcher"]=a.event.ListenerManagerAndEventDispatcher;a.event.ListenerManagerAndEventDispatcher.__name__=["nfuzion","event","ListenerManagerAndEventDispatcher"];a.event.ListenerManagerAndEventDispatcher.__interfaces__=[a.event.IEventDispatcher];a.event.ListenerManagerAndEventDispatcher.__super__=a.event.ListenerManager;a.event.ListenerManagerAndEventDispatcher.prototype=g(a.event.ListenerManager.prototype,{dispatchEvent:function(a){this.eventDispatcher.dispatchEvent(a)},
hasEventListener:function(a){return this.eventDispatcher.hasEventListener(a)},removeEventListener:function(a,c,d){null==d&&(d=0);this.eventDispatcher.removeEventListener(a,c,d)},addEventListener:function(a,c,d){null==d&&(d=0);this.eventDispatcher.addEventListener(a,c,d)},eventDispatcher:null,__class__:a.event.ListenerManagerAndEventDispatcher});a.event.ListenerRecord=function(a,c,d){this.dispatcher=a;this.type=c;this.listener=d};f["nfuzion.event.ListenerRecord"]=a.event.ListenerRecord;a.event.ListenerRecord.__name__=
["nfuzion","event","ListenerRecord"];a.event.ListenerRecord.prototype={listener:null,type:null,dispatcher:null,__class__:a.event.ListenerRecord};a.font={};a.font.BaseFont=function(b,c,d,e){null==c&&(c=10);a.event.EventDispatcher.call(this);null==d&&(d=a.font.type.FontStyle.normal);null==e&&(e=a.font.type.FontWeight.normal);this.set_face(b);this.set_size(c);this.set_style(d);this.set_weight(e)};f["nfuzion.font.BaseFont"]=a.font.BaseFont;a.font.BaseFont.__name__=["nfuzion","font","BaseFont"];a.font.BaseFont.__super__=
a.event.EventDispatcher;a.font.BaseFont.prototype=g(a.event.EventDispatcher.prototype,{weightChanged:function(){},set_weight:function(b){null==b&&(b=a.font.type.FontWeight.normal);this.weight!=b&&(this.weight=b,this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",this)),this.weightChanged());return this.weight},weight:null,styleChanged:function(){},set_style:function(b){null==b&&(b=a.font.type.FontStyle.normal);this.style!=b&&(this.style=b,this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",
this)),this.styleChanged());return this.style},style:null,sizeChanged:function(){},set_size:function(b){0<b&&this.size!=b&&(this.size=b,this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",this)),this.sizeChanged());return this.size},size:null,faceChanged:function(){},set_face:function(b){this.face!=b&&(this.dispatchEvent(new a.font.event.FontEvent("PaintEvent.change",this)),this.face=b,this.faceChanged());return this.face},face:null,__class__:a.font.BaseFont,__properties__:{set_face:"set_face",
set_size:"set_size",set_style:"set_style",set_weight:"set_weight"}});a.font.IFontFace=function(){};f["nfuzion.font.IFontFace"]=a.font.IFontFace;a.font.IFontFace.__name__=["nfuzion","font","IFontFace"];a.font.IFontFace.__interfaces__=[a.event.IEventDispatcher];a.font.IFontFace.prototype={implementation:null,ready:null,path:null,name:null,__class__:a.font.IFontFace};a.font.BaseFontFace=function(b){a.event.EventDispatcher.call(this);if(u.endsWith(b,".ttf")){this.path=b;var c=b.lastIndexOf("/")+1;0>c&&
(c=0);this.name=r.substr(b,c,b.length-(c+4))}else l.Log.trace("ERROR: Invalid font filename: "+b,{fileName:"BaseFontFace.hx",lineNumber:23,className:"nfuzion.font.BaseFontFace",methodName:"new"})};f["nfuzion.font.BaseFontFace"]=a.font.BaseFontFace;a.font.BaseFontFace.__name__=["nfuzion","font","BaseFontFace"];a.font.BaseFontFace.__interfaces__=[a.font.IFontFace];a.font.BaseFontFace.__super__=a.event.EventDispatcher;a.font.BaseFontFace.prototype=g(a.event.EventDispatcher.prototype,{implementation:null,
ready:null,path:null,name:null,__class__:a.font.BaseFontFace});a.font.Font=function(b,c,d,e){null==c&&(c=10);null==a.font.Font.styleElement&&(a.font.Font.styleElement=n.Browser.document.createElement("style"),n.Browser.document.head.appendChild(a.font.Font.styleElement));this.cssName="font_"+a.utility.BaseCode32.encodeString(m.string(a.font.Font.fontCount));a.font.Font.fontCount++;var k=a.font.Font.styleElement.sheet;k.insertRule("."+this.cssName+"{}",0);this.implementation=k.rules.item(0).style;
a.font.BaseFont.call(this,b,c,d,e)};f["nfuzion.font.Font"]=a.font.Font;a.font.Font.__name__=["nfuzion","font","Font"];a.font.Font.__super__=a.font.BaseFont;a.font.Font.prototype=g(a.font.BaseFont.prototype,{weightChanged:function(){this.implementation.fontWeight=m.string(this.weight)},styleChanged:function(){this.implementation.fontStyle=m.string(this.style)},sizeChanged:function(){this.implementation.fontSize=m.string(this.size)+"px"},faceChanged:function(){this.implementation.fontFamily=this.face.name},
cssName:null,implementation:null,__class__:a.font.Font});a.font.FontFace=function(b){a.font.BaseFontFace.call(this,b);this.implementation=n.Browser.document.createElement("style");n.Browser.document.head.appendChild(this.implementation);this.implementation.innerHTML="@font-face{font-family: "+this.name+";src: url('"+b+"');}";this.ready=!0};f["nfuzion.font.FontFace"]=a.font.FontFace;a.font.FontFace.__name__=["nfuzion","font","FontFace"];a.font.FontFace.__super__=a.font.BaseFontFace;a.font.FontFace.prototype=
g(a.font.BaseFontFace.prototype,{__class__:a.font.FontFace});a.font.FontManager=function(){this.fonts=new l.ds.StringMap;this.fontFaces=new l.ds.StringMap};f["nfuzion.font.FontManager"]=a.font.FontManager;a.font.FontManager.__name__=["nfuzion","font","FontManager"];a.font.FontManager.prototype={get:function(b){var c=this.fonts.get(b);null==c&&(c=new a.font.Font,this.fonts.set(b,c));return c},set:function(b,c,d,e,k){var f=null;this.fontFaces.exists(c)?f=this.fontFaces.get(c):(f=new a.font.FontFace(c),
this.fontFaces.set(c,f));c=null;this.fonts.exists(b)?(c=this.fonts.get(b),c.set_face(f),c.set_size(d),c.set_style(e),c.set_weight(k)):(c=new a.font.Font(f,d,e,k),this.fonts.set(b,c))},fontFaces:null,fonts:null,__class__:a.font.FontManager};a.font.event={};a.font.event.FontEvent=function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.font.event.FontEvent"]=a.font.event.FontEvent;a.font.event.FontEvent.__name__=["nfuzion","font","event","FontEvent"];a.font.event.FontEvent.__super__=a.event.Event;
a.font.event.FontEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.font.event.FontEvent});a.font.event.FontFaceEvent=function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.font.event.FontFaceEvent"]=a.font.event.FontFaceEvent;a.font.event.FontFaceEvent.__name__=["nfuzion","font","event","FontFaceEvent"];a.font.event.FontFaceEvent.__super__=a.event.Event;a.font.event.FontFaceEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.font.event.FontFaceEvent});a.font.type=
{};a.font.type.FontStyle=f["nfuzion.font.type.FontStyle"]={__ename__:["nfuzion","font","type","FontStyle"],__constructs__:["normal","italic"]};a.font.type.FontStyle.normal=["normal",0];a.font.type.FontStyle.normal.toString=q;a.font.type.FontStyle.normal.__enum__=a.font.type.FontStyle;a.font.type.FontStyle.italic=["italic",1];a.font.type.FontStyle.italic.toString=q;a.font.type.FontStyle.italic.__enum__=a.font.type.FontStyle;a.font.type.FontWeight=f["nfuzion.font.type.FontWeight"]={__ename__:["nfuzion",
"font","type","FontWeight"],__constructs__:["normal","bold","bolder","lighter","light"]};a.font.type.FontWeight.normal=["normal",0];a.font.type.FontWeight.normal.toString=q;a.font.type.FontWeight.normal.__enum__=a.font.type.FontWeight;a.font.type.FontWeight.bold=["bold",1];a.font.type.FontWeight.bold.toString=q;a.font.type.FontWeight.bold.__enum__=a.font.type.FontWeight;a.font.type.FontWeight.bolder=["bolder",2];a.font.type.FontWeight.bolder.toString=q;a.font.type.FontWeight.bolder.__enum__=a.font.type.FontWeight;
a.font.type.FontWeight.lighter=["lighter",3];a.font.type.FontWeight.lighter.toString=q;a.font.type.FontWeight.lighter.__enum__=a.font.type.FontWeight;a.font.type.FontWeight.light=["light",4];a.font.type.FontWeight.light.toString=q;a.font.type.FontWeight.light.__enum__=a.font.type.FontWeight;a.geometry={};a.geometry.IBox=function(){};f["nfuzion.geometry.IBox"]=a.geometry.IBox;a.geometry.IBox.__name__=["nfuzion","geometry","IBox"];a.geometry.IBox.__interfaces__=[a.event.IEventDispatcher];a.geometry.IBox.prototype=
{cloneBox:null,copyFromBox:null,setSize:null,setPosition:null,setSquare:null,setBox:null,__class__:a.geometry.IBox};a.geometry.Box=function(b,c,d,e){a.event.EventDispatcher.call(this);this._x=b;this._y=c;this._width=d;this._height=e;this.xChanged();this.yChanged();this.widthChanged();this.heightChanged();this.positionChanged();this.sizeChanged();this.boxChanged()};f["nfuzion.geometry.Box"]=a.geometry.Box;a.geometry.Box.__name__=["nfuzion","geometry","Box"];a.geometry.Box.__interfaces__=[a.geometry.IBox];
a.geometry.Box.createBox=function(b,c,d,e){return new a.geometry.Box(b,c,c-b+1,e-d+1)};a.geometry.Box.__super__=a.event.EventDispatcher;a.geometry.Box.prototype=g(a.event.EventDispatcher.prototype,{cloneBox:function(){return new a.geometry.Box(this._x,this._y,this._width,this._height)},boxChanged:function(){this.dispatchEvent(new a.geometry.event.BoxEvent("change"))},sizeChanged:function(){this.dispatchEvent(new a.geometry.event.BoxEvent("changeSize"))},positionChanged:function(){this.dispatchEvent(new a.geometry.event.BoxEvent("changePosition"))},
heightChanged:function(){},widthChanged:function(){},yChanged:function(){},xChanged:function(){},cropWithBox:function(a){var c=this._x,d=this.get_right(),e=this._y,k=this.get_bottom();c<a._x&&(c=a._x);d>a.get_right()&&(d=a.get_right());e<a._y&&(e=a._y);k>a.get_bottom()&&(k=a.get_bottom());this.setBox(c,d,e,k)},unionWithBox:function(a){var c=this._x,d=this.get_right(),e=this._y,k=this.get_bottom();a._x<c&&(c=a._x);a.get_right()>d&&(d=a.get_right());a._y<e&&(e=a._y);a.get_bottom()>k&&(k=a.get_bottom());
this.setBox(c,d,e,k)},copyFromBox:function(a){this.setSquare(a._x,a._y,a._width,a._height)},set_height:function(a){this._height!=a&&(this._height=a,this.heightChanged(),this.boxChanged(),this.sizeChanged());return this._height},get_height:function(){return this._height},set_width:function(a){this._width!=a&&(this._width=a,this.widthChanged(),this.boxChanged(),this.sizeChanged());return this._width},get_width:function(){return this._width},set_y:function(a){this._y!=a&&(this._y=a,this.yChanged(),this.positionChanged(),
this.boxChanged());return this._y},get_y:function(){return this._y},set_x:function(a){this._x!=a&&(this._x=a,this.xChanged(),this.positionChanged(),this.boxChanged());return this._x},get_x:function(){return this._x},set_bottom:function(a){a!=this._y+this._height-1&&(this._height=a-this._y+1,this.heightChanged(),this.sizeChanged(),this.boxChanged());return a},get_bottom:function(){return this._y+this._height-1},set_top:function(a){this._y!=a&&(a=this._y-a,this._y-=a,this._height+=a,this.yChanged(),
this.heightChanged(),this.positionChanged(),this.sizeChanged(),this.boxChanged());return this._y},get_top:function(){return this._y},set_right:function(a){a!=this._x+this._width-1&&(this._width=a-this._x+1,this.widthChanged(),this.sizeChanged(),this.boxChanged());return a},get_right:function(){return this._x+this._width-1},set_left:function(a){this._x!=a&&(a=this._x-a,this._x-=a,this._width+=a,this.xChanged(),this.widthChanged(),this.positionChanged(),this.sizeChanged(),this.boxChanged());return this._x},
get_left:function(){return this._x},setSize:function(a,c){var d=this._width,e=this._height;this._width=a;this._height=c;var k=!1;d!=this._width&&(this.widthChanged(),k=!0);e!=this._height&&(this.heightChanged(),k=!0);k&&(this.sizeChanged(),this.boxChanged())},setPosition:function(a,c){var d=this._x,e=this._y;this._x=a;this._y=c;var k=!1;d!=this._x&&(this.xChanged(),k=!0);e!=this._y&&(this.yChanged(),k=!0);k&&(this.positionChanged(),this.boxChanged())},setSquare:function(a,c,d,e){var k=this._width,
f=this._height,g=this._x,h=this._y;this._x=a;this._y=c;this._width=d;this._height=e;d=c=a=!1;g!=this._x&&(this.xChanged(),d=a=!0);h!=this._y&&(this.yChanged(),d=a=!0);k!=this._width&&(this.widthChanged(),d=c=!0);f!=this._height&&(this.heightChanged(),d=c=!0);a&&this.positionChanged();c&&this.sizeChanged();d&&this.boxChanged()},setBox:function(a,c,d,e){var k=this._width,f=this._height,g=this._x,h=this._y;this._x=a;this._y=d;this._width=c-a+1;this._height=e-d+1;d=c=a=!1;g!=this._x&&(this.xChanged(),
d=a=!0);h!=this._y&&(this.yChanged(),d=a=!0);k!=this._width&&(this.widthChanged(),d=c=!0);f!=this._height&&(this.heightChanged(),d=c=!0);a&&this.positionChanged();c&&this.sizeChanged();d&&this.boxChanged()},_height:null,_width:null,_y:null,_x:null,changed:null,__class__:a.geometry.Box,__properties__:{set_left:"set_left",get_left:"get_left",set_right:"set_right",get_right:"get_right",set_top:"set_top",get_top:"get_top",set_bottom:"set_bottom",get_bottom:"get_bottom",set_x:"set_x",get_x:"get_x",set_y:"set_y",
get_y:"get_y",set_width:"set_width",get_width:"get_width",set_height:"set_height",get_height:"get_height"}});a.geometry.IRelativeBox=function(){};f["nfuzion.geometry.IRelativeBox"]=a.geometry.IRelativeBox;a.geometry.IRelativeBox.__name__=["nfuzion","geometry","IRelativeBox"];a.geometry.IRelativeBox.__interfaces__=[a.geometry.IBox];a.geometry.IRelativeBox.prototype={referenceBox:null,setRelativeBox:null,bottomIsRelative:null,topIsRelative:null,rightIsRelative:null,leftIsRelative:null,__class__:a.geometry.IRelativeBox};
a.geometry.Point=function(a,c){null==c&&(c=0);null==a&&(a=0);this.x=a;this.y=c};f["nfuzion.geometry.Point"]=a.geometry.Point;a.geometry.Point.__name__=["nfuzion","geometry","Point"];a.geometry.Point.prototype={toString:function(){return"("+m.string(this.x)+", "+m.string(this.y)+")"},divide:function(b){return new a.geometry.Point(this.x/b.x,this.y/b.y)},multiply:function(b){return new a.geometry.Point(this.x*b.x,this.y*b.y)},subtract:function(b){return new a.geometry.Point(this.x-b.x,this.y-b.y)},
add:function(b){return new a.geometry.Point(this.x+b.x,this.y+b.y)},equals:function(a){return this.x==a.x&&this.y==a.y?!0:!1},clone:function(){return new a.geometry.Point(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},length:null,y:null,x:null,__class__:a.geometry.Point,__properties__:{get_length:"get_length"}};a.geometry.RelativeBox=function(b,c,d,e){this.listeningToParent=this.bottomIsRelative=this.topIsRelative=this.rightIsRelative=
this.leftIsRelative=!1;a.geometry.Box.call(this,b,c,d,e)};f["nfuzion.geometry.RelativeBox"]=a.geometry.RelativeBox;a.geometry.RelativeBox.__name__=["nfuzion","geometry","RelativeBox"];a.geometry.RelativeBox.__interfaces__=[a.geometry.IRelativeBox];a.geometry.RelativeBox.__super__=a.geometry.Box;a.geometry.RelativeBox.prototype=g(a.geometry.Box.prototype,{onReferenceSizeChange:function(a){if(null!=this.referenceBox){a=this._x;var c=this.get_right(),d=this._y,e=this.get_bottom();this.leftIsRelative&&
(a=this.get_relativeLeft()*this.referenceBox.get_width());this.rightIsRelative&&(c=this.get_relativeRight()*this.referenceBox.get_width());this.topIsRelative&&(d=this.get_relativeTop()*this.referenceBox.get_height());this.bottomIsRelative&&(e=this.get_relativeBottom()*this.referenceBox.get_height());this.pauseRelativeBox=!0;this.setBox(a,c,d,e);this.pauseRelativeBox=!1}},updateRelativeBox:function(){(this.leftIsRelative||this.rightIsRelative||this.topIsRelative||this.bottomIsRelative)&&!this.listeningToParent&&
null!=this.referenceBox&&(this.listeningToParent=!0,this.referenceBox.addEventListener("changeSize",h(this,this.onReferenceSizeChange)),this.onReferenceSizeChange())},set_referenceBox:function(a){a!=this.referenceBox&&(null!=this.referenceBox&&(this.referenceBox.removeEventListener("changeSize",h(this,this.onReferenceSizeChange)),this.listeningToParent=!1),this.referenceBox=a,this.updateRelativeBox());return this.referenceBox},referenceBox:null,setRelativeBox:function(a,c,d,e){this.bottomIsRelative=
this.topIsRelative=this.rightIsRelative=this.leftIsRelative=!0;this.set_relativeLeft(a);this.set_relativeRight(c);this.set_relativeTop(d);this.set_relativeBottom(e);this.updateRelativeBox()},set_relativeY:function(a){this.set_relativeTop(a);return this.get_relativeTop()},get_relativeY:function(){return this.get_relativeTop()},set_relativeX:function(a){this.set_relativeLeft(a);return this.get_relativeLeft()},get_relativeX:function(){return this.get_relativeLeft()},set_relativeBottom:function(a){var c=
this.pauseRelativeBox;this.pauseRelativeBox=!0;null!=this.referenceBox&&this.set_bottom(this.referenceBox.get_height()*a);this.relativeBottom=a;this.pauseRelativeBox=c;this.bottomIsRelative=!0;this.updateRelativeBox();return this.get_relativeBottom()},get_relativeBottom:function(){return this.bottomIsRelative?this.relativeBottom:0==this.referenceBox.get_height()?0:this.get_bottom()/this.referenceBox.get_height()},relativeBottom:null,set_relativeTop:function(a){var c=this.pauseRelativeBox;this.pauseRelativeBox=
!0;null!=this.referenceBox&&this.set_top(this.referenceBox.get_height()*a);this.relativeTop=a;this.pauseRelativeBox=c;this.topIsRelative=!0;this.updateRelativeBox();return this.get_relativeTop()},get_relativeTop:function(){return this.topIsRelative?this.relativeTop:0==this.referenceBox.get_height()?0:this._y/this.referenceBox.get_height()},relativeTop:null,set_relativeRight:function(a){var c=this.pauseRelativeBox;this.pauseRelativeBox=!0;null!=this.referenceBox&&this.set_right(this.referenceBox.get_width()*
a);this.relativeRight=a;this.pauseRelativeBox=c;this.rightIsRelative=!0;this.updateRelativeBox();return this.get_relativeRight()},get_relativeRight:function(){return this.rightIsRelative?this.relativeRight:0==this.referenceBox.get_width()?0:this.get_right()/this.referenceBox.get_width()},relativeRight:null,set_relativeLeft:function(a){var c=this.pauseRelativeBox;this.pauseRelativeBox=!0;null!=this.referenceBox&&this.set_left(this.referenceBox.get_width()*a);this.relativeLeft=a;this.pauseRelativeBox=
c;this.leftIsRelative=!0;this.updateRelativeBox();return this.get_relativeLeft()},get_relativeLeft:function(){return this.leftIsRelative?this.relativeLeft:0==this.referenceBox.get_width()?0:this._x/this.referenceBox.get_width()},relativeLeft:null,setBox:function(b,c,d,e){this.pauseRelativeBox||(this.bottomIsRelative=this.topIsRelative=this.rightIsRelative=this.leftIsRelative=!1);a.geometry.Box.prototype.setBox.call(this,b,c,d,e)},set_bottom:function(b){this.pauseRelativeBox||(this.bottomIsRelative=
!1);return a.geometry.Box.prototype.set_bottom.call(this,b)},set_top:function(b){this.pauseRelativeBox||(this.topIsRelative=!1);return a.geometry.Box.prototype.set_top.call(this,b)},set_right:function(b){this.pauseRelativeBox||(this.rightIsRelative=!1);return a.geometry.Box.prototype.set_right.call(this,b)},set_left:function(b){this.pauseRelativeBox||(this.leftIsRelative=!1);return a.geometry.Box.prototype.set_left.call(this,b)},pauseRelativeBox:null,listeningToParent:null,bottomIsRelative:null,topIsRelative:null,
rightIsRelative:null,leftIsRelative:null,__class__:a.geometry.RelativeBox,__properties__:g(a.geometry.Box.prototype.__properties__,{set_relativeLeft:"set_relativeLeft",get_relativeLeft:"get_relativeLeft",set_relativeRight:"set_relativeRight",get_relativeRight:"get_relativeRight",set_relativeTop:"set_relativeTop",get_relativeTop:"get_relativeTop",set_relativeBottom:"set_relativeBottom",get_relativeBottom:"get_relativeBottom",set_relativeX:"set_relativeX",get_relativeX:"get_relativeX",set_relativeY:"set_relativeY",
get_relativeY:"get_relativeY",set_referenceBox:"set_referenceBox"})});a.geometry.event={};a.geometry.event.BoxEvent=function(b){a.event.Event.call(this,b)};f["nfuzion.geometry.event.BoxEvent"]=a.geometry.event.BoxEvent;a.geometry.event.BoxEvent.__name__=["nfuzion","geometry","event","BoxEvent"];a.geometry.event.BoxEvent.__super__=a.event.Event;a.geometry.event.BoxEvent.prototype=g(a.event.Event.prototype,{__class__:a.geometry.event.BoxEvent});a.relation={};a.relation.IChild=function(){};f["nfuzion.relation.IChild"]=
a.relation.IChild;a.relation.IChild.__name__=["nfuzion","relation","IChild"];a.relation.IChild.prototype={implementation:null,orphan:null,adopt:null,parent:null,__class__:a.relation.IChild};a.graphics={};a.graphics.IComponent=function(){};f["nfuzion.graphics.IComponent"]=a.graphics.IComponent;a.graphics.IComponent.__name__=["nfuzion","graphics","IComponent"];a.graphics.IComponent.__interfaces__=[a.relation.IChild,a.geometry.IBox];a.graphics.IComponent.prototype={canvas:null,layout:null,finalYScale:null,
finalXScale:null,yScale:null,xScale:null,guise:null,guises:null,defaultFrame:null,gotoDefault:null,"goto":null,currentFrame:null,frames:null,maskBox:null,maskFit:null,maskUrl:null,borderWidth:null,borderPaint:null,backgroundPaint:null,backgroundBox:null,backgroundFit:null,backgroundUrl:null,destroy:null,bubbleEvent:null,copy:null,clone:null,touchEnabled:null,screen:null,globalPosition:null,globalToLocal:null,localToGlobal:null,visible:null,alpha:null,removedFromStage:null,addedToStage:null,stage:null,
initialized:null,name:null,__class__:a.graphics.IComponent};a.graphics.BaseComponent=function(b,c){null==b&&(b="");this.canvas=null;this.xScale=this.yScale=1;this.defaultFrame=this.guise=null;this.alpha=1;this.desroyed=this.initialized=this.canvasCreated=!1;this.name=b;this.currentSketch=this.sketch=c;this.set_frames(new l.ds.StringMap);this.set_guises(new l.ds.StringMap);this.onStage=!1;this.create();if(null==this.implementation)throw"Failed to create implementation.";this.backgroundBox=new a.geometry.Box(0,
0,0,0);this.backgroundBox.addEventListener("change",h(this,this.backgroundBoxChanged));this.maskBox=new a.geometry.Box(0,0,0,0);this.maskBox.addEventListener("change",h(this,this.maskBoxChanged));a.geometry.Box.call(this,0,0,0,0);this.initialize()};f["nfuzion.graphics.BaseComponent"]=a.graphics.BaseComponent;a.graphics.BaseComponent.__name__=["nfuzion","graphics","BaseComponent"];a.graphics.BaseComponent.__interfaces__=[a.graphics.IComponent];a.graphics.BaseComponent.__super__=a.geometry.Box;a.graphics.BaseComponent.prototype=
g(a.geometry.Box.prototype,{createCanvas:function(){return null},get_canvas:function(){this.canvasCreated||(this.canvas=this.createCanvas());return this.canvas},canvas:null,get_finalYScale:function(){for(var a=this.parent,c=this.yScale;null!=a&&a!=this.get_stage();)c*=a.yScale,a=a.parent;return c},finalYScale:null,get_finalXScale:function(){for(var a=this.parent,c=this.xScale;null!=a&&a!=this.get_stage();)c*=a.xScale,a=a.parent;return c},finalXScale:null,set_layout:function(a){this.layout!=a&&(this.layout=
a,null!=this.layout&&this.layout.detach(),this.layout.attach(this)||l.Log.trace("Could not attach layout to component '"+this.get_fullName()+"'.",{fileName:"BaseComponent.hx",lineNumber:926,className:"nfuzion.graphics.BaseComponent",methodName:"set_layout"}));return this.layout},layout:null,yScaleChanged:function(){},set_yScale:function(a){this.yScale!=a&&(this.yScale=a,this.yScaleChanged());return this.yScale},yScale:null,xScaleChanged:function(){},set_xScale:function(a){this.xScale!=a&&(this.xScale=
a,this.xScaleChanged());return this.xScale},xScale:null,get_fullName:function(){return null!=this.parent?this.parent.get_fullName()+"."+this.name:this.name},fullName:null,updateGuise:function(){var b=this.sketch;null!=this.guise&&null!=this.guises&&this.guises.exists(this.guise)&&(b=this.guises.get(this.guise));b!=this.currentSketch&&null!=this.guises&&(this.currentSketch=b,a.nTactic.NTactic.builder.theme(this,this.currentSketch))},set_guise:function(a){a!=this.guise&&(this.guise=a,this.updateGuise());
return this.guise},guise:null,set_guises:function(a){this.guises!=a&&(this.guises=a,this.updateGuise());return this.guises},guises:null,set_frames:function(a){if(this.frames!=a){if(null!=a){if(null!=this.frames)for(var c=function(a){return function(){return a.iterator()}}(this.frames)();c.hasNext();){var d=c.next();this.removeImage(d.url)}this.frames=a;for(c=function(a){return function(){return a.iterator()}}(a)();c.hasNext();)d=c.next(),null==d.url&&l.Log.trace("frame null on '"+this.get_fullName()+
"'",{fileName:"BaseComponent.hx",lineNumber:769,className:"nfuzion.graphics.BaseComponent",methodName:"set_frames"}),this.addImage(d.url)}else this.frames=null;if(null!=this.currentFrame&&null!=a)this["goto"](this.currentFrame)}return this.frames},frames:null,maskFitChanged:function(){},set_maskFit:function(b){null==b&&(b=a.graphics.type.Fit.none);this.maskFit!=b&&(this.maskFit=b,this.maskFitChanged());return this.maskFit},maskFit:null,maskImageReady:function(a){null!=a&&a.target.removeEventListener("ImageEvent.ready",
h(this,this.maskImageReady))},maskUrlChanged:function(){},set_maskUrl:function(a){if(null==this.maskImage||a!=this.maskUrl)this.maskUrl=a,null!=this.maskImage&&this.removeImage(this.maskImage.url),null!=a&&(this.maskImage=this.addImage(a),this.maskUrlChanged(),null!=this.maskImage&&(this.maskImage.ready?this.maskImageReady():this.maskImage.addEventListener("ImageEvent.ready",h(this,this.maskImageReady))));return this.maskUrl},maskUrl:null,maskBoxChanged:function(a){},borderWidthChanged:function(){},
set_borderWidth:function(a){0>a&&(a=0);a!=this.borderWidth&&(this.borderWidth=a,this.borderWidthChanged());return this.borderWidth},borderWidth:null,borderPaintChanged:function(){},set_borderPaint:function(a){this.borderPaint!=a&&(this.disusePaint(this.borderPaint),this.borderPaint=a,this.usePaint(this.borderPaint),this.borderPaintChanged());return this.borderPaint},borderPaint:null,backgroundPaintChanged:function(){},set_backgroundPaint:function(a){this.backgroundPaint!=a&&(this.backgroundPaintChanged(),
this.disusePaint(this.backgroundPaint),this.backgroundPaint=a,this.usePaint(this.backgroundPaint),this.backgroundPaintChanged());return this.backgroundPaint},backgroundPaint:null,backgroundFitChanged:function(){},set_backgroundFit:function(b){null==b&&(b=a.graphics.type.Fit.none);this.backgroundFit!=b&&(this.backgroundFit=b,this.backgroundFitChanged());return this.backgroundFit},backgroundFit:null,backgroundImageReady:function(a){null!=a&&a.target.removeEventListener("ImageEvent.ready",h(this,this.backgroundImageReady))},
backgroundUrlChanged:function(){},set_backgroundUrl:function(a){this.currentFrame=null;if(null==this.backgroundImage||a!=this.backgroundUrl)this.backgroundUrl=a,this.backgroundUrlChanged(),null!=this.backgroundImage&&this.removeImage(this.backgroundImage.url),null!=a&&(this.backgroundImage=this.addImage(a),null!=this.backgroundImage&&(this.backgroundImage.ready?this.backgroundImageReady():this.backgroundImage.addEventListener("ImageEvent.ready",h(this,this.backgroundImageReady))));return this.backgroundUrl},
backgroundUrl:null,backgroundBoxChanged:function(a){},destroy:function(){this.desroyed=!0;this.canvasCreated&&this.get_canvas().destroy();this.backgroundBox.removeEventListener("change",h(this,this.backgroundBoxChanged));this.maskBox.removeEventListener("change",h(this,this.maskBoxChanged));null!=this.backgroundImage&&this.backgroundImage.removeEventListener("ImageEvent.ready",h(this,this.backgroundImageReady));null!=this.maskImage&&this.maskImage.removeEventListener("ImageEvent.ready",h(this,this.maskImageReady));
null!=this.parent&&(this.parent.removeChild(this),this.parent=null);this.eventTypes=null;this.set_screen(null);this.implementation=this.maskBox=null;this.set_frames(null);this.set_guises(null)},onPaintChange:function(a){a=a.target;a==this.backgroundPaint&&this.set_backgroundPaint(this.backgroundPaint);a==this.borderPaint&&this.set_borderPaint(this.borderPaint)},disusePaint:function(a){null!=a&&a.removeEventListener("PaintEvent.change",h(this,this.onPaintChange))},usePaint:function(a){null!=a&&a.addEventListener("PaintEvent.change",
h(this,this.onPaintChange))},disusePaints:function(){this.disusePaint(this.borderPaint);this.disusePaint(this.backgroundPaint)},usePaints:function(){this.usePaint(this.borderPaint);this.usePaint(this.backgroundPaint)},bubbleEvent:function(a){var c=this;do c.touchEnabled&&c.dispatchEvent(a),c=c.parent;while(a.bubbles&&!a.stop&&!a.stopNow&&null!=c)},copy:function(a){this.copyFromBox(a);this.sketch=a.sketch;this.set_guises(a.guises);this.set_guise(a.guise);this.set_alpha(a.alpha);this.set_visible(a.visible);
this.set_imposeTouchDisabled(a.imposeTouchDisabled);this.set_borderPaint(a.borderPaint);this.set_borderWidth(a.borderWidth);this.maskBox.copyFromBox(a.maskBox);this.set_maskFit(a.maskFit);this.set_maskUrl(a.maskUrl);this.set_frames(a.frames);this.set_defaultFrame(a.defaultFrame);this.set_backgroundPaint(a.backgroundPaint);if(null==a.currentFrame)this.backgroundBox.copyFromBox(a.backgroundBox),this.set_backgroundUrl(a.backgroundUrl),this.set_backgroundFit(a.backgroundFit);else this["goto"](a.currentFrame)},
clone:function(){l.Log.trace("ERROR: Cannot clone BaseComponent.",{fileName:"BaseComponent.hx",lineNumber:405,className:"nfuzion.graphics.BaseComponent",methodName:"clone"});return null},imposeTouchDisabledChanged:function(){},set_imposeTouchDisabled:function(a){a!=this.imposeTouchDisabled&&(this.imposeTouchDisabled=a,this.imposeTouchDisabledChanged());return this.imposeTouchDisabled},imposeTouchDisabled:null,touchEnabledChanged:function(){},set_touchEnabled:function(a){a!=this.touchEnabled&&(this.touchEnabled=
a,this.touchEnabledChanged());return this.touchEnabled},touchEnabled:null,set_defaultFrame:function(a){null==a||this.frames.exists(a)||(l.Log.trace("WARNING: Attempted to set a default frame that doesn't exist",{fileName:"BaseComponent.hx",lineNumber:353,className:"nfuzion.graphics.BaseComponent",methodName:"set_defaultFrame"}),a=null);return this.defaultFrame=a},defaultFrame:null,gotoDefault:function(){this["goto"](this.defaultFrame)},"goto":function(a){var c=!1,d=null;if(null==a)this.set_backgroundUrl(null),
c=!0;else{var e=this.frames.get(a);null!=e?(d=a,this.set_backgroundUrl(e.url),this.backgroundBox.copyFromBox(e),this.set_backgroundFit(e.fit),c=!0):this.set_backgroundUrl(null)}this.currentFrame=d;return c},removedFromScreen:function(){null!=this.backgroundUrl&&this.removeImage(this.backgroundUrl)},addedToScreen:function(){if(null!=this.backgroundUrl){var a=this.currentFrame;this.set_backgroundUrl(this.backgroundUrl);this.currentFrame=a}null!=this.maskUrl&&this.set_maskUrl(this.maskUrl)},set_screen:function(a){a!=
this.screen&&(null!=this.screen&&this.removedFromScreen(),this.screen=a,null!=this.screen&&this.addedToScreen());return this.screen},screen:null,getImage:function(a){return null!=this.screen?this.screen.getImage(a):null},removeImage:function(a){null!=this.screen&&this.screen.removeImage(a)},addImage:function(a){return null!=this.screen&&null!=a?this.screen.addImage(a):null},get_globalPosition:function(){var b=new a.geometry.Point;if(this!=this.get_stage()){var c=this;do b.x+=c._x,b.y+=c._y,c=c.parent;
while(c!=this.get_stage()&&null!=c)}return b},globalPosition:null,globalToLocal:function(b){return b.clone().divide(new a.geometry.Point(this.get_finalXScale(),this.get_finalYScale())).subtract(this.get_globalPosition())},localToGlobal:function(b){return this.get_globalPosition().add(b).multiply(new a.geometry.Point(this.get_finalXScale(),this.get_finalYScale()))},visibleChanged:function(){},set_visible:function(a){a!=this.visible&&(this.visible=a,this.visibleChanged());return a},visible:null,alphaChanged:function(){},
set_alpha:function(a){0>a&&(a=0);1<a&&(a=1);this.alpha=a;this.alphaChanged();return a},alpha:null,create:function(){},initialize:function(){this.set_visible(!0);this.set_backgroundFit(a.graphics.type.Fit.none);this.set_borderPaint(null);this.set_borderWidth(0);this.set_maskFit(a.graphics.type.Fit.none);this.set_touchEnabled(!1);this.set_imposeTouchDisabled(!1);this.set_maskFit(a.graphics.type.Fit.none);this.initialized=!0},removedFromStage:function(){null==this.get_stage()&&this.onStage&&(this.onStage=
!1,this.dispatchEvent(new a.graphics.event.ComponentEvent("removedFromStage",this)),this.disusePaints())},addedToStage:function(){null==this.get_stage()||this.onStage||(this.onStage=!0,this.dispatchEvent(new a.graphics.event.ComponentEvent("addedToStage",this)));this.usePaints()},get_stage:function(){return null!=this.parent?this.parent.get_stage():null},stage:null,orphan:function(){this.dispatchEvent(new a.graphics.event.ComponentEvent("orphaning",this));this.parent=null;this.removedFromStage();
this.set_screen(null)},adopt:function(b){if(null!=this.parent){var c=this.parent;this.orphan();c.removeChild(this)}this.parent=b;this.set_screen(b.screen);this.addedToStage();this.dispatchEvent(new a.graphics.event.ComponentEvent("adopted",this))},canvasCreated:null,desroyed:null,maskImage:null,backgroundImage:null,onStage:null,currentSketch:null,sketch:null,maskBox:null,backgroundBox:null,initialized:null,parent:null,name:null,currentFrame:null,implementation:null,__class__:a.graphics.BaseComponent,
__properties__:g(a.geometry.Box.prototype.__properties__,{get_stage:"get_stage",set_alpha:"set_alpha",set_visible:"set_visible",get_globalPosition:"get_globalPosition",set_screen:"set_screen",set_defaultFrame:"set_defaultFrame",set_touchEnabled:"set_touchEnabled",set_imposeTouchDisabled:"set_imposeTouchDisabled",set_backgroundUrl:"set_backgroundUrl",set_backgroundFit:"set_backgroundFit",set_backgroundPaint:"set_backgroundPaint",set_borderPaint:"set_borderPaint",set_borderWidth:"set_borderWidth",set_maskUrl:"set_maskUrl",
set_maskFit:"set_maskFit",set_frames:"set_frames",set_guises:"set_guises",set_guise:"set_guise",get_fullName:"get_fullName",set_xScale:"set_xScale",set_yScale:"set_yScale",set_layout:"set_layout",get_finalXScale:"get_finalXScale",get_finalYScale:"get_finalYScale",get_canvas:"get_canvas"})});a.graphics.Component=function(b,c){null==b&&(b="");this.vFlipped=this.hFlipped=!1;this.borderDiv=this.backgroundDiv=null;a.graphics.BaseComponent.call(this,b,c)};f["nfuzion.graphics.Component"]=a.graphics.Component;
a.graphics.Component.__name__=["nfuzion","graphics","Component"];a.graphics.Component.__super__=a.graphics.BaseComponent;a.graphics.Component.prototype=g(a.graphics.BaseComponent.prototype,{yScaleChanged:function(){this.yChanged()},xScaleChanged:function(){this.xChanged()},updateMask:function(a){if(this.initialized&&null!=this.maskImage&&this.maskImage.ready)switch(this.maskFit[1]){case 0:this.implementation.style.webkitMaskBoxImage=null;this.implementation.style.webkitMaskImage="url("+this.maskUrl+
")";this.implementation.style.webkitMaskPosition=m.string(-1*this.maskBox._x)+"px -"+m.string(this.maskBox._y)+"px";break;case 2:throw"Not implemented.";case 1:throw"Not implemented.";case 3:this.implementation.style.webkitMaskBoxImage="url("+this.maskUrl+") stretch";break;case 4:throw"Not implemented.";case 6:throw"Not implemented.";case 5:throw"Not implemented.";case 7:throw"Not implemented.";case 8:throw"Not implemented.";}},maskImageReady:function(b){a.graphics.BaseComponent.prototype.maskImageReady.call(this,
b);this.updateMask()},maskFitChanged:function(){this.updateMask()},maskBoxChanged:function(a){this.updateMask()},updateBackground:function(a){if(this.initialized&&null!=this.implementation&&null!=this.backgroundDiv&&(null==this.backgroundUrl||null!=this.backgroundImage&&this.backgroundImage.ready)&&null!=this.backgroundImage)switch(this.backgroundFit[1]){case 0:this.backgroundDiv.style.backgroundImage="url('"+this.backgroundUrl+"')";this.backgroundDiv.style.backgroundSize=null;this.backgroundDiv.style.backgroundPosition=
m.string(-1*this.backgroundBox._x)+"px -"+m.string(this.backgroundBox._y)+"px";this.backgroundDiv.style.webkitTransform=null;break;case 2:throw"Not implemented.";case 1:this.backgroundDiv.style.backgroundImage="url('"+this.backgroundUrl+"')";this.backgroundDiv.style.backgroundSize="cover";this.backgroundDiv.style.backgroundPosition="center";this.backgroundDiv.style.webkitTransform=null;break;case 3:throw"Not implemented.";case 4:throw"Not implemented.";case 6:throw"Not implemented.";case 5:throw"Not implemented.";
case 7:this.backgroundDiv.style.backgroundImage="url('"+this.backgroundUrl+"')";this.backgroundDiv.style.backgroundSize=null;this.backgroundDiv.style.backgroundPosition=m.string(-1*this.backgroundBox._x)+"px -"+m.string(this.backgroundBox._y)+"px";a=Math.abs(this._width)/this.backgroundBox._width;var c=Math.abs(this._height)/this.backgroundBox._height;this.backgroundDiv.style.width=m.string(Math.round(this._width/a))+"px";this.backgroundDiv.style.height=m.string(Math.round(this._height/c))+"px";this.backgroundDiv.style.webkitTransform=
"scale("+m.string(a)+", "+m.string(c)+")";this.backgroundDiv.style.webkitTransformOrigin="0% 0%";break;case 8:throw"Not implemented.";}},updateBorder:function(){null!=this.borderDiv&&(this.borderDiv.style.width=m.string(Math.round(Math.abs(this._width)-2*this.borderWidth))+"px",this.borderDiv.style.height=m.string(Math.round(Math.abs(this._height)-2*this.borderWidth))+"px",this.borderDiv.style.border=null!=this.borderPaint&&0<this.borderWidth?this.borderWidth+"px solid #"+a.utility.ColorTools.toString(this.borderPaint.color):
null)},borderWidthChanged:function(){0<this.borderWidth&&null==this.borderDiv&&(this.borderDiv=n.Browser.document.createElement("div"),this.borderDiv.style.left="0px",this.borderDiv.style.top="0px",null!=this.implementation.firstChild?this.implementation.insertBefore(this.borderDiv,this.implementation.firstChild):this.implementation.appendChild(this.borderDiv));null!=this.borderPaint&&this.updateBorder()},borderPaintChanged:function(){0<this.borderWidth&&this.updateBorder()},backgroundPaintChanged:function(){this.implementation.style.backgroundColor=
null!=this.backgroundPaint?"#"+a.utility.ColorTools.toString(this.backgroundPaint.color):null},backgroundFitChanged:function(){this.updateBackground()},backgroundImageReady:function(b){a.graphics.BaseComponent.prototype.backgroundImageReady.call(this,b);this.updateBackground()},backgroundUrlChanged:function(){null==this.backgroundDiv&&null!=this.backgroundUrl&&(this.backgroundDiv=n.Browser.document.createElement("div"),this.backgroundDiv.style.left="0px",this.backgroundDiv.style.top="0px",this.backgroundDiv.style.width=
"100%",this.backgroundDiv.style.height="100%",null!=this.implementation.firstChild?this.implementation.insertBefore(this.backgroundDiv,this.implementation.firstChild):this.implementation.appendChild(this.backgroundDiv))},backgroundBoxChanged:function(a){this.updateBackground()},visibleChanged:function(){this.implementation.style.display=this.visible?"block":"none"},destroy:function(){a.graphics.BaseComponent.prototype.destroy.call(this);this.implementation=this.implementation.component=null},clone:function(){var b=
new a.graphics.Component(this.name);b.copy(this);return b},updateTouchEnabled:function(){null!=this.implementation&&(this.implementation.style.pointerEvents=this.touchEnabled&&!this.imposeTouchDisabled?"auto":null)},imposeTouchDisabledChanged:function(){this.updateTouchEnabled()},touchEnabledChanged:function(){this.updateTouchEnabled()},alphaChanged:function(){this.implementation.style.opacity=m.string(this.alpha)},updateTransform:function(){var a;a=""+("translate3d("+this.xTransform+"px,"+this.yTransform+
"px,0) ");1!=this.xScale&&(a+="scaleX("+this.xScale+") ");1!=this.yScale&&(a+="scaleY("+this.yScale+") ");0>this._width&&(a+="rotateY(180deg) ");0>this._height&&(a+="rotateX(180deg) ");this.implementation.style.webkitTransform=a},positionChanged:function(){this.updateTransform();a.graphics.BaseComponent.prototype.positionChanged.call(this)},heightChanged:function(){a.graphics.BaseComponent.prototype.heightChanged.call(this);0<=this._height?(this.vFlipped&&(this.vFlipped=!1,this.yChanged(),this.updateTransform()),
this.implementation.style.height=m.string(Math.round(this._height))+"px"):(this.yChanged(),this.vFlipped||(this.vFlipped=!0),this.updateTransform(),this.implementation.style.height=m.string(Math.round(-this._height))+"px");0<this.borderWidth&&null!=this.borderPaint&&this.updateBorder();null!=this.backgroundImage&&this.updateBackground()},yChanged:function(){a.graphics.BaseComponent.prototype.yChanged.call(this);this.yTransform=this.vFlipped?m.string(this._y+this._height+this._height*(1-this.yScale)/
2):m.string(this._y-this._height*(1-this.yScale)/2)},widthChanged:function(){a.graphics.BaseComponent.prototype.widthChanged.call(this);0<=this._width?(this.hFlipped&&(this.hFlipped=!1,this.xChanged(),this.updateTransform()),this.implementation.style.width=m.string(Math.round(this._width))+"px"):(this.xChanged(),this.hFlipped||(this.hFlipped=!0),this.updateTransform(),this.implementation.style.width=m.string(Math.round(-this._width))+"px");0<this.borderWidth&&null!=this.borderPaint&&this.updateBorder();
null!=this.backgroundImage&&this.updateBackground()},xChanged:function(){a.graphics.BaseComponent.prototype.xChanged.call(this);this.xTransform=this.hFlipped?m.string(this._x+this._width*this.xScale):m.string(this._x-this._width*(1-this.xScale)/2)},create:function(){this.implementation=n.Browser.document.createElement("div");this.updateTouchEnabled();this.implementation.component=this},removedFromStage:function(){a.graphics.BaseComponent.prototype.removedFromStage.call(this);null==this.get_stage()&&
this.onStage&&(this.implementation.removeEventListener("touchenter",h(this,this.onTouchEnter),!1),this.implementation.removeEventListener("touchleave",h(this,this.onTouchLeave),!1))},addedToStage:function(){a.graphics.BaseComponent.prototype.addedToStage.call(this);this.implementation.addEventListener("touchleave",h(this,this.onTouchLeave),!1);this.implementation.addEventListener("touchenter",h(this,this.onTouchEnter),!1)},onTouchLeave:function(b){b.stopPropagation();b.preventDefault();for(var c=
0,d=b.changedTouches.length;c<d;){var e=c++,e=b.changedTouches.item(e);this.dispatchEvent(new a.graphics.event.TouchEvent("out",this,e.identifier,new a.geometry.Point(e.clientX,e.clientY)))}return!1},onTouchEnter:function(b){b.stopPropagation();b.preventDefault();for(var c=0,d=b.changedTouches.length;c<d;){var e=c++,e=b.changedTouches.item(e);this.dispatchEvent(new a.graphics.event.TouchEvent("over",this,e.identifier,new a.geometry.Point(e.clientX,e.clientY)))}return!1},yTransform:null,xTransform:null,
vFlipped:null,hFlipped:null,backgroundDiv:null,borderDiv:null,__class__:a.graphics.Component});a.relation.IParent=function(){};f["nfuzion.relation.IParent"]=a.relation.IParent;a.relation.IParent.__name__=["nfuzion","relation","IParent"];a.relation.IParent.prototype={removeChildAt:null,removeChild:null,insertChildAfter:null,insertChild:null,appendChild:null,getChildIndex:null,getChildAt:null,getChild:null,childCount:null,__class__:a.relation.IParent};a.graphics.IContainer=function(){};f["nfuzion.graphics.IContainer"]=
a.graphics.IContainer;a.graphics.IContainer.__name__=["nfuzion","graphics","IContainer"];a.graphics.IContainer.__interfaces__=[a.relation.IParent,a.graphics.IComponent];a.graphics.IContainer.prototype={forceTouchChildrenDisabled:null,childCount:null,getChildIndex:null,getChild:null,getChildAt:null,removeChildAt:null,removeChild:null,insertChildAfter:null,insertChild:null,appendChild:null,children:null,__class__:a.graphics.IContainer};a.graphics.Container=function(b,c){a.graphics.Component.call(this,
b,c)};f["nfuzion.graphics.Container"]=a.graphics.Container;a.graphics.Container.__name__=["nfuzion","graphics","Container"];a.graphics.Container.__interfaces__=[a.graphics.IContainer];a.graphics.Container.__super__=a.graphics.Component;a.graphics.Container.prototype=g(a.graphics.Component.prototype,{set_screen:function(b){for(var c=0,d=this.children;c<d.length;){var e=d[c];++c;e.set_screen(b)}return a.graphics.Component.prototype.set_screen.call(this,b)},destroy:function(){for(;0<this.children.length;){var b=
this.children.pop();this.removeChild(b);b.orphan();b.destroy()}a.graphics.Component.prototype.destroy.call(this)},copy:function(b){a.graphics.Component.prototype.copy.call(this,b);if(!n.Boot.__instanceof(b,a.graphics.Container))throw"ERROR: Source component is not an instance of Container.";for(var c=0,d=b.children;c<d.length;){var e=d[c];++c;e=e.clone();this.appendChild(e)}this.set_forceTouchChildrenDisabled(b.forceTouchChildrenDisabled)},clone:function(){var b=new a.graphics.Container(this.name);
b.copy(this);return b},set_forceTouchChildrenDisabled:function(a){this.forceTouchChildrenDisabled=a;for(var c=0,d=this.children;c<d.length;){var e=d[c];++c;e.set_imposeTouchDisabled(a)}return a},forceTouchChildrenDisabled:null,get_childCount:function(){return this.children.length},childCount:null,getChildIndex:function(a){for(var c=0,d=this.get_childCount();c<d;){var e=c++;if(this.children[e]==a)return e}return-1},getChild:function(a){for(var c=0,d=this.children;c<d.length;){var e=d[c];++c;if(e.name==
a)return e}return null},getChildAt:function(a){return 0<=a&&a<this.children.length?this.children[a]:null},removeChildAt:function(a){return 0<=a&&a<this.children.length?this.removeChild(this.children[a]):!1},removedFromStage:function(){a.graphics.Component.prototype.removedFromStage.call(this);for(var b=0,c=this.children;b<c.length;){var d=c[b];++b;d.removedFromStage()}},addedToStage:function(){a.graphics.Component.prototype.addedToStage.call(this);for(var b=0,c=this.children;b<c.length;){var d=c[b];
++b;d.addedToStage()}},removeChild:function(a){var c=r.remove(this.children,a);c&&(this.implementation.removeChild(a.implementation),a.orphan());return c},insertChildAfter:function(a,c){var d=this.getChildIndex(c);return 0<=d?(this.insertChild(a,d+1),!0):!1},insertChild:function(a,c){null==c&&(c=0);if(0==this.get_childCount()||c>=this.get_childCount())return this.appendChild(a);0>=c&&(c=0);a.adopt(this);var d=this.getChildAt(c);if(null==d)return!1;this.implementation.insertBefore(a.implementation,
d.implementation);this.children.splice(c,0,a);return!0},appendChild:function(a){if(null==a)return!1;a.adopt(this);this.implementation.appendChild(a.implementation);this.children.push(a);return!0},initialize:function(){a.graphics.Component.prototype.initialize.call(this);this.children=[];this.set_forceTouchChildrenDisabled(!1)},children:null,__class__:a.graphics.Container,__properties__:g(a.graphics.Component.prototype.__properties__,{get_childCount:"get_childCount",set_forceTouchChildrenDisabled:"set_forceTouchChildrenDisabled"})});
a.graphics.ICanvas=function(){};f["nfuzion.graphics.ICanvas"]=a.graphics.ICanvas;a.graphics.ICanvas.__name__=["nfuzion","graphics","ICanvas"];a.graphics.ICanvas.prototype={destroy:null,lineTo:null,moveTo:null,lineAlpha:null,linePaint:null,lineThickness:null,clear:null,component:null,__class__:a.graphics.ICanvas};a.graphics.IStage=function(){};f["nfuzion.graphics.IStage"]=a.graphics.IStage;a.graphics.IStage.__name__=["nfuzion","graphics","IStage"];a.graphics.IStage.__interfaces__=[a.graphics.IContainer];
a.graphics.IStage.prototype={touchActive:null,maxFrameRate:null,__class__:a.graphics.IStage};a.graphics.IText=function(){};f["nfuzion.graphics.IText"]=a.graphics.IText;a.graphics.IText.__name__=["nfuzion","graphics","IText"];a.graphics.IText.__interfaces__=[a.graphics.IComponent];a.graphics.IText.prototype={manualText:null,selectable:null,editable:null,wrap:null,font:null,paint:null,__class__:a.graphics.IText};a.graphics.Stage=function(b,c,d){this.animating=this.frameRequested=!1;a.graphics.Container.call(this,
"stage");this.set_visible(!1);this.set_touchEnabled(!0);var e=n.Browser.document.createElement("style");e.type="text/css";n.Browser.document.head.appendChild(e);e.innerHTML="div{white-space: nowrap;text-overflow: ellipsis;top: 0px;left: 0px;width: 0px;height: 0px;-webkit-transform: translate3d(0,0,0);-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;position: absolute;vertical-align: text-bottom;cursor: default;overflow: hidden;pointer-events: none;}";
this.bodyCss=n.Browser.document.createElement("style");this.bodyCss.type="text/css";n.Browser.document.head.appendChild(this.bodyCss);this.touchActive=!1;this.set_width(b);this.set_height(c);this.set_backgroundPaint(d);this.requestAnimationFrame=h(this,this.requestAnimationFrameFallback);null!=(G=n.Browser.window,h(G,G.requestAnimationFrame))?this.requestAnimationFrame=(G=n.Browser.window,h(G,G.requestAnimationFrame)):null!=window.webkitRequestAnimationFrame?this.requestAnimationFrame=h(this,this.webkitRequestAnimationFrame):
null!=window.mozRequestAnimationFrame&&(this.requestAnimationFrame=window.mozRequestAnimationFrame)};f["nfuzion.graphics.Stage"]=a.graphics.Stage;a.graphics.Stage.__name__=["nfuzion","graphics","Stage"];a.graphics.Stage.__interfaces__=[a.graphics.IStage];a.graphics.Stage.__super__=a.graphics.Container;a.graphics.Stage.prototype=g(a.graphics.Container.prototype,{set_visible:function(b){n.Browser.document.body.appendChild(this.implementation);return a.graphics.Container.prototype.set_visible.call(this,
b)},set_backgroundPaint:function(b){b=a.graphics.Container.prototype.set_backgroundPaint.call(this,b);this.bodyCss.innerHTML="html, body{background-color:#"+a.utility.ColorTools.toString(b.color)+";}";return b},copy:function(a){throw"Illegal operation: Cannot copy Stage.";},clone:function(){return null},onAnimationFrame:function(b){this.frameRequested=!1;this.dispatchEvent(new a.graphics.event.StageEvent("paint",this));this.animating&&this.requestFrame();return!0},onFrameDelay:function(){this.onAnimationFrame()},
requestAnimationFrameFallback:function(b){this.frameDelay=new a.timer.Delay(h(this,this.onFrameDelay),1/30);return 0},webkitRequestAnimationFrame:function(a){return window.webkitRequestAnimationFrame(a)},requestFrame:function(){this.frameRequested||(this.frameRequested=!0,this.requestAnimationFrame(h(this,this.onAnimationFrame)))},removeEventListener:function(b,c,d){null==d&&(d=0);a.graphics.Container.prototype.removeEventListener.call(this,b,c,d);"paint"!=b||this.hasEventListener("paint")||(this.animating=
!1)},addEventListener:function(b,c,d){null==d&&(d=0);a.graphics.Container.prototype.addEventListener.call(this,b,c,d);"paint"!=b||this.animating||(this.animating=!0,this.requestFrame())},get_stage:function(){return a.nTactic.NTactic.stage},getComponent:function(a){if(null==a)return null;var c=null;do c=a.component,null==c&&(a=n.Boot.__instanceof(a.parentNode,HTMLDivElement)?a.parentNode:null);while(null!=a&&null==c);if(null!=c)for(;!c.touchEnabled&&c!=this.get_stage();)c=c.parent;return c},onMouseUp:function(b){if(!this.touchActive&&
0==b.button){n.Browser.document.onmousemove=null;this.implementation.onmouseover=null;var c=this.implementation.onmouseout=null;n.Boot.__instanceof(b.target,HTMLDivElement)&&(c=this.getComponent(b.target));null==c&&(c=this);c.bubbleEvent(new a.graphics.event.TouchEvent("end",c,-1,new a.geometry.Point(b.clientX,b.clientY)))}},onMouseOut:function(b){if(!this.touchActive&&0==b.button){var c=null;n.Boot.__instanceof(b.target,HTMLDivElement)&&(c=this.getComponent(b.target));null==c&&(c=this);c.dispatchEvent(new a.graphics.event.TouchEvent("out",
c,-1,new a.geometry.Point(b.clientX,b.clientY)))}},onMouseMove:function(b){if(!this.touchActive){var c=null;n.Boot.__instanceof(b.target,HTMLDivElement)&&(c=this.getComponent(b.target));null==c&&(c=this);c.bubbleEvent(new a.graphics.event.TouchEvent("move",c,-1,new a.geometry.Point(b.clientX,b.clientY)))}},onMouseOver:function(b){if(!this.touchActive&&0==b.button){var c=null;n.Boot.__instanceof(b.target,HTMLDivElement)&&(c=this.getComponent(b.target));null==c&&(c=this);c.dispatchEvent(new a.graphics.event.TouchEvent("over",
c,-1,new a.geometry.Point(b.clientX,b.clientY)))}},onMouseDown:function(b){if(!this.touchActive&&0==b.button){n.Browser.document.onmousemove=h(this,this.onMouseMove);this.implementation.onmouseover=h(this,this.onMouseOver);this.implementation.onmouseout=h(this,this.onMouseOut);var c=null;n.Boot.__instanceof(b.target,HTMLDivElement)&&(c=this.getComponent(b.target));null==c&&(c=this);c.bubbleEvent(new a.graphics.event.TouchEvent("begin",c,-1,new a.geometry.Point(b.clientX,b.clientY)))}},onTouchEnd:function(b){0>=
b.touches.length&&(this.touchActive=!1);b.stopPropagation();b.preventDefault();for(var c=0,d=b.changedTouches.length;c<d;){var e=c++,e=b.changedTouches.item(e),k=new a.geometry.Point(e.clientX,e.clientY),f=n.Browser.document.elementFromPoint(e.clientX,e.clientY),f=this.getComponent(f);null==f&&(f=this);f.bubbleEvent(new a.graphics.event.TouchEvent("end",f,e.identifier,k))}return!1},onTouchCancel:function(a){return this.onTouchEnd(a)},onTouchMove:function(b){b.stopPropagation();b.preventDefault();
for(var c=0,d=b.changedTouches.length;c<d;){var e=c++,e=b.changedTouches.item(e),k=new a.geometry.Point(e.clientX,e.clientY),f=this.getComponent(b.target);null==f&&(f=this);f.bubbleEvent(new a.graphics.event.TouchEvent("move",f,e.identifier,k))}return!1},onTouchStart:function(b){this.touchActive=!0;b.stopPropagation();b.preventDefault();for(var c=0,d=b.changedTouches.length;c<d;){var e=c++,e=b.changedTouches.item(e),k=new a.geometry.Point(e.clientX,e.clientY),f=n.Browser.document.elementFromPoint(e.clientX,
e.clientY),f=this.getComponent(f);null==f&&(f=this);f.bubbleEvent(new a.graphics.event.TouchEvent("begin",f,e.identifier,k))}return!1},initialize:function(){this.implementation.addEventListener("touchstart",h(this,this.onTouchStart),!1);this.implementation.addEventListener("touchmove",h(this,this.onTouchMove),!1);this.implementation.addEventListener("touchend",h(this,this.onTouchEnd),!1);this.implementation.addEventListener("touchcancel",h(this,this.onTouchCancel),!1);this.implementation.onmousedown=
h(this,this.onMouseDown);n.Browser.document.onmouseup=h(this,this.onMouseUp);a.graphics.Container.prototype.initialize.call(this)},frameRequested:null,animating:null,requestAnimationFrame:null,touchActive:null,maxFrameRate:null,bodyCss:null,frameDelay:null,__class__:a.graphics.Stage});a.graphics.Text=function(b,c){null==b&&(b="");this.wrap=this.editable=this.selectable=!1;this.textNode=n.Browser.document.createTextNode("");a.graphics.Component.call(this,b,c);this.implementation.appendChild(this.textNode)};
f["nfuzion.graphics.Text"]=a.graphics.Text;a.graphics.Text.__name__=["nfuzion","graphics","Text"];a.graphics.Text.__interfaces__=[a.graphics.IText];a.graphics.Text.__super__=a.graphics.Component;a.graphics.Text.prototype=g(a.graphics.Component.prototype,{set_selectable:function(a){return this.selectable=a},selectable:null,set_editable:function(a){return this.editable=a},editable:null,destroy:function(){a.graphics.Component.prototype.destroy.call(this)},onPaintChange:function(b){a.graphics.Component.prototype.onPaintChange.call(this,
b);b.target==this.paint&&this.set_paint(this.paint)},disusePaints:function(){a.graphics.Component.prototype.disusePaints.call(this);this.disusePaint(this.paint)},usePaints:function(){a.graphics.Component.prototype.usePaints.call(this);this.usePaint(this.paint)},copy:function(b){a.graphics.Component.prototype.copy.call(this,b);if(!n.Boot.__instanceof(b,a.graphics.Text))throw"ERROR: Source component is not an instance of Text.";this.set_alignment(b.alignment);this.set_text(b.get_text());this.set_paint(b.paint);
this.set_font(b.font)},clone:function(){var b=new a.graphics.Text(this.name);b.copy(this);return b},set_wrap:function(a){a!=this.wrap&&(this.wrap=a,this.implementation.style.whiteSpace=a?"normal":"nowrap");return this.wrap},wrap:null,set_font:function(a){null!=a?(this.font=a,this.implementation.className=a.cssName):l.Log.trace("ERROR: Cannot set font to null.",{fileName:"Text.hx",lineNumber:132,className:"nfuzion.graphics.Text",methodName:"set_font"});return this.font},font:null,set_paint:function(b){this.paint!=
b&&(this.disusePaint(this.paint),this.paint=b,this.usePaint(this.paint));this.implementation.style.color="#"+a.utility.ColorTools.toString(b.color);return b},paint:null,set_text:function(a){this.manualText=!0;return this.textNode.data=a},get_text:function(){return this.textNode.data},set_alignment:function(a){this.alignment=a;this.implementation.style.textAlign=m.string(a);return a},alignment:null,initialize:function(){a.graphics.Component.prototype.initialize.call(this);this.manualText=!1;this.set_paint(new a.paint.Paint)},
create:function(){a.graphics.Component.prototype.create.call(this);this.set_alignment(a.type.Alignment.left)},textNode:null,manualText:null,__class__:a.graphics.Text,__properties__:g(a.graphics.Component.prototype.__properties__,{set_alignment:"set_alignment",set_text:"set_text",get_text:"get_text",set_paint:"set_paint",set_font:"set_font",set_wrap:"set_wrap",set_editable:"set_editable",set_selectable:"set_selectable"})});a.graphics.event={};a.graphics.event.ComponentEvent=function(b,c){a.event.Event.call(this,
b);this.target=c};f["nfuzion.graphics.event.ComponentEvent"]=a.graphics.event.ComponentEvent;a.graphics.event.ComponentEvent.__name__=["nfuzion","graphics","event","ComponentEvent"];a.graphics.event.ComponentEvent.__super__=a.event.Event;a.graphics.event.ComponentEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.graphics.event.ComponentEvent});a.graphics.event.StageEvent=function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.graphics.event.StageEvent"]=a.graphics.event.StageEvent;
a.graphics.event.StageEvent.__name__=["nfuzion","graphics","event","StageEvent"];a.graphics.event.StageEvent.__super__=a.event.Event;a.graphics.event.StageEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.graphics.event.StageEvent});a.graphics.event.TouchEvent=function(b,c,d,e,k,f){null==f&&(f=!0);null==k&&(k=0);a.event.BubblingEvent.call(this,b,f);this.target=c;this.id=d;this.global=e;this.local=c.globalToLocal(e);this.timestamp=k};f["nfuzion.graphics.event.TouchEvent"]=a.graphics.event.TouchEvent;
a.graphics.event.TouchEvent.__name__=["nfuzion","graphics","event","TouchEvent"];a.graphics.event.TouchEvent.__super__=a.event.BubblingEvent;a.graphics.event.TouchEvent.prototype=g(a.event.BubblingEvent.prototype,{timestamp:null,local:null,global:null,id:null,target:null,__class__:a.graphics.event.TouchEvent});a.graphics.type={};a.graphics.type.Fit=f["nfuzion.graphics.type.Fit"]={__ename__:["nfuzion","graphics","type","Fit"],__constructs__:"none coverAll containAll stretchAll tileAll cover contain stretch tile".split(" ")};
a.graphics.type.Fit.none=["none",0];a.graphics.type.Fit.none.toString=q;a.graphics.type.Fit.none.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.coverAll=["coverAll",1];a.graphics.type.Fit.coverAll.toString=q;a.graphics.type.Fit.coverAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.containAll=["containAll",2];a.graphics.type.Fit.containAll.toString=q;a.graphics.type.Fit.containAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.stretchAll=["stretchAll",3];a.graphics.type.Fit.stretchAll.toString=
q;a.graphics.type.Fit.stretchAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.tileAll=["tileAll",4];a.graphics.type.Fit.tileAll.toString=q;a.graphics.type.Fit.tileAll.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.cover=["cover",5];a.graphics.type.Fit.cover.toString=q;a.graphics.type.Fit.cover.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.contain=["contain",6];a.graphics.type.Fit.contain.toString=q;a.graphics.type.Fit.contain.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.stretch=["stretch",
7];a.graphics.type.Fit.stretch.toString=q;a.graphics.type.Fit.stretch.__enum__=a.graphics.type.Fit;a.graphics.type.Fit.tile=["tile",8];a.graphics.type.Fit.tile.toString=q;a.graphics.type.Fit.tile.__enum__=a.graphics.type.Fit;a.image={};a.image.IImage=function(){};f["nfuzion.image.IImage"]=a.image.IImage;a.image.IImage.__name__=["nfuzion","image","IImage"];a.image.IImage.__interfaces__=[a.event.IEventDispatcher];a.image.IImage.prototype={project:null,useCount:null,height:null,width:null,failed:null,
ready:null,url:null,__class__:a.image.IImage};a.image.Image=function(b){a.event.EventDispatcher.call(this);this.url=b;this.ready=!1;this.loadAttempts=this.useCount=this.height=this.width=0;this.implementation=n.Browser.document.createElement("img");this.implementation.onload=h(this,this.onLoad);this.implementation.onerror=h(this,this.onError);this.load()};f["nfuzion.image.Image"]=a.image.Image;a.image.Image.__name__=["nfuzion","image","Image"];a.image.Image.__interfaces__=[a.image.IImage];a.image.Image.__super__=
a.event.EventDispatcher;a.image.Image.prototype=g(a.event.EventDispatcher.prototype,{project:function(a){return!1},onError:function(b){this.failed=!0;this.ready=!1;this.dispatchEvent(new a.image.event.ImageEvent("ImageEvent.error",this));5>this.loadAttempts&&(this.implementation.src=null,this.load())},onLoad:function(b){this.ready=!0;this.failed=!1;this.width=this.implementation.width;this.height=this.implementation.height;this.dispatchEvent(new a.image.event.ImageEvent("ImageEvent.ready",this))},
load:function(){this.loadAttempts++;this.implementation.src=this.url},loadAttempts:null,implementation:null,useCount:null,height:null,width:null,failed:null,ready:null,url:null,__class__:a.image.Image});a.image.ImageLoader=function(b,c,d,e){a.event.EventDispatcher.call(this);this.url=b;this.component=c;this.fit=d;this.timeout=e;this.complete=!1;this.tinyUrl=r.substr(b,b.lastIndexOf("/")+1,null);this.load()};f["nfuzion.image.ImageLoader"]=a.image.ImageLoader;a.image.ImageLoader.__name__=["nfuzion",
"image","ImageLoader"];a.image.ImageLoader.__super__=a.event.EventDispatcher;a.image.ImageLoader.prototype=g(a.event.EventDispatcher.prototype,{destroy:function(){this.complete||a.nTactic.NTactic.imageManager.remove(this.url);null!=this.image&&(this.image.removeEventListener("ImageEvent.ready",h(this,this.onImageEvent)),this.image.removeEventListener("ImageEvent.error",h(this,this.onImageEvent)));null!=this.delay&&(this.delay.destroy(),this.delay=null);this.component=this.image=null},onComplete:function(){this.complete=
!0;this.dispatchEvent(new a.image.event.ImageLoaderEvent("ImageLoaderEvent.complete",this))},setDefaultImage:function(){this.component.gotoDefault()},setImage:function(){this.component.set_backgroundUrl(this.url);this.component.set_backgroundFit(this.fit)},onDelayTimer:function(){this.delay.destroy();this.delay=null;this.setDefaultImage()},onImageEvent:function(b){null!=this.delay&&this.delay.destroy();b.target.removeEventListener("ImageEvent.ready",h(this,this.onImageEvent));b.target.removeEventListener("ImageEvent.error",
h(this,this.onImageEvent));"ImageEvent.ready"==b.type?this.setImage():this.setDefaultImage();a.nTactic.NTactic.imageManager.remove(this.url);this.onComplete()},load:function(){this.image=a.nTactic.NTactic.imageManager.cite(this.url);null!=this.image&&this.image.ready?(this.setImage(),this.onComplete()):(this.image=a.nTactic.NTactic.imageManager.add(this.url),this.image.ready?(this.setImage(),a.nTactic.NTactic.imageManager.remove(this.url),this.onComplete()):(this.image.addEventListener("ImageEvent.ready",
h(this,this.onImageEvent)),this.image.addEventListener("ImageEvent.error",h(this,this.onImageEvent)),this.image.failed?(this.setDefaultImage(),a.nTactic.NTactic.imageManager.remove(this.url)):null!=this.timeout&&(this.delay=new a.timer.Delay(h(this,this.onDelayTimer),this.timeout))))},tinyUrl:null,delay:null,image:null,complete:null,timeout:null,component:null,fit:null,url:null,__class__:a.image.ImageLoader});a.image.ImageManager=function(){this.images=new l.ds.StringMap};f["nfuzion.image.ImageManager"]=
a.image.ImageManager;a.image.ImageManager.__name__=["nfuzion","image","ImageManager"];a.image.ImageManager.prototype={remove:function(a){if(null!=a){var c=this.images.get(a);if(null==c)return null;c.useCount--;0>=c.useCount&&this.images.remove(a);return c}return null},cite:function(a){return this.images.get(a)},add:function(b){if(null!=b){var c=this.images.get(b);null==c&&(c=new a.image.Image(b),this.images.set(b,c));c.useCount++;return c}return null},images:null,__class__:a.image.ImageManager};a.image.event=
{};a.image.event.ImageEvent=function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.image.event.ImageEvent"]=a.image.event.ImageEvent;a.image.event.ImageEvent.__name__=["nfuzion","image","event","ImageEvent"];a.image.event.ImageEvent.__super__=a.event.Event;a.image.event.ImageEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.image.event.ImageEvent});a.image.event.ImageLoaderEvent=function(b,c){a.event.Event.call(this,b);this.imageLoader=c};f["nfuzion.image.event.ImageLoaderEvent"]=
a.image.event.ImageLoaderEvent;a.image.event.ImageLoaderEvent.__name__=["nfuzion","image","event","ImageLoaderEvent"];a.image.event.ImageLoaderEvent.__super__=a.event.Event;a.image.event.ImageLoaderEvent.prototype=g(a.event.Event.prototype,{imageLoader:null,__class__:a.image.event.ImageLoaderEvent});a.layout={};a.layout.ILayout=function(){};f["nfuzion.layout.ILayout"]=a.layout.ILayout;a.layout.ILayout.__name__=["nfuzion","layout","ILayout"];a.layout.ILayout.__interfaces__=[a.event.IListenerManager,
a.event.IEventDispatcher];a.layout.ILayout.prototype={detach:null,attach:null,__class__:a.layout.ILayout};a.layout.BaseLayout=function(){a.event.ListenerManagerAndEventDispatcher.call(this)};f["nfuzion.layout.BaseLayout"]=a.layout.BaseLayout;a.layout.BaseLayout.__name__=["nfuzion","layout","BaseLayout"];a.layout.BaseLayout.__interfaces__=[a.layout.ILayout];a.layout.BaseLayout.__super__=a.event.ListenerManagerAndEventDispatcher;a.layout.BaseLayout.prototype=g(a.event.ListenerManagerAndEventDispatcher.prototype,
{componentAttached:function(){return!0},componentDetaching:function(){this.detachAllListeners()},detach:function(){null!=this.component&&(this.componentDetaching(),null!=this.component.layout&&this.component.set_layout(null));this.component=null},attach:function(a){null==a&&l.Log.trace("ERROR: Cannot attach a null component to a layout.",{fileName:"BaseLayout.hx",lineNumber:20,className:"nfuzion.layout.BaseLayout",methodName:"attach"});return this.component!=a?(this.detach(),this.component=a,this.componentAttached()):
!0},component:null,__class__:a.layout.BaseLayout});a.layout.SnapParentEdges=function(b,c,d,e,k){null==k&&(k=!1);null==e&&(e=!0);null==d&&(d=!0);null==c&&(c=!0);null==b&&(b=!0);a.layout.BaseLayout.call(this);this.snapLeft=b;this.snapRight=c;this.snapTop=d;this.snapBottom=e;this.useScaling=k};f["nfuzion.layout.SnapParentEdges"]=a.layout.SnapParentEdges;a.layout.SnapParentEdges.__name__=["nfuzion","layout","SnapParentEdges"];a.layout.SnapParentEdges.__super__=a.layout.BaseLayout;a.layout.SnapParentEdges.prototype=
g(a.layout.BaseLayout.prototype,{onBoxChanged:function(a){this.update()},apply:function(){this.snapLeft&&this.component.set_x(0);this.snapTop&&this.component.set_y(0);this.snapRight&&this.component.set_right(this.component.parent._width-1);this.snapBottom&&this.component.set_bottom(this.component.parent._height-1);this.useScaling&&this.applyScaling()},update:function(){null!=this.component.parent&&(this.detachListener(this.component,"change",h(this,this.onBoxChanged)),this.apply(),this.attachListener(this.component,
"change",h(this,this.onBoxChanged)))},applyScaling:function(){this.component.set_xScale(this.component._width/this.originalWidth);this.component.set_yScale(this.component._height/this.originalHeight)},onSizeChanged:function(a){this.onBoxChanged()},onAdopted:function(a){this.attachListener(this.component.parent,"changeSize",h(this,this.onSizeChanged));this.onSizeChanged()},onOrphaning:function(a){this.detachListener(this.component.parent,"changeSize",h(this,this.onSizeChanged))},componentAttached:function(){this.originalWidth=
this.component._width;this.originalHeight=this.component._height;this.attachListener(this.component,"orphaning",h(this,this.onOrphaning));this.attachListener(this.component,"adopted",h(this,this.onAdopted));this.attachListener(this.component,"change",h(this,this.onBoxChanged));if(null!=this.component.parent)this.onAdopted();this.update();return!0},originalHeight:null,originalWidth:null,useScaling:null,snapBottom:null,snapTop:null,snapRight:null,snapLeft:null,__class__:a.layout.SnapParentEdges});a.limits=
{};a.limits.IntLimits=function(){};f["nfuzion.limits.IntLimits"]=a.limits.IntLimits;a.limits.IntLimits.__name__=["nfuzion","limits","IntLimits"];a.lingo={};a.lingo.ILingo=function(){};f["nfuzion.lingo.ILingo"]=a.lingo.ILingo;a.lingo.ILingo.__name__=["nfuzion","lingo","ILingo"];a.lingo.ILingo.prototype={from:null,to:null,__class__:a.lingo.ILingo};a.lingo.HaxeLingo=function(){};f["nfuzion.lingo.HaxeLingo"]=a.lingo.HaxeLingo;a.lingo.HaxeLingo.__name__=["nfuzion","lingo","HaxeLingo"];a.lingo.HaxeLingo.__interfaces__=
[a.lingo.ILingo];a.lingo.HaxeLingo.prototype={from:function(a){return l.Unserializer.run(a)},to:function(a){return l.Serializer.run(a)},__class__:a.lingo.HaxeLingo};a.lingo.JsonLingo=function(a,c,d,e){null==e&&(e="nfuzion.message.");null==d&&(d="\n");null==c&&(c="  ");null==a&&(a=!0);this.alphabeticalOrder=a;this.pad=c;this.lineEnd=d;this.impliedClassPrefix=e};f["nfuzion.lingo.JsonLingo"]=a.lingo.JsonLingo;a.lingo.JsonLingo.__name__=["nfuzion","lingo","JsonLingo"];a.lingo.JsonLingo.__interfaces__=
[a.lingo.ILingo];a.lingo.JsonLingo.prototype={trimComma:function(a){a=u.ltrim(a);null!=a&&","==a.charAt(0)&&(a=r.substr(a,1,null));return a},arrayFrom:function(a,c,d){for(;!this.closesWith(a,"]");){var e={item:null};a='"item":'+a;a=this.propertyFrom(a,e,d.slice());if(null!=a)c.push(e.item);else return null;a=this.trimComma(a)}return a},propertyFrom:function(b,c,d){var e=this.getQuotedString(b);b=this.trimToChar(b,":");if(null==b)return l.Log.trace("Property name not followed by ':'",{fileName:"JsonLingo.hx",
lineNumber:387,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;var k=this.getValueType(b);if(null==k)return l.Log.trace("Could not determine type of property: '"+e+"'",{fileName:"JsonLingo.hx",lineNumber:394,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;null==d&&n.Boot.__instanceof(c,a.message.generic.base.Base)&&(d=c.getPropertyType(e));if(null==d)return l.Log.trace("Failed to get property class array.",{fileName:"JsonLingo.hx",lineNumber:405,className:"nfuzion.lingo.JsonLingo",
methodName:"propertyFrom"}),null;var f=d.shift();switch(f){case Array:if(k==a.lingo.type.PropertyType.array){f=[];b=this.trimToChar(b,"[");null!=b&&(b=this.arrayFrom(b,f,d));b=this.trimToChar(b,"]");if(null==b)return l.Log.trace("Error parsing array.",{fileName:"JsonLingo.hx",lineNumber:425,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;w.setProperty(c,e,f)}else return l.Log.trace("Message type and class do not match.",{fileName:"JsonLingo.hx",lineNumber:432,className:"nfuzion.lingo.JsonLingo",
methodName:"propertyFrom"}),null;break;case C:u.ltrim(b);d=u.startsWith(b,"true");b=(c[e]=d)?r.substr(b,4,null):r.substr(b,5,null);break;case z:d=this.getNumber(b);b=this.removeNumber(b);c[e]=m.parseInt(d);break;case x:d=this.getNumber(b);b=this.removeNumber(b);c[e]=m.parseFloat(d);break;case String:d=this.getQuotedString(b);b=this.removeQuotedString(b);c[e]=u.urlDecode(d);break;default:switch(k[1]){case 4:d=s.createEmptyInstance(f);null!=d&&(b=this.trimToChar(b,"{"),null!=b&&(b=this.propertiesFrom(b,
d)),null!=b&&(b=this.trimToChar(b,"}")),null==b&&(d=null),c[e]=d);if(null==d)return l.Log.trace("Failed to create class.",{fileName:"JsonLingo.hx",lineNumber:485,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),null;break;case 3:d=this.getQuotedString(b);b=this.removeQuotedString(b);c[e]=s.createEnum(f,d);break;default:return l.Log.trace('Unhandled type "'+m.string(k)+'" in class.',{fileName:"JsonLingo.hx",lineNumber:493,className:"nfuzion.lingo.JsonLingo",methodName:"propertyFrom"}),
null}}return b},propertiesFrom:function(a,c){for(;null!=a&&!this.closesWith(a,"}");){a=this.propertyFrom(a,c);if(null==a)break;a=this.trimComma(a)}return a},closesWith:function(a,c){return null!=a?(a=u.ltrim(a),u.startsWith(a,c)):!1},getValueType:function(b){var c=null;b=u.ltrim(b);switch(b.charAt(0)){case "t":case "f":c=a.lingo.type.PropertyType["boolean"];break;case '"':c=a.lingo.type.PropertyType.string;break;case "[":c=a.lingo.type.PropertyType.array;break;case "{":c=a.lingo.type.PropertyType.structure;
break;case "-":case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":c=a.lingo.type.PropertyType.number}return c},trimToChar:function(a,c){if(null!=a){var d=a.indexOf(c);if(0<=d)return r.substr(a,d+1,null)}return null},removeNumber:function(a){var c=0;a=u.trim(a);try{for(;c<a.length;){switch(a.charAt(c)){case "}":case "]":case " ":case "\n":case ",":throw"__break__";}c++}}catch(d){if("__break__"!=d)throw d;}return c<a.length?r.substr(a,c,null):null},getNumber:function(a){var c=
0;a=u.trim(a);try{for(;c<a.length;){switch(a.charAt(c)){case "}":case "]":case " ":case "\n":case ",":throw"__break__";}c++}}catch(d){if("__break__"!=d)throw d;}return c<a.length?r.substr(a,0,c):null},removeQuotedString:function(a){a=this.trimToChar(a,'"');if(null!=a){var c=a.indexOf('"');0<=c&&(a=r.substr(a,c+1,null))}return a},getQuotedString:function(a){var c=null;a=this.trimToChar(a,'"');if(null!=a){var d=a.indexOf('"');0<=d&&(c=r.substr(a,0,d),r.substr(a,d,null))}return c},from:function(a){if(null==
a)return null;a=u.replace(a,"\n","");"{"==a.charAt(0)&&(2<a.length-a.lastIndexOf("}")&&l.Log.trace("WARNING: Data possibly being ignored in serialized message",{fileName:"JsonLingo.hx",lineNumber:185,className:"nfuzion.lingo.JsonLingo",methodName:"from"}),a=a.substring(1,a.lastIndexOf("}")));var c=this.impliedClassPrefix+this.getQuotedString(a),c=s.resolveClass(c),d;try{d=s.createEmptyInstance(c)}catch(e){return null}a=this.trimToChar(a,"{");if(null==a)return l.Log.trace("Root element is not an object.",
{fileName:"JsonLingo.hx",lineNumber:216,className:"nfuzion.lingo.JsonLingo",methodName:"from"}),null;a=this.propertiesFrom(a,d);if(!this.closesWith(a,"}"))return l.Log.trace("Root object does not have closing bracket..",{fileName:"JsonLingo.hx",lineNumber:224,className:"nfuzion.lingo.JsonLingo",methodName:"from"}),null;a=this.trimToChar(a,"}");u.ltrim(a);return 0<a.length?(l.Log.trace("Extra data found in serialized message.",{fileName:"JsonLingo.hx",lineNumber:234,className:"nfuzion.lingo.JsonLingo",
methodName:"from"}),null):d},sortString:function(a,c){return a<c?-1:a>c?1:0},propertyTo:function(b,c,d){var e=d+this.pad,k="";null!=c&&""!=c&&(k+='"'+c+'":');switch(s["typeof"](b)[1]){case 1:case 2:e+=k+m.string(b);break;case 7:e+=k+'"'+m.string(b)+'"';break;case 6:if(n.Boot.__instanceof(b,String))e+=k+'"'+u.urlEncode(m.string(b))+'"';else if(n.Boot.__instanceof(b,Array)){e=""!=k?e+(k+this.lineEnd+d+this.pad+"["):e+"[";c=!0;k=0;for(b=n.Boot.__cast(b,Array);k<b.length;){var f=b[k];++k;f=this.propertyTo(f,
"",d+this.pad);null!=f&&(c||(e+=","),c=!1,e+=this.lineEnd+f)}e+=this.lineEnd+d+this.pad+"]"}else n.Boot.__instanceof(b,a.message.generic.type.TypeClass)&&(e+=this.classTo(b,c,d+this.pad));break;case 3:e+=k+(!0==b?"true":"false");break;default:return null}return e},classTo:function(a,c,d){null==d&&(d="");var e="",k=s.getClass(a),f=s.getClassName(k);if(!u.startsWith(f,this.impliedClassPrefix))return l.Log.trace("Unexpected message class namespace.",{fileName:"JsonLingo.hx",lineNumber:54,className:"nfuzion.lingo.JsonLingo",
methodName:"classTo"}),null;f=r.substr(f,this.impliedClassPrefix.length,null);e=""!=c?e+('"'+(null==c?f:c)+'":'+this.lineEnd+d+"{"+this.lineEnd):e+("{"+this.lineEnd);c=s.getInstanceFields(k);c.sort(h(this,this.sortString));k=!0;for(f=0;f<c.length;){var g=c[f];++f;var m=w.field(a,g),g=this.propertyTo(m,g,d);null!=g&&(k||(e+=","+this.lineEnd),k=!1,e+=g)}return e+=this.lineEnd+d+"}"},to:function(a){return null!=a?(a=this.classTo(a),"{"+a+"}"):null},impliedClassPrefix:null,lineEnd:null,pad:null,alphabeticalOrder:null,
__class__:a.lingo.JsonLingo};a.lingo.XmlLingo=function(a,c,d,e){null==e&&(e="nfuzion.message.");null==d&&(d="\n");null==c&&(c="  ");null==a&&(a=!0);this.alphabeticalOrder=a;this.pad=c;this.lineEnd=d;this.impliedClassPrefix=e};f["nfuzion.lingo.XmlLingo"]=a.lingo.XmlLingo;a.lingo.XmlLingo.__name__=["nfuzion","lingo","XmlLingo"];a.lingo.XmlLingo.__interfaces__=[a.lingo.ILingo];a.lingo.XmlLingo.prototype={extractPropertyValue:function(b){b=r.substr(b,0,b.indexOf(">"));var c=b.indexOf('"')+1;return s.createEnum(a.lingo.type.PropertyType,
r.substr(b,c,b.lastIndexOf('"')-c))},arrayFrom:function(a,c,d){for(var e=!0;"/"!=a[0].charAt(0);)if(u.startsWith(a[0],"item ")){var k={item:null};if(this.propertyFrom(a,k,d.slice()))c.push(k.item);else{e=!1;break}}else{l.Log.trace("None item tag found in an array.",{fileName:"XmlLingo.hx",lineNumber:388,className:"nfuzion.lingo.XmlLingo",methodName:"arrayFrom"});e=!1;break}return e},propertyFrom:function(b,c,d){var e=b.shift();if(null==e)return l.Log.trace("ERROR: start is null!",{fileName:"XmlLingo.hx",
lineNumber:272,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;var k=r.substr(e,0,e.indexOf(" "));null==d&&n.Boot.__instanceof(c,a.message.generic.base.Base)&&(d=n.Boot.__cast(c,a.message.generic.base.Base).getPropertyType(k));if(null==d)return l.Log.trace("Failed to get property class array.",{fileName:"XmlLingo.hx",lineNumber:282,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;var f=d.shift(),g=this.extractPropertyValue(e);switch(f){case Array:if(g==a.lingo.type.PropertyType.array){f=
[];if(!this.arrayFrom(b,f,d))return!1;w.setProperty(c,k,f)}else return l.Log.trace("Message type and class do not match.",{fileName:"XmlLingo.hx",lineNumber:302,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;break;case C:d=r.substr(e,e.indexOf(">")+1,null);c[k]=u.startsWith(d,"true");break;case z:d=r.substr(e,e.indexOf(">")+1,null);c[k]=m.parseInt(d);break;case x:d=r.substr(e,e.indexOf(">")+1,null);c[k]=m.parseFloat(d);break;case String:d=r.substr(e,e.indexOf(">")+1,null);c[k]=
u.htmlUnescape(d);break;default:switch(g[1]){case 4:d=s.createEmptyInstance(f);null!=d&&(this.propertiesFrom(b,d)||(d=null),c[k]=d);if(null==d)return l.Log.trace("Failed to create class.",{fileName:"XmlLingo.hx",lineNumber:334,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;break;case 3:d=r.substr(e,e.indexOf(">")+1,null);c[k]=s.createEnum(f,d);break;default:return l.Log.trace('Unhandled type "'+m.string(g)+'" in class.',{fileName:"XmlLingo.hx",lineNumber:341,className:"nfuzion.lingo.XmlLingo",
methodName:"propertyFrom"}),!1}}b=b.shift();if(null!=b){if(!u.startsWith(b,"/"+k+">"))return l.Log.trace("Bogus end tag.",{fileName:"XmlLingo.hx",lineNumber:351,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1}else return l.Log.trace("No end tag",{fileName:"XmlLingo.hx",lineNumber:357,className:"nfuzion.lingo.XmlLingo",methodName:"propertyFrom"}),!1;return!0},propertiesFrom:function(a,c){for(;0<a.length&&!u.startsWith(a[0],"/");)if(!this.propertyFrom(a,c))return!1;return!0},from:function(a){if(null==
a)return l.Log.trace("ERROR: Serialized message is null!",{fileName:"XmlLingo.hx",lineNumber:172,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null;if(""==a)return l.Log.trace("ERROR: Serialized message is empty!",{fileName:"XmlLingo.hx",lineNumber:177,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null;a=a.split("<");a.shift();var c=a.shift();if(null==c)return null;var c=r.substr(c,0,c.indexOf(">")),d=!1;u.endsWith(c,"/")&&(d=!0,c=r.substr(c,0,c.length-1));var e=s.resolveClass(this.impliedClassPrefix+
c),k=null;if(null!=e)try{null!=e&&(k=s.createEmptyInstance(e))}catch(f){}if(null==k)return null;if(!d){this.propertiesFrom(a,k);d=a.shift();if(null!=d){if(!u.startsWith(d,"/"+c+">"))return l.Log.trace("Root tag does not match.",{fileName:"XmlLingo.hx",lineNumber:231,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null}else return l.Log.trace("No end tag",{fileName:"XmlLingo.hx",lineNumber:237,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null;if(0!=a.length)return l.Log.trace("Extraneous data found in serialized message.",
{fileName:"XmlLingo.hx",lineNumber:244,className:"nfuzion.lingo.XmlLingo",methodName:"from"}),null}return k},sortString:function(a,c){return a<c?-1:a>c?1:0},propertyTo:function(b,c,d){var e="";switch(s["typeof"](b)[1]){case 1:case 2:e+=d+this.pad+"<"+c+' type="'+m.string(a.lingo.type.PropertyType.number)+'">'+m.string(b)+"</"+c+">"+this.lineEnd;break;case 7:e+=d+this.pad+"<"+c+' type="'+m.string(a.lingo.type.PropertyType.string)+'">'+m.string(b)+"</"+c+">"+this.lineEnd;break;case 6:if(n.Boot.__instanceof(b,
String))e+=d+this.pad+"<"+c+' type="'+m.string(a.lingo.type.PropertyType.string)+'">'+u.htmlEscape(m.string(b))+"</"+c+">"+this.lineEnd;else if(n.Boot.__instanceof(b,Array)){var e=e+(d+this.pad+"<"+c+' type="'+m.string(a.lingo.type.PropertyType.array)+'">'+this.lineEnd),k=0;for(b=n.Boot.__cast(b,Array);k<b.length;){var f=b[k];++k;e+=this.propertyTo(f,"item",d+this.pad)}e+=d+this.pad+"</"+c+">"+this.lineEnd}else n.Boot.__instanceof(b,a.message.generic.type.TypeClass)?e+=this.classTo(b,c,d+this.pad):
l.Log.trace("Detected class does not extend TypeClass.  Property will not be serialized.",{fileName:"XmlLingo.hx",lineNumber:142,className:"nfuzion.lingo.XmlLingo",methodName:"propertyTo"});break;case 3:e+=d+this.pad+"<"+c+' type="'+m.string(a.lingo.type.PropertyType["boolean"])+'">'+(!0==b?"true":"false")+"</"+c+">"+this.lineEnd}return e},classTo:function(b,c,d){null==d&&(d="");var e="",k=s.getClass(b),f=s.getClassName(k);if(!u.startsWith(f,this.impliedClassPrefix))return l.Log.trace("Unknown class type.",
{fileName:"XmlLingo.hx",lineNumber:55,className:"nfuzion.lingo.XmlLingo",methodName:"classTo"}),null;f=r.substr(f,this.impliedClassPrefix.length,null);e=null==c?e+(d+"<"+f+">"+this.lineEnd):e+(d+"<"+c+(""==d?">":' type="'+m.string(a.lingo.type.PropertyType.structure)+'">')+this.lineEnd);k=s.getInstanceFields(k);k.sort(h(this,this.sortString));for(var g=0;g<k.length;){var n=k[g];++g;var p=w.field(b,n),e=e+this.propertyTo(p,n,d)}return e=null==c?e+(d+"</"+f+">"):e+(d+"</"+c+">"+this.lineEnd)},to:function(a){return null!=
a?this.classTo(a):null},impliedClassPrefix:null,lineEnd:null,pad:null,alphabeticalOrder:null,__class__:a.lingo.XmlLingo};a.lingo.type={};a.lingo.type.PropertyType=f["nfuzion.lingo.type.PropertyType"]={__ename__:["nfuzion","lingo","type","PropertyType"],__constructs__:["array","boolean","number","string","structure"]};a.lingo.type.PropertyType.array=["array",0];a.lingo.type.PropertyType.array.toString=q;a.lingo.type.PropertyType.array.__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType["boolean"]=
["boolean",1];a.lingo.type.PropertyType["boolean"].toString=q;a.lingo.type.PropertyType["boolean"].__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType.number=["number",2];a.lingo.type.PropertyType.number.toString=q;a.lingo.type.PropertyType.number.__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType.string=["string",3];a.lingo.type.PropertyType.string.toString=q;a.lingo.type.PropertyType.string.__enum__=a.lingo.type.PropertyType;a.lingo.type.PropertyType.structure=["structure",4];
a.lingo.type.PropertyType.structure.toString=q;a.lingo.type.PropertyType.structure.__enum__=a.lingo.type.PropertyType;a.loader={};a.loader.TextLoader=function(b){a.event.EventDispatcher.call(this);this.data=null;this.ready=!1;this.url=b;this.xmlHttpRequest=new XMLHttpRequest;this.xmlHttpRequest.open("GET",b,!0);this.xmlHttpRequest.onreadystatechange=h(this,this.onReadyStateChange)};f["nfuzion.loader.TextLoader"]=a.loader.TextLoader;a.loader.TextLoader.__name__=["nfuzion","loader","TextLoader"];a.loader.TextLoader.__super__=
a.event.EventDispatcher;a.loader.TextLoader.prototype=g(a.event.EventDispatcher.prototype,{onError:function(){this.hasEventListener("LoaderEvent.error")?this.dispatchEvent(new a.loader.event.LoaderEvent("LoaderEvent.error",this)):l.Log.trace("ERROR: Failed to load file at '"+this.url+"'.",{fileName:"TextLoader.hx",lineNumber:126,className:"nfuzion.loader.TextLoader",methodName:"onError"})},onReady:function(){this.ready=!0;this.dispatchEvent(new a.loader.event.LoaderEvent("LoaderEvent.ready",this))},
onReadyStateChange:function(a){4==this.xmlHttpRequest.readyState&&(this.data=this.xmlHttpRequest.responseText,this.onReady())},request:function(){this.xmlHttpRequest.send(null)},xmlHttpRequest:null,url:null,ready:null,data:null,__class__:a.loader.TextLoader});a.loader.event={};a.loader.event.LoaderEvent=function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.loader.event.LoaderEvent"]=a.loader.event.LoaderEvent;a.loader.event.LoaderEvent.__name__=["nfuzion","loader","event","LoaderEvent"];
a.loader.event.LoaderEvent.__super__=a.event.Event;a.loader.event.LoaderEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.loader.event.LoaderEvent});a.message={};a.message.generic={};a.message.generic.base={};a.message.generic.base.Base=function(){};f["nfuzion.message.generic.base.Base"]=a.message.generic.base.Base;a.message.generic.base.Base.__name__=["nfuzion","message","generic","base","Base"];a.message.generic.base.Base.prototype={getPropertyType:function(a){for(var c=a+"Type",
d=s.getClass(this);null!=d;){var e=w.field(d,c);if(null!=e)return e.slice();d=s.getSuperClass(d)}l.Log.trace("WARNING: Class appears to not have a field named '"+a+"'.",{fileName:"Base.hx",lineNumber:32,className:"nfuzion.message.generic.base.Base",methodName:"getPropertyType"});return null},__class__:a.message.generic.base.Base};a.message.generic.templates={};a.message.generic.templates.MessageClass=function(){a.message.generic.base.Base.call(this)};f["nfuzion.message.generic.templates.MessageClass"]=
a.message.generic.templates.MessageClass;a.message.generic.templates.MessageClass.__name__=["nfuzion","message","generic","templates","MessageClass"];a.message.generic.templates.MessageClass.__super__=a.message.generic.base.Base;a.message.generic.templates.MessageClass.prototype=g(a.message.generic.base.Base.prototype,{__class__:a.message.generic.templates.MessageClass});a.message.generic.templates.Let=function(){a.message.generic.templates.MessageClass.call(this)};f["nfuzion.message.generic.templates.Let"]=
a.message.generic.templates.Let;a.message.generic.templates.Let.__name__=["nfuzion","message","generic","templates","Let"];a.message.generic.templates.Let.__super__=a.message.generic.templates.MessageClass;a.message.generic.templates.Let.prototype=g(a.message.generic.templates.MessageClass.prototype,{__class__:a.message.generic.templates.Let});a.message.chime={};a.message.chime.type={};a.message.chime.type.Chime=f["nfuzion.message.chime.type.Chime"]={__ename__:["nfuzion","message","chime","type",
"Chime"],__constructs__:["uiConfirm","uiCancel","uiNotice","warning","turnSignalClick"]};a.message.chime.type.Chime.uiConfirm=["uiConfirm",0];a.message.chime.type.Chime.uiConfirm.toString=q;a.message.chime.type.Chime.uiConfirm.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.uiCancel=["uiCancel",1];a.message.chime.type.Chime.uiCancel.toString=q;a.message.chime.type.Chime.uiCancel.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.uiNotice=["uiNotice",2];a.message.chime.type.Chime.uiNotice.toString=
q;a.message.chime.type.Chime.uiNotice.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.warning=["warning",3];a.message.chime.type.Chime.warning.toString=q;a.message.chime.type.Chime.warning.__enum__=a.message.chime.type.Chime;a.message.chime.type.Chime.turnSignalClick=["turnSignalClick",4];a.message.chime.type.Chime.turnSignalClick.toString=q;a.message.chime.type.Chime.turnSignalClick.__enum__=a.message.chime.type.Chime;a.message.chime.LetChime=function(b,c){null==c&&(c=0);a.message.generic.templates.Let.call(this);
this.chime=b;this.playCount=c};f["nfuzion.message.chime.LetChime"]=a.message.chime.LetChime;a.message.chime.LetChime.__name__=["nfuzion","message","chime","LetChime"];a.message.chime.LetChime.__super__=a.message.generic.templates.Let;a.message.chime.LetChime.prototype=g(a.message.generic.templates.Let.prototype,{playCount:null,chime:null,__class__:a.message.chime.LetChime});a.message.generic.templates.Set=function(){a.message.generic.templates.MessageClass.call(this)};f["nfuzion.message.generic.templates.Set"]=
a.message.generic.templates.Set;a.message.generic.templates.Set.__name__=["nfuzion","message","generic","templates","Set"];a.message.generic.templates.Set.__super__=a.message.generic.templates.MessageClass;a.message.generic.templates.Set.prototype=g(a.message.generic.templates.MessageClass.prototype,{__class__:a.message.generic.templates.Set});a.message.chime.SetChime=function(b,c){null==c&&(c=1);a.message.generic.templates.Set.call(this);this.chime=b;this.playCount=c};f["nfuzion.message.chime.SetChime"]=
a.message.chime.SetChime;a.message.chime.SetChime.__name__=["nfuzion","message","chime","SetChime"];a.message.chime.SetChime.__super__=a.message.generic.templates.Set;a.message.chime.SetChime.prototype=g(a.message.generic.templates.Set.prototype,{playCount:null,chime:null,__class__:a.message.chime.SetChime});a.message.debug={};a.message.debug.LetTrace=function(b,c,d,e,k,f,g){null==k&&(k=-1);a.message.generic.templates.Let.call(this);this.timestamp=b;this.sourceName=c;this.message=d;this.fileName=
e;this.lineNumber=k;this.className=f;this.functionName=g};f["nfuzion.message.debug.LetTrace"]=a.message.debug.LetTrace;a.message.debug.LetTrace.__name__=["nfuzion","message","debug","LetTrace"];a.message.debug.LetTrace.__super__=a.message.generic.templates.Let;a.message.debug.LetTrace.prototype=g(a.message.generic.templates.Let.prototype,{functionName:null,className:null,lineNumber:null,fileName:null,message:null,sourceName:null,timestamp:null,__class__:a.message.debug.LetTrace});a.message.generic.templates.Get=
function(){a.message.generic.templates.MessageClass.call(this)};f["nfuzion.message.generic.templates.Get"]=a.message.generic.templates.Get;a.message.generic.templates.Get.__name__=["nfuzion","message","generic","templates","Get"];a.message.generic.templates.Get.__super__=a.message.generic.templates.MessageClass;a.message.generic.templates.Get.prototype=g(a.message.generic.templates.MessageClass.prototype,{__class__:a.message.generic.templates.Get});a.message.generic.templates.LetBool=function(b){a.message.generic.templates.Let.call(this);
this.value=b};f["nfuzion.message.generic.templates.LetBool"]=a.message.generic.templates.LetBool;a.message.generic.templates.LetBool.__name__=["nfuzion","message","generic","templates","LetBool"];a.message.generic.templates.LetBool.__super__=a.message.generic.templates.Let;a.message.generic.templates.LetBool.prototype=g(a.message.generic.templates.Let.prototype,{value:null,__class__:a.message.generic.templates.LetBool});a.message.generic.templates.LetFloat=function(b){a.message.generic.templates.Let.call(this);
this.value=b};f["nfuzion.message.generic.templates.LetFloat"]=a.message.generic.templates.LetFloat;a.message.generic.templates.LetFloat.__name__=["nfuzion","message","generic","templates","LetFloat"];a.message.generic.templates.LetFloat.__super__=a.message.generic.templates.Let;a.message.generic.templates.LetFloat.prototype=g(a.message.generic.templates.Let.prototype,{value:null,__class__:a.message.generic.templates.LetFloat});a.message.generic.templates.SetBool=function(b){a.message.generic.templates.Set.call(this);
this.value=b};f["nfuzion.message.generic.templates.SetBool"]=a.message.generic.templates.SetBool;a.message.generic.templates.SetBool.__name__=["nfuzion","message","generic","templates","SetBool"];a.message.generic.templates.SetBool.__super__=a.message.generic.templates.Set;a.message.generic.templates.SetBool.prototype=g(a.message.generic.templates.Set.prototype,{value:null,__class__:a.message.generic.templates.SetBool});a.message.generic.templates.SetFloat=function(b){a.message.generic.templates.Set.call(this);
this.value=b};f["nfuzion.message.generic.templates.SetFloat"]=a.message.generic.templates.SetFloat;a.message.generic.templates.SetFloat.__name__=["nfuzion","message","generic","templates","SetFloat"];a.message.generic.templates.SetFloat.__super__=a.message.generic.templates.Set;a.message.generic.templates.SetFloat.prototype=g(a.message.generic.templates.Set.prototype,{value:null,__class__:a.message.generic.templates.SetFloat});a.message.generic.templates.SetString=function(b){a.message.generic.templates.Let.call(this);
this.value=b};f["nfuzion.message.generic.templates.SetString"]=a.message.generic.templates.SetString;a.message.generic.templates.SetString.__name__=["nfuzion","message","generic","templates","SetString"];a.message.generic.templates.SetString.__super__=a.message.generic.templates.Let;a.message.generic.templates.SetString.prototype=g(a.message.generic.templates.Let.prototype,{value:null,__class__:a.message.generic.templates.SetString});a.message.generic.type={};a.message.generic.type.TypeClass=function(){a.message.generic.base.Base.call(this)};
f["nfuzion.message.generic.type.TypeClass"]=a.message.generic.type.TypeClass;a.message.generic.type.TypeClass.__name__=["nfuzion","message","generic","type","TypeClass"];a.message.generic.type.TypeClass.__super__=a.message.generic.base.Base;a.message.generic.type.TypeClass.prototype=g(a.message.generic.base.Base.prototype,{__class__:a.message.generic.type.TypeClass});a.message.magic={};a.message.magic.type={};a.message.magic.type.Phase=f["nfuzion.message.magic.type.Phase"]={__ename__:["nfuzion","message",
"magic","type","Phase"],__constructs__:["start","change","end"]};a.message.magic.type.Phase.start=["start",0];a.message.magic.type.Phase.start.toString=q;a.message.magic.type.Phase.start.__enum__=a.message.magic.type.Phase;a.message.magic.type.Phase.change=["change",1];a.message.magic.type.Phase.change.toString=q;a.message.magic.type.Phase.change.__enum__=a.message.magic.type.Phase;a.message.magic.type.Phase.end=["end",2];a.message.magic.type.Phase.end.toString=q;a.message.magic.type.Phase.end.__enum__=
a.message.magic.type.Phase;a.message.media={};a.message.media.type={};a.message.media.type.ItemType=f["nfuzion.message.media.type.ItemType"]={__ename__:["nfuzion","message","media","type","ItemType"],__constructs__:"partition folder file category artist album genre composer track playlist audiobook chapter podcast episode".split(" ")};a.message.media.type.ItemType.partition=["partition",0];a.message.media.type.ItemType.partition.toString=q;a.message.media.type.ItemType.partition.__enum__=a.message.media.type.ItemType;
a.message.media.type.ItemType.folder=["folder",1];a.message.media.type.ItemType.folder.toString=q;a.message.media.type.ItemType.folder.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.file=["file",2];a.message.media.type.ItemType.file.toString=q;a.message.media.type.ItemType.file.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.category=["category",3];a.message.media.type.ItemType.category.toString=q;a.message.media.type.ItemType.category.__enum__=a.message.media.type.ItemType;
a.message.media.type.ItemType.artist=["artist",4];a.message.media.type.ItemType.artist.toString=q;a.message.media.type.ItemType.artist.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.album=["album",5];a.message.media.type.ItemType.album.toString=q;a.message.media.type.ItemType.album.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.genre=["genre",6];a.message.media.type.ItemType.genre.toString=q;a.message.media.type.ItemType.genre.__enum__=a.message.media.type.ItemType;
a.message.media.type.ItemType.composer=["composer",7];a.message.media.type.ItemType.composer.toString=q;a.message.media.type.ItemType.composer.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.track=["track",8];a.message.media.type.ItemType.track.toString=q;a.message.media.type.ItemType.track.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.playlist=["playlist",9];a.message.media.type.ItemType.playlist.toString=q;a.message.media.type.ItemType.playlist.__enum__=
a.message.media.type.ItemType;a.message.media.type.ItemType.audiobook=["audiobook",10];a.message.media.type.ItemType.audiobook.toString=q;a.message.media.type.ItemType.audiobook.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.chapter=["chapter",11];a.message.media.type.ItemType.chapter.toString=q;a.message.media.type.ItemType.chapter.__enum__=a.message.media.type.ItemType;a.message.media.type.ItemType.podcast=["podcast",12];a.message.media.type.ItemType.podcast.toString=q;a.message.media.type.ItemType.podcast.__enum__=
a.message.media.type.ItemType;a.message.media.type.ItemType.episode=["episode",13];a.message.media.type.ItemType.episode.toString=q;a.message.media.type.ItemType.episode.__enum__=a.message.media.type.ItemType;a.message.media.type.Item=function(b,c,d,e,k,f,g,h,l,m,n,p){a.message.generic.type.TypeClass.call(this);this.title=b;this.type=c;this.id=d;this.playable=e;this.artUrl=k;this.artFile=f;this.length=g;this.album=h;this.artist=l;this.genre=m;this.composer=n;this.albumTrackNumber=p};f["nfuzion.message.media.type.Item"]=
a.message.media.type.Item;a.message.media.type.Item.__name__=["nfuzion","message","media","type","Item"];a.message.media.type.Item.__super__=a.message.generic.type.TypeClass;a.message.media.type.Item.prototype=g(a.message.generic.type.TypeClass.prototype,{albumTrackNumber:null,composer:null,genre:null,artist:null,album:null,length:null,artFile:null,artUrl:null,playable:null,id:null,type:null,title:null,__class__:a.message.media.type.Item});a.message.media.templates={};a.message.media.templates.LetPartialMediaList=
function(b,c){a.message.generic.templates.Let.call(this);this.offset=b;this.data=c};f["nfuzion.message.media.templates.LetPartialMediaList"]=a.message.media.templates.LetPartialMediaList;a.message.media.templates.LetPartialMediaList.__name__=["nfuzion","message","media","templates","LetPartialMediaList"];a.message.media.templates.LetPartialMediaList.__super__=a.message.generic.templates.Let;a.message.media.templates.LetPartialMediaList.prototype=g(a.message.generic.templates.Let.prototype,{data:null,
offset:null,__class__:a.message.media.templates.LetPartialMediaList});a.message.navigation={};a.message.navigation.GetDistance=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetDistance"]=a.message.navigation.GetDistance;a.message.navigation.GetDistance.__name__=["nfuzion","message","navigation","GetDistance"];a.message.navigation.GetDistance.__super__=a.message.generic.templates.Get;a.message.navigation.GetDistance.prototype=g(a.message.generic.templates.Get.prototype,
{__class__:a.message.navigation.GetDistance});a.message.navigation.GetDistancePercentage=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetDistancePercentage"]=a.message.navigation.GetDistancePercentage;a.message.navigation.GetDistancePercentage.__name__=["nfuzion","message","navigation","GetDistancePercentage"];a.message.navigation.GetDistancePercentage.__super__=a.message.generic.templates.Get;a.message.navigation.GetDistancePercentage.prototype=g(a.message.generic.templates.Get.prototype,
{__class__:a.message.navigation.GetDistancePercentage});a.message.navigation.GetNextTurn=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetNextTurn"]=a.message.navigation.GetNextTurn;a.message.navigation.GetNextTurn.__name__=["nfuzion","message","navigation","GetNextTurn"];a.message.navigation.GetNextTurn.__super__=a.message.generic.templates.Get;a.message.navigation.GetNextTurn.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetNextTurn});
a.message.navigation.GetRoute=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.navigation.GetRoute"]=a.message.navigation.GetRoute;a.message.navigation.GetRoute.__name__=["nfuzion","message","navigation","GetRoute"];a.message.navigation.GetRoute.__super__=a.message.generic.templates.Get;a.message.navigation.GetRoute.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetRoute});a.message.navigation.GetWaypoints=function(){a.message.generic.templates.Get.call(this)};
f["nfuzion.message.navigation.GetWaypoints"]=a.message.navigation.GetWaypoints;a.message.navigation.GetWaypoints.__name__=["nfuzion","message","navigation","GetWaypoints"];a.message.navigation.GetWaypoints.__super__=a.message.generic.templates.Get;a.message.navigation.GetWaypoints.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.navigation.GetWaypoints});a.message.navigation.LetDestination=function(){a.message.generic.templates.Let.call(this)};f["nfuzion.message.navigation.LetDestination"]=
a.message.navigation.LetDestination;a.message.navigation.LetDestination.__name__=["nfuzion","message","navigation","LetDestination"];a.message.navigation.LetDestination.__super__=a.message.generic.templates.Let;a.message.navigation.LetDestination.prototype=g(a.message.generic.templates.Let.prototype,{__class__:a.message.navigation.LetDestination});a.message.navigation.LetDistance=function(b){a.message.generic.templates.LetFloat.call(this,b)};f["nfuzion.message.navigation.LetDistance"]=a.message.navigation.LetDistance;
a.message.navigation.LetDistance.__name__=["nfuzion","message","navigation","LetDistance"];a.message.navigation.LetDistance.__super__=a.message.generic.templates.LetFloat;a.message.navigation.LetDistance.prototype=g(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.navigation.LetDistance});a.message.navigation.LetDistancePercentage=function(b){a.message.generic.templates.LetFloat.call(this,b)};f["nfuzion.message.navigation.LetDistancePercentage"]=a.message.navigation.LetDistancePercentage;
a.message.navigation.LetDistancePercentage.__name__=["nfuzion","message","navigation","LetDistancePercentage"];a.message.navigation.LetDistancePercentage.__super__=a.message.generic.templates.LetFloat;a.message.navigation.LetDistancePercentage.prototype=g(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.navigation.LetDistancePercentage});a.message.navigation.type={};a.message.navigation.type.TargetType=f["nfuzion.message.navigation.type.TargetType"]={__ename__:["nfuzion","message",
"navigation","type","TargetType"],__constructs__:"left right bearLeft bearRight uturn destination continueAhead".split(" ")};a.message.navigation.type.TargetType.left=["left",0];a.message.navigation.type.TargetType.left.toString=q;a.message.navigation.type.TargetType.left.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.right=["right",1];a.message.navigation.type.TargetType.right.toString=q;a.message.navigation.type.TargetType.right.__enum__=a.message.navigation.type.TargetType;
a.message.navigation.type.TargetType.bearLeft=["bearLeft",2];a.message.navigation.type.TargetType.bearLeft.toString=q;a.message.navigation.type.TargetType.bearLeft.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.bearRight=["bearRight",3];a.message.navigation.type.TargetType.bearRight.toString=q;a.message.navigation.type.TargetType.bearRight.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.uturn=["uturn",4];a.message.navigation.type.TargetType.uturn.toString=
q;a.message.navigation.type.TargetType.uturn.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.destination=["destination",5];a.message.navigation.type.TargetType.destination.toString=q;a.message.navigation.type.TargetType.destination.__enum__=a.message.navigation.type.TargetType;a.message.navigation.type.TargetType.continueAhead=["continueAhead",6];a.message.navigation.type.TargetType.continueAhead.toString=q;a.message.navigation.type.TargetType.continueAhead.__enum__=
a.message.navigation.type.TargetType;a.message.navigation.type.StepData=function(b,c,d){null==c&&(c=0);a.message.generic.type.TypeClass.call(this);this.distance=c;this.street=d;this.target=b;this.destination=this.turn=null;this.isLastLeg=this.isLastStep=!1};f["nfuzion.message.navigation.type.StepData"]=a.message.navigation.type.StepData;a.message.navigation.type.StepData.__name__=["nfuzion","message","navigation","type","StepData"];a.message.navigation.type.StepData.__super__=a.message.generic.type.TypeClass;
a.message.navigation.type.StepData.prototype=g(a.message.generic.type.TypeClass.prototype,{isLastLeg:null,isLastStep:null,destination:null,street:null,target:null,turn:null,distance:null,__class__:a.message.navigation.type.StepData});a.message.navigation.LetNextTurn=function(b){a.message.generic.templates.Let.call(this);this.nextTurn=b};f["nfuzion.message.navigation.LetNextTurn"]=a.message.navigation.LetNextTurn;a.message.navigation.LetNextTurn.__name__=["nfuzion","message","navigation","LetNextTurn"];
a.message.navigation.LetNextTurn.__super__=a.message.generic.templates.Let;a.message.navigation.LetNextTurn.prototype=g(a.message.generic.templates.Let.prototype,{nextTurn:null,__class__:a.message.navigation.LetNextTurn});a.message.navigation.type.SerializablePoint=function(b,c){null==c&&(c=0);null==b&&(b=0);a.message.generic.type.TypeClass.call(this);this.x=b;this.y=c};f["nfuzion.message.navigation.type.SerializablePoint"]=a.message.navigation.type.SerializablePoint;a.message.navigation.type.SerializablePoint.__name__=
["nfuzion","message","navigation","type","SerializablePoint"];a.message.navigation.type.SerializablePoint.__super__=a.message.generic.type.TypeClass;a.message.navigation.type.SerializablePoint.prototype=g(a.message.generic.type.TypeClass.prototype,{y:null,x:null,__class__:a.message.navigation.type.SerializablePoint});a.message.navigation.type.TransitType=f["nfuzion.message.navigation.type.TransitType"]={__ename__:["nfuzion","message","navigation","type","TransitType"],__constructs__:["walking","driving"]};
a.message.navigation.type.TransitType.walking=["walking",0];a.message.navigation.type.TransitType.walking.toString=q;a.message.navigation.type.TransitType.walking.__enum__=a.message.navigation.type.TransitType;a.message.navigation.type.TransitType.driving=["driving",1];a.message.navigation.type.TransitType.driving.toString=q;a.message.navigation.type.TransitType.driving.__enum__=a.message.navigation.type.TransitType;a.message.navigation.type.Step=function(b,c,d,e,f,g){null==f&&(f="");null==b&&(b=
0);a.message.generic.type.TypeClass.call(this);this.distance=b;this.startingPoint=null==c?new a.message.navigation.type.SerializablePoint:c;this.endingPoint=null==d?new a.message.navigation.type.SerializablePoint:d;this.track=null==e?[]:e;this.text=f;this.type=null==g?a.message.navigation.type.TransitType.driving:g};f["nfuzion.message.navigation.type.Step"]=a.message.navigation.type.Step;a.message.navigation.type.Step.__name__=["nfuzion","message","navigation","type","Step"];a.message.navigation.type.Step.__super__=
a.message.generic.type.TypeClass;a.message.navigation.type.Step.prototype=g(a.message.generic.type.TypeClass.prototype,{type:null,text:null,track:null,endingPoint:null,startingPoint:null,distance:null,__class__:a.message.navigation.type.Step});a.message.navigation.type.Leg=function(b,c,d,e){null==b&&(b=0);a.message.generic.type.TypeClass.call(this);this.distance=b;this.startingPoint=null==c?new a.message.navigation.type.SerializablePoint:c;this.endingPoint=null==d?new a.message.navigation.type.SerializablePoint:
d;this.steps=null==e?[]:e};f["nfuzion.message.navigation.type.Leg"]=a.message.navigation.type.Leg;a.message.navigation.type.Leg.__name__=["nfuzion","message","navigation","type","Leg"];a.message.navigation.type.Leg.__super__=a.message.generic.type.TypeClass;a.message.navigation.type.Leg.prototype=g(a.message.generic.type.TypeClass.prototype,{steps:null,endingPoint:null,startingPoint:null,distance:null,__class__:a.message.navigation.type.Leg});a.message.navigation.type.Waypoint=function(b,c,d,e){null==
e&&(e=0);null==d&&(d=0);a.message.generic.type.TypeClass.call(this);this.name=b;this.address=c;this.x=d;this.y=e};f["nfuzion.message.navigation.type.Waypoint"]=a.message.navigation.type.Waypoint;a.message.navigation.type.Waypoint.__name__=["nfuzion","message","navigation","type","Waypoint"];a.message.navigation.type.Waypoint.__super__=a.message.generic.type.TypeClass;a.message.navigation.type.Waypoint.prototype=g(a.message.generic.type.TypeClass.prototype,{toString:function(){return 0<this.address.length?
this.address:m.string(this.x)+","+m.string(this.y)},y:null,x:null,address:null,name:null,__class__:a.message.navigation.type.Waypoint});a.message.navigation.type.Route=function(b,c,d){null==d&&(d=0);a.message.generic.type.TypeClass.call(this);this.markers=null==b?[]:b;this.legs=null==c?[]:c;this.distance=d};f["nfuzion.message.navigation.type.Route"]=a.message.navigation.type.Route;a.message.navigation.type.Route.__name__=["nfuzion","message","navigation","type","Route"];a.message.navigation.type.Route.__super__=
a.message.generic.type.TypeClass;a.message.navigation.type.Route.prototype=g(a.message.generic.type.TypeClass.prototype,{getTextDirections:function(){if(null==this.legs)return null;for(var a=[],c=0,d=this.legs;c<d.length;){var e=d[c];++c;for(var f=0,e=e.steps;f<e.length;){var g=e[f];++f;a.push(g.text)}}return a},addMarker:function(a){this.markers.push(a)},distance:null,legs:null,markers:null,__class__:a.message.navigation.type.Route});a.message.navigation.LetRoute=function(b){a.message.generic.templates.Let.call(this);
this.route=b};f["nfuzion.message.navigation.LetRoute"]=a.message.navigation.LetRoute;a.message.navigation.LetRoute.__name__=["nfuzion","message","navigation","LetRoute"];a.message.navigation.LetRoute.__super__=a.message.generic.templates.Let;a.message.navigation.LetRoute.prototype=g(a.message.generic.templates.Let.prototype,{route:null,__class__:a.message.navigation.LetRoute});a.message.navigation.LetWaypoints=function(b){a.message.generic.templates.Let.call(this);this.waypoints=b};f["nfuzion.message.navigation.LetWaypoints"]=
a.message.navigation.LetWaypoints;a.message.navigation.LetWaypoints.__name__=["nfuzion","message","navigation","LetWaypoints"];a.message.navigation.LetWaypoints.__super__=a.message.generic.templates.Let;a.message.navigation.LetWaypoints.prototype=g(a.message.generic.templates.Let.prototype,{waypoints:null,__class__:a.message.navigation.LetWaypoints});a.message.navigation.SetAddWaypoint=function(b){a.message.generic.templates.Set.call(this);this.waypoint=b};f["nfuzion.message.navigation.SetAddWaypoint"]=
a.message.navigation.SetAddWaypoint;a.message.navigation.SetAddWaypoint.__name__=["nfuzion","message","navigation","SetAddWaypoint"];a.message.navigation.SetAddWaypoint.__super__=a.message.generic.templates.Set;a.message.navigation.SetAddWaypoint.prototype=g(a.message.generic.templates.Set.prototype,{waypoint:null,__class__:a.message.navigation.SetAddWaypoint});a.message.navigation.SetCancel=function(){a.message.generic.templates.Set.call(this)};f["nfuzion.message.navigation.SetCancel"]=a.message.navigation.SetCancel;
a.message.navigation.SetCancel.__name__=["nfuzion","message","navigation","SetCancel"];a.message.navigation.SetCancel.__super__=a.message.generic.templates.Set;a.message.navigation.SetCancel.prototype=g(a.message.generic.templates.Set.prototype,{__class__:a.message.navigation.SetCancel});a.message.navigation.SetClearRoute=function(){a.message.generic.templates.Set.call(this)};f["nfuzion.message.navigation.SetClearRoute"]=a.message.navigation.SetClearRoute;a.message.navigation.SetClearRoute.__name__=
["nfuzion","message","navigation","SetClearRoute"];a.message.navigation.SetClearRoute.__super__=a.message.generic.templates.Set;a.message.navigation.SetClearRoute.prototype=g(a.message.generic.templates.Set.prototype,{__class__:a.message.navigation.SetClearRoute});a.message.navigation.SetEndByAddress=function(b){a.message.generic.templates.SetString.call(this,b)};f["nfuzion.message.navigation.SetEndByAddress"]=a.message.navigation.SetEndByAddress;a.message.navigation.SetEndByAddress.__name__=["nfuzion",
"message","navigation","SetEndByAddress"];a.message.navigation.SetEndByAddress.__super__=a.message.generic.templates.SetString;a.message.navigation.SetEndByAddress.prototype=g(a.message.generic.templates.SetString.prototype,{__class__:a.message.navigation.SetEndByAddress});a.message.navigation.SetEndByPoint=function(b,c){a.message.generic.templates.Set.call(this);this.x=b;this.y=c};f["nfuzion.message.navigation.SetEndByPoint"]=a.message.navigation.SetEndByPoint;a.message.navigation.SetEndByPoint.__name__=
["nfuzion","message","navigation","SetEndByPoint"];a.message.navigation.SetEndByPoint.__super__=a.message.generic.templates.Set;a.message.navigation.SetEndByPoint.prototype=g(a.message.generic.templates.Set.prototype,{y:null,x:null,__class__:a.message.navigation.SetEndByPoint});a.message.navigation.SetInsertWaypoint=function(b,c){a.message.generic.templates.Set.call(this);this.index=b;this.waypoint=c};f["nfuzion.message.navigation.SetInsertWaypoint"]=a.message.navigation.SetInsertWaypoint;a.message.navigation.SetInsertWaypoint.__name__=
["nfuzion","message","navigation","SetInsertWaypoint"];a.message.navigation.SetInsertWaypoint.__super__=a.message.generic.templates.Set;a.message.navigation.SetInsertWaypoint.prototype=g(a.message.generic.templates.Set.prototype,{waypoint:null,index:null,__class__:a.message.navigation.SetInsertWaypoint});a.message.navigation.SetRemoveWaypoint=function(b){a.message.generic.templates.Set.call(this);this.index=b};f["nfuzion.message.navigation.SetRemoveWaypoint"]=a.message.navigation.SetRemoveWaypoint;
a.message.navigation.SetRemoveWaypoint.__name__=["nfuzion","message","navigation","SetRemoveWaypoint"];a.message.navigation.SetRemoveWaypoint.__super__=a.message.generic.templates.Set;a.message.navigation.SetRemoveWaypoint.prototype=g(a.message.generic.templates.Set.prototype,{index:null,__class__:a.message.navigation.SetRemoveWaypoint});a.message.navigation.SetRequestNewRoute=function(b){a.message.generic.templates.Set.call(this);this.type=b};f["nfuzion.message.navigation.SetRequestNewRoute"]=a.message.navigation.SetRequestNewRoute;
a.message.navigation.SetRequestNewRoute.__name__=["nfuzion","message","navigation","SetRequestNewRoute"];a.message.navigation.SetRequestNewRoute.__super__=a.message.generic.templates.Set;a.message.navigation.SetRequestNewRoute.prototype=g(a.message.generic.templates.Set.prototype,{type:null,__class__:a.message.navigation.SetRequestNewRoute});a.message.navigation.SetStartByAddress=function(b){a.message.generic.templates.SetString.call(this,b)};f["nfuzion.message.navigation.SetStartByAddress"]=a.message.navigation.SetStartByAddress;
a.message.navigation.SetStartByAddress.__name__=["nfuzion","message","navigation","SetStartByAddress"];a.message.navigation.SetStartByAddress.__super__=a.message.generic.templates.SetString;a.message.navigation.SetStartByAddress.prototype=g(a.message.generic.templates.SetString.prototype,{__class__:a.message.navigation.SetStartByAddress});a.message.navigation.SetStartByPoint=function(b,c){a.message.generic.templates.Set.call(this);this.x=b;this.y=c};f["nfuzion.message.navigation.SetStartByPoint"]=
a.message.navigation.SetStartByPoint;a.message.navigation.SetStartByPoint.__name__=["nfuzion","message","navigation","SetStartByPoint"];a.message.navigation.SetStartByPoint.__super__=a.message.generic.templates.Set;a.message.navigation.SetStartByPoint.prototype=g(a.message.generic.templates.Set.prototype,{y:null,x:null,__class__:a.message.navigation.SetStartByPoint});a.message.navigation.SetWaypoints=function(b){a.message.generic.templates.Set.call(this);this.waypoints=b};f["nfuzion.message.navigation.SetWaypoints"]=
a.message.navigation.SetWaypoints;a.message.navigation.SetWaypoints.__name__=["nfuzion","message","navigation","SetWaypoints"];a.message.navigation.SetWaypoints.__super__=a.message.generic.templates.Set;a.message.navigation.SetWaypoints.prototype=g(a.message.generic.templates.Set.prototype,{waypoints:null,__class__:a.message.navigation.SetWaypoints});a.message.span={};a.message.span.LetClientMetadata=function(b,c,d){null==d&&(d=!0);a.message.generic.templates.Let.call(this);this.name=b;this.clientCatagory=
c;this.echo=d};f["nfuzion.message.span.LetClientMetadata"]=a.message.span.LetClientMetadata;a.message.span.LetClientMetadata.__name__=["nfuzion","message","span","LetClientMetadata"];a.message.span.LetClientMetadata.__super__=a.message.generic.templates.Let;a.message.span.LetClientMetadata.prototype=g(a.message.generic.templates.Let.prototype,{echo:null,clientCatagory:null,name:null,__class__:a.message.span.LetClientMetadata});a.message.test={};a.message.test.type={};a.message.test.type.Type=function(b){a.message.generic.type.TypeClass.call(this);
this.test=b};f["nfuzion.message.test.type.Type"]=a.message.test.type.Type;a.message.test.type.Type.__name__=["nfuzion","message","test","type","Type"];a.message.test.type.Type.__super__=a.message.generic.type.TypeClass;a.message.test.type.Type.prototype=g(a.message.generic.type.TypeClass.prototype,{test:null,__class__:a.message.test.type.Type});a.message.test.type.Enum=f["nfuzion.message.test.type.Enum"]={__ename__:["nfuzion","message","test","type","Enum"],__constructs__:["alpha","bravo","charlie",
"delta"]};a.message.test.type.Enum.alpha=["alpha",0];a.message.test.type.Enum.alpha.toString=q;a.message.test.type.Enum.alpha.__enum__=a.message.test.type.Enum;a.message.test.type.Enum.bravo=["bravo",1];a.message.test.type.Enum.bravo.toString=q;a.message.test.type.Enum.bravo.__enum__=a.message.test.type.Enum;a.message.test.type.Enum.charlie=["charlie",2];a.message.test.type.Enum.charlie.toString=q;a.message.test.type.Enum.charlie.__enum__=a.message.test.type.Enum;a.message.test.type.Enum.delta=["delta",
3];a.message.test.type.Enum.delta.toString=q;a.message.test.type.Enum.delta.__enum__=a.message.test.type.Enum;a.message.test.LetTest=function(b,c,d,e,f,g,h){a.message.generic.templates.Let.call(this);this.a=b;this.b=c;this.c=d;this.d=e;this.e=f;this.f=g;this.g=h};f["nfuzion.message.test.LetTest"]=a.message.test.LetTest;a.message.test.LetTest.__name__=["nfuzion","message","test","LetTest"];a.message.test.LetTest.__super__=a.message.generic.templates.Let;a.message.test.LetTest.prototype=g(a.message.generic.templates.Let.prototype,
{g:null,f:null,e:null,d:null,c:null,b:null,a:null,__class__:a.message.test.LetTest});a.message.vehicle={};a.message.vehicle.GetABS=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetABS"]=a.message.vehicle.GetABS;a.message.vehicle.GetABS.__name__=["nfuzion","message","vehicle","GetABS"];a.message.vehicle.GetABS.__super__=a.message.generic.templates.Get;a.message.vehicle.GetABS.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetABS});
a.message.vehicle.GetAirbag=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetAirbag"]=a.message.vehicle.GetAirbag;a.message.vehicle.GetAirbag.__name__=["nfuzion","message","vehicle","GetAirbag"];a.message.vehicle.GetAirbag.__super__=a.message.generic.templates.Get;a.message.vehicle.GetAirbag.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetAirbag});a.message.vehicle.GetBattery=function(){a.message.generic.templates.Get.call(this)};
f["nfuzion.message.vehicle.GetBattery"]=a.message.vehicle.GetBattery;a.message.vehicle.GetBattery.__name__=["nfuzion","message","vehicle","GetBattery"];a.message.vehicle.GetBattery.__super__=a.message.generic.templates.Get;a.message.vehicle.GetBattery.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetBattery});a.message.vehicle.GetDistanceToEmpty=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetDistanceToEmpty"]=a.message.vehicle.GetDistanceToEmpty;
a.message.vehicle.GetDistanceToEmpty.__name__=["nfuzion","message","vehicle","GetDistanceToEmpty"];a.message.vehicle.GetDistanceToEmpty.__super__=a.message.generic.templates.Get;a.message.vehicle.GetDistanceToEmpty.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetDistanceToEmpty});a.message.vehicle.GetDriverDoorOpen=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetDriverDoorOpen"]=a.message.vehicle.GetDriverDoorOpen;a.message.vehicle.GetDriverDoorOpen.__name__=
["nfuzion","message","vehicle","GetDriverDoorOpen"];a.message.vehicle.GetDriverDoorOpen.__super__=a.message.generic.templates.Get;a.message.vehicle.GetDriverDoorOpen.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetDriverDoorOpen});a.message.vehicle.GetDriverSeated=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetDriverSeated"]=a.message.vehicle.GetDriverSeated;a.message.vehicle.GetDriverSeated.__name__=["nfuzion","message",
"vehicle","GetDriverSeated"];a.message.vehicle.GetDriverSeated.__super__=a.message.generic.templates.Get;a.message.vehicle.GetDriverSeated.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetDriverSeated});a.message.vehicle.GetEmergencyBrake=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetEmergencyBrake"]=a.message.vehicle.GetEmergencyBrake;a.message.vehicle.GetEmergencyBrake.__name__=["nfuzion","message","vehicle","GetEmergencyBrake"];
a.message.vehicle.GetEmergencyBrake.__super__=a.message.generic.templates.Get;a.message.vehicle.GetEmergencyBrake.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetEmergencyBrake});a.message.vehicle.GetFuel=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetFuel"]=a.message.vehicle.GetFuel;a.message.vehicle.GetFuel.__name__=["nfuzion","message","vehicle","GetFuel"];a.message.vehicle.GetFuel.__super__=a.message.generic.templates.Get;
a.message.vehicle.GetFuel.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetFuel});a.message.vehicle.GetHighBeam=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetHighBeam"]=a.message.vehicle.GetHighBeam;a.message.vehicle.GetHighBeam.__name__=["nfuzion","message","vehicle","GetHighBeam"];a.message.vehicle.GetHighBeam.__super__=a.message.generic.templates.Get;a.message.vehicle.GetHighBeam.prototype=g(a.message.generic.templates.Get.prototype,
{__class__:a.message.vehicle.GetHighBeam});a.message.vehicle.GetLocked=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetLocked"]=a.message.vehicle.GetLocked;a.message.vehicle.GetLocked.__name__=["nfuzion","message","vehicle","GetLocked"];a.message.vehicle.GetLocked.__super__=a.message.generic.templates.Get;a.message.vehicle.GetLocked.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetLocked});a.message.vehicle.GetOdometer=function(){a.message.generic.templates.Get.call(this)};
f["nfuzion.message.vehicle.GetOdometer"]=a.message.vehicle.GetOdometer;a.message.vehicle.GetOdometer.__name__=["nfuzion","message","vehicle","GetOdometer"];a.message.vehicle.GetOdometer.__super__=a.message.generic.templates.Get;a.message.vehicle.GetOdometer.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetOdometer});a.message.vehicle.GetOil=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetOil"]=a.message.vehicle.GetOil;a.message.vehicle.GetOil.__name__=
["nfuzion","message","vehicle","GetOil"];a.message.vehicle.GetOil.__super__=a.message.generic.templates.Get;a.message.vehicle.GetOil.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetOil});a.message.vehicle.GetSeatBelt=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetSeatBelt"]=a.message.vehicle.GetSeatBelt;a.message.vehicle.GetSeatBelt.__name__=["nfuzion","message","vehicle","GetSeatBelt"];a.message.vehicle.GetSeatBelt.__super__=
a.message.generic.templates.Get;a.message.vehicle.GetSeatBelt.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetSeatBelt});a.message.vehicle.GetSpeed=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetSpeed"]=a.message.vehicle.GetSpeed;a.message.vehicle.GetSpeed.__name__=["nfuzion","message","vehicle","GetSpeed"];a.message.vehicle.GetSpeed.__super__=a.message.generic.templates.Get;a.message.vehicle.GetSpeed.prototype=g(a.message.generic.templates.Get.prototype,
{__class__:a.message.vehicle.GetSpeed});a.message.vehicle.GetStarted=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetStarted"]=a.message.vehicle.GetStarted;a.message.vehicle.GetStarted.__name__=["nfuzion","message","vehicle","GetStarted"];a.message.vehicle.GetStarted.__super__=a.message.generic.templates.Get;a.message.vehicle.GetStarted.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetStarted});a.message.vehicle.GetTractionControl=
function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetTractionControl"]=a.message.vehicle.GetTractionControl;a.message.vehicle.GetTractionControl.__name__=["nfuzion","message","vehicle","GetTractionControl"];a.message.vehicle.GetTractionControl.__super__=a.message.generic.templates.Get;a.message.vehicle.GetTractionControl.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetTractionControl});a.message.vehicle.GetTransmission=function(){a.message.generic.templates.Get.call(this)};
f["nfuzion.message.vehicle.GetTransmission"]=a.message.vehicle.GetTransmission;a.message.vehicle.GetTransmission.__name__=["nfuzion","message","vehicle","GetTransmission"];a.message.vehicle.GetTransmission.__super__=a.message.generic.templates.Get;a.message.vehicle.GetTransmission.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetTransmission});a.message.vehicle.GetTurnSignal=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetTurnSignal"]=
a.message.vehicle.GetTurnSignal;a.message.vehicle.GetTurnSignal.__name__=["nfuzion","message","vehicle","GetTurnSignal"];a.message.vehicle.GetTurnSignal.__super__=a.message.generic.templates.Get;a.message.vehicle.GetTurnSignal.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetTurnSignal});a.message.vehicle.GetWaterTemperature=function(){a.message.generic.templates.Get.call(this)};f["nfuzion.message.vehicle.GetWaterTemperature"]=a.message.vehicle.GetWaterTemperature;
a.message.vehicle.GetWaterTemperature.__name__=["nfuzion","message","vehicle","GetWaterTemperature"];a.message.vehicle.GetWaterTemperature.__super__=a.message.generic.templates.Get;a.message.vehicle.GetWaterTemperature.prototype=g(a.message.generic.templates.Get.prototype,{__class__:a.message.vehicle.GetWaterTemperature});a.message.vehicle.LetABS=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetABS"]=a.message.vehicle.LetABS;a.message.vehicle.LetABS.__name__=
["nfuzion","message","vehicle","LetABS"];a.message.vehicle.LetABS.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetABS.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetABS});a.message.vehicle.LetAirbag=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetAirbag"]=a.message.vehicle.LetAirbag;a.message.vehicle.LetAirbag.__name__=["nfuzion","message","vehicle","LetAirbag"];a.message.vehicle.LetAirbag.__super__=
a.message.generic.templates.LetBool;a.message.vehicle.LetAirbag.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetAirbag});a.message.vehicle.LetBattery=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetBattery"]=a.message.vehicle.LetBattery;a.message.vehicle.LetBattery.__name__=["nfuzion","message","vehicle","LetBattery"];a.message.vehicle.LetBattery.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetBattery.prototype=
g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetBattery});a.message.vehicle.LetDistanceToEmpty=function(b){a.message.generic.templates.LetFloat.call(this,b)};f["nfuzion.message.vehicle.LetDistanceToEmpty"]=a.message.vehicle.LetDistanceToEmpty;a.message.vehicle.LetDistanceToEmpty.__name__=["nfuzion","message","vehicle","LetDistanceToEmpty"];a.message.vehicle.LetDistanceToEmpty.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetDistanceToEmpty.prototype=
g(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetDistanceToEmpty});a.message.vehicle.LetDriverDoorOpen=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetDriverDoorOpen"]=a.message.vehicle.LetDriverDoorOpen;a.message.vehicle.LetDriverDoorOpen.__name__=["nfuzion","message","vehicle","LetDriverDoorOpen"];a.message.vehicle.LetDriverDoorOpen.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetDriverDoorOpen.prototype=
g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetDriverDoorOpen});a.message.vehicle.LetDriverSeated=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetDriverSeated"]=a.message.vehicle.LetDriverSeated;a.message.vehicle.LetDriverSeated.__name__=["nfuzion","message","vehicle","LetDriverSeated"];a.message.vehicle.LetDriverSeated.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetDriverSeated.prototype=g(a.message.generic.templates.LetBool.prototype,
{__class__:a.message.vehicle.LetDriverSeated});a.message.vehicle.LetEmergencyBrake=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetEmergencyBrake"]=a.message.vehicle.LetEmergencyBrake;a.message.vehicle.LetEmergencyBrake.__name__=["nfuzion","message","vehicle","LetEmergencyBrake"];a.message.vehicle.LetEmergencyBrake.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetEmergencyBrake.prototype=g(a.message.generic.templates.LetBool.prototype,
{__class__:a.message.vehicle.LetEmergencyBrake});a.message.vehicle.LetFuel=function(b){a.message.generic.templates.LetFloat.call(this,b)};f["nfuzion.message.vehicle.LetFuel"]=a.message.vehicle.LetFuel;a.message.vehicle.LetFuel.__name__=["nfuzion","message","vehicle","LetFuel"];a.message.vehicle.LetFuel.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetFuel.prototype=g(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetFuel});a.message.vehicle.LetHighBeam=
function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetHighBeam"]=a.message.vehicle.LetHighBeam;a.message.vehicle.LetHighBeam.__name__=["nfuzion","message","vehicle","LetHighBeam"];a.message.vehicle.LetHighBeam.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetHighBeam.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetHighBeam});a.message.vehicle.LetLocked=function(b){a.message.generic.templates.LetBool.call(this,
b)};f["nfuzion.message.vehicle.LetLocked"]=a.message.vehicle.LetLocked;a.message.vehicle.LetLocked.__name__=["nfuzion","message","vehicle","LetLocked"];a.message.vehicle.LetLocked.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetLocked.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetLocked});a.message.vehicle.LetOdometer=function(b){a.message.generic.templates.LetFloat.call(this,b)};f["nfuzion.message.vehicle.LetOdometer"]=a.message.vehicle.LetOdometer;
a.message.vehicle.LetOdometer.__name__=["nfuzion","message","vehicle","LetOdometer"];a.message.vehicle.LetOdometer.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetOdometer.prototype=g(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetOdometer});a.message.vehicle.LetOil=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetOil"]=a.message.vehicle.LetOil;a.message.vehicle.LetOil.__name__=["nfuzion","message","vehicle",
"LetOil"];a.message.vehicle.LetOil.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetOil.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetOil});a.message.vehicle.LetSeatBelt=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetSeatBelt"]=a.message.vehicle.LetSeatBelt;a.message.vehicle.LetSeatBelt.__name__=["nfuzion","message","vehicle","LetSeatBelt"];a.message.vehicle.LetSeatBelt.__super__=a.message.generic.templates.LetBool;
a.message.vehicle.LetSeatBelt.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetSeatBelt});a.message.vehicle.LetSpeed=function(b){a.message.generic.templates.LetFloat.call(this,b)};f["nfuzion.message.vehicle.LetSpeed"]=a.message.vehicle.LetSpeed;a.message.vehicle.LetSpeed.__name__=["nfuzion","message","vehicle","LetSpeed"];a.message.vehicle.LetSpeed.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetSpeed.prototype=g(a.message.generic.templates.LetFloat.prototype,
{__class__:a.message.vehicle.LetSpeed});a.message.vehicle.LetStarted=function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetStarted"]=a.message.vehicle.LetStarted;a.message.vehicle.LetStarted.__name__=["nfuzion","message","vehicle","LetStarted"];a.message.vehicle.LetStarted.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetStarted.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetStarted});a.message.vehicle.LetTractionControl=
function(b){a.message.generic.templates.LetBool.call(this,b)};f["nfuzion.message.vehicle.LetTractionControl"]=a.message.vehicle.LetTractionControl;a.message.vehicle.LetTractionControl.__name__=["nfuzion","message","vehicle","LetTractionControl"];a.message.vehicle.LetTractionControl.__super__=a.message.generic.templates.LetBool;a.message.vehicle.LetTractionControl.prototype=g(a.message.generic.templates.LetBool.prototype,{__class__:a.message.vehicle.LetTractionControl});a.message.vehicle.type={};a.message.vehicle.type.TransmissionState=
f["nfuzion.message.vehicle.type.TransmissionState"]={__ename__:["nfuzion","message","vehicle","type","TransmissionState"],__constructs__:"park reverse nuetral overdrive drive low2 low1".split(" ")};a.message.vehicle.type.TransmissionState.park=["park",0];a.message.vehicle.type.TransmissionState.park.toString=q;a.message.vehicle.type.TransmissionState.park.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.reverse=["reverse",1];a.message.vehicle.type.TransmissionState.reverse.toString=
q;a.message.vehicle.type.TransmissionState.reverse.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.nuetral=["nuetral",2];a.message.vehicle.type.TransmissionState.nuetral.toString=q;a.message.vehicle.type.TransmissionState.nuetral.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.overdrive=["overdrive",3];a.message.vehicle.type.TransmissionState.overdrive.toString=q;a.message.vehicle.type.TransmissionState.overdrive.__enum__=
a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.drive=["drive",4];a.message.vehicle.type.TransmissionState.drive.toString=q;a.message.vehicle.type.TransmissionState.drive.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.low2=["low2",5];a.message.vehicle.type.TransmissionState.low2.toString=q;a.message.vehicle.type.TransmissionState.low2.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.type.TransmissionState.low1=
["low1",6];a.message.vehicle.type.TransmissionState.low1.toString=q;a.message.vehicle.type.TransmissionState.low1.__enum__=a.message.vehicle.type.TransmissionState;a.message.vehicle.LetTransmission=function(b){a.message.generic.templates.Let.call(this);this.state=b};f["nfuzion.message.vehicle.LetTransmission"]=a.message.vehicle.LetTransmission;a.message.vehicle.LetTransmission.__name__=["nfuzion","message","vehicle","LetTransmission"];a.message.vehicle.LetTransmission.__super__=a.message.generic.templates.Let;
a.message.vehicle.LetTransmission.prototype=g(a.message.generic.templates.Let.prototype,{state:null,__class__:a.message.vehicle.LetTransmission});a.message.vehicle.type.TurnSignalState=f["nfuzion.message.vehicle.type.TurnSignalState"]={__ename__:["nfuzion","message","vehicle","type","TurnSignalState"],__constructs__:["none","left","right","both"]};a.message.vehicle.type.TurnSignalState.none=["none",0];a.message.vehicle.type.TurnSignalState.none.toString=q;a.message.vehicle.type.TurnSignalState.none.__enum__=
a.message.vehicle.type.TurnSignalState;a.message.vehicle.type.TurnSignalState.left=["left",1];a.message.vehicle.type.TurnSignalState.left.toString=q;a.message.vehicle.type.TurnSignalState.left.__enum__=a.message.vehicle.type.TurnSignalState;a.message.vehicle.type.TurnSignalState.right=["right",2];a.message.vehicle.type.TurnSignalState.right.toString=q;a.message.vehicle.type.TurnSignalState.right.__enum__=a.message.vehicle.type.TurnSignalState;a.message.vehicle.type.TurnSignalState.both=["both",3];
a.message.vehicle.type.TurnSignalState.both.toString=q;a.message.vehicle.type.TurnSignalState.both.__enum__=a.message.vehicle.type.TurnSignalState;a.message.vehicle.LetTurnSignal=function(b){a.message.generic.templates.Let.call(this);this.state=b};f["nfuzion.message.vehicle.LetTurnSignal"]=a.message.vehicle.LetTurnSignal;a.message.vehicle.LetTurnSignal.__name__=["nfuzion","message","vehicle","LetTurnSignal"];a.message.vehicle.LetTurnSignal.__super__=a.message.generic.templates.Let;a.message.vehicle.LetTurnSignal.prototype=
g(a.message.generic.templates.Let.prototype,{state:null,__class__:a.message.vehicle.LetTurnSignal});a.message.vehicle.LetWaterTemperature=function(b){a.message.generic.templates.LetFloat.call(this,b)};f["nfuzion.message.vehicle.LetWaterTemperature"]=a.message.vehicle.LetWaterTemperature;a.message.vehicle.LetWaterTemperature.__name__=["nfuzion","message","vehicle","LetWaterTemperature"];a.message.vehicle.LetWaterTemperature.__super__=a.message.generic.templates.LetFloat;a.message.vehicle.LetWaterTemperature.prototype=
g(a.message.generic.templates.LetFloat.prototype,{__class__:a.message.vehicle.LetWaterTemperature});a.message.vehicle.SetHonk=function(b){a.message.generic.templates.SetFloat.call(this,b)};f["nfuzion.message.vehicle.SetHonk"]=a.message.vehicle.SetHonk;a.message.vehicle.SetHonk.__name__=["nfuzion","message","vehicle","SetHonk"];a.message.vehicle.SetHonk.__super__=a.message.generic.templates.SetFloat;a.message.vehicle.SetHonk.prototype=g(a.message.generic.templates.SetFloat.prototype,{__class__:a.message.vehicle.SetHonk});
a.message.vehicle.SetLocked=function(b){a.message.generic.templates.SetBool.call(this,b)};f["nfuzion.message.vehicle.SetLocked"]=a.message.vehicle.SetLocked;a.message.vehicle.SetLocked.__name__=["nfuzion","message","vehicle","SetLocked"];a.message.vehicle.SetLocked.__super__=a.message.generic.templates.SetBool;a.message.vehicle.SetLocked.prototype=g(a.message.generic.templates.SetBool.prototype,{__class__:a.message.vehicle.SetLocked});a.moduleLink={};a.moduleLink.IModuleLink=function(){};f["nfuzion.moduleLink.IModuleLink"]=
a.moduleLink.IModuleLink;a.moduleLink.IModuleLink.__name__=["nfuzion","moduleLink","IModuleLink"];a.moduleLink.IModuleLink.__interfaces__=[a.event.IEventDispatcher];a.moduleLink.IModuleLink.prototype={ready:null,__class__:a.moduleLink.IModuleLink};a.moduleLink.ModuleLink=function(){a.event.EventDispatcher.call(this)};f["nfuzion.moduleLink.ModuleLink"]=a.moduleLink.ModuleLink;a.moduleLink.ModuleLink.__name__=["nfuzion","moduleLink","ModuleLink"];a.moduleLink.ModuleLink.__interfaces__=[a.moduleLink.IModuleLink];
a.moduleLink.ModuleLink.__super__=a.event.EventDispatcher;a.moduleLink.ModuleLink.prototype=g(a.event.EventDispatcher.prototype,{ready:null,__class__:a.moduleLink.ModuleLink});a.moduleLink.ClientModuleLink=function(b,c){a.moduleLink.ModuleLink.call(this);this.name=c;this.client=b;(this.ready=b.get_connected())&&this.dispatchEvent(new a.moduleLink.event.ModuleLinkEvent("ready",this));b.addMessageListener(c,h(this,this.onClientMessage));b.addEventListener("SpanClientEvent.connect",h(this,this.onClientConnect));
b.addEventListener("SpanClientEvent.disconnect",h(this,this.onClientDisconnect))};f["nfuzion.moduleLink.ClientModuleLink"]=a.moduleLink.ClientModuleLink;a.moduleLink.ClientModuleLink.__name__=["nfuzion","moduleLink","ClientModuleLink"];a.moduleLink.ClientModuleLink.__super__=a.moduleLink.ModuleLink;a.moduleLink.ClientModuleLink.prototype=g(a.moduleLink.ModuleLink.prototype,{onClientMessage:function(a){var c=a.className;a=a.message;0==c.indexOf("Let")&&(c="on"+c,A.has(s.getInstanceFields(s.getClass(this)),
c)?w.field(this,c).apply(this,[a]):l.Log.trace("Function "+c+" not implemented.",{fileName:"ClientModuleLink.hx",lineNumber:72,className:"nfuzion.moduleLink.ClientModuleLink",methodName:"onClientMessage"}))},sendMessage:function(a){this.client.send(a)},onClientDisconnect:function(b){this.ready=!1;this.dispatchEvent(new a.moduleLink.event.ModuleLinkEvent("ready",this))},onClientConnect:function(b){this.ready=!0;this.dispatchEvent(new a.moduleLink.event.ModuleLinkEvent("ready",this))},get_messageTypes:function(){return[this.name]},
messageTypes:null,client:null,name:null,__class__:a.moduleLink.ClientModuleLink,__properties__:{get_messageTypes:"get_messageTypes"}});a.moduleLink.IChime=function(){};f["nfuzion.moduleLink.IChime"]=a.moduleLink.IChime;a.moduleLink.IChime.__name__=["nfuzion","moduleLink","IChime"];a.moduleLink.IChime.__interfaces__=[a.moduleLink.IModuleLink];a.moduleLink.IChime.prototype={getChime:null,setChime:null,__class__:a.moduleLink.IChime};a.moduleLink.ChimeProxy=function(b){a.moduleLink.ClientModuleLink.call(this,
b,"chime")};f["nfuzion.moduleLink.ChimeProxy"]=a.moduleLink.ChimeProxy;a.moduleLink.ChimeProxy.__name__=["nfuzion","moduleLink","ChimeProxy"];a.moduleLink.ChimeProxy.__interfaces__=[a.moduleLink.IChime];a.moduleLink.ChimeProxy.__super__=a.moduleLink.ClientModuleLink;a.moduleLink.ChimeProxy.prototype=g(a.moduleLink.ClientModuleLink.prototype,{getChime:function(){},setChime:function(b,c){null==c&&(c=1);this.sendMessage(new a.message.chime.SetChime(b,c))},__class__:a.moduleLink.ChimeProxy});a.moduleLink.INavigation=
function(){};f["nfuzion.moduleLink.INavigation"]=a.moduleLink.INavigation;a.moduleLink.INavigation.__name__=["nfuzion","moduleLink","INavigation"];a.moduleLink.INavigation.__interfaces__=[a.moduleLink.IModuleLink];a.moduleLink.INavigation.prototype={cancelNavigation:null,requestNewRoute:null,removeWaypoint:null,insertWaypoint:null,addWaypoint:null,setEndByAddress:null,setEndByPoint:null,setStartByAddress:null,setStartByPoint:null,clearRoute:null,getWaypoints:null,waypoints:null,getNextTurn:null,nextTurn:null,
getRoute:null,route:null,getDistancePercentage:null,distancePercentage:null,getDistance:null,distance:null,__class__:a.moduleLink.INavigation};a.moduleLink.IVehicle=function(){};f["nfuzion.moduleLink.IVehicle"]=a.moduleLink.IVehicle;a.moduleLink.IVehicle.__name__=["nfuzion","moduleLink","IVehicle"];a.moduleLink.IVehicle.__interfaces__=[a.moduleLink.IModuleLink];a.moduleLink.IVehicle.prototype={getWaterTemperature:null,waterTemperature:null,getTurnSignal:null,turnSignal:null,getTransmission:null,transmission:null,
getTractionControl:null,tractionControl:null,getSpeed:null,speed:null,getSeatBelt:null,seatBelt:null,getOil:null,oil:null,getOdometer:null,odometer:null,getHighBeam:null,highBeam:null,getFuel:null,fuel:null,getEmergencyBrake:null,emergencyBrake:null,getDistanceToEmpty:null,distanceToEmpty:null,getBattery:null,battery:null,getAirBag:null,airBag:null,getABS:null,abs:null,setHonk:null,setLocked:null,getLocked:null,locked:null,getStarted:null,started:null,getDriverSeated:null,driverSeated:null,getDriverDoorOpen:null,
driverDoorOpen:null,__class__:a.moduleLink.IVehicle};a.moduleLink.IWindow=function(){};f["nfuzion.moduleLink.IWindow"]=a.moduleLink.IWindow;a.moduleLink.IWindow.__name__=["nfuzion","moduleLink","IWindow"];a.moduleLink.IWindow.__interfaces__=[a.moduleLink.IModuleLink];a.moduleLink.IWindow.prototype={BringToFront:null,__class__:a.moduleLink.IWindow};a.moduleLink.NavigationProxy=function(b){a.moduleLink.ClientModuleLink.call(this,b,"navigation")};f["nfuzion.moduleLink.NavigationProxy"]=a.moduleLink.NavigationProxy;
a.moduleLink.NavigationProxy.__name__=["nfuzion","moduleLink","NavigationProxy"];a.moduleLink.NavigationProxy.__interfaces__=[a.moduleLink.INavigation];a.moduleLink.NavigationProxy.__super__=a.moduleLink.ClientModuleLink;a.moduleLink.NavigationProxy.prototype=g(a.moduleLink.ClientModuleLink.prototype,{cancelNavigation:function(){this.sendMessage(new a.message.navigation.SetCancel)},requestNewRoute:function(b){this.sendMessage(new a.message.navigation.SetRequestNewRoute(b))},removeWaypoint:function(b){this.sendMessage(new a.message.navigation.SetRemoveWaypoint(b))},
insertWaypoint:function(b,c){this.sendMessage(new a.message.navigation.SetInsertWaypoint(b,c))},addWaypoint:function(b){this.sendMessage(new a.message.navigation.SetAddWaypoint(b))},setEndByAddress:function(b){this.sendMessage(new a.message.navigation.SetEndByAddress(b))},setEndByPoint:function(b){this.sendMessage(new a.message.navigation.SetEndByPoint(b.x,b.y))},setStartByAddress:function(b){this.sendMessage(new a.message.navigation.SetStartByAddress(b))},setStartByPoint:function(b){this.sendMessage(new a.message.navigation.SetStartByPoint(b.x,
b.y))},clearRoute:function(){this.sendMessage(new a.message.navigation.SetClearRoute)},getWaypoints:function(){this.sendMessage(new a.message.navigation.GetWaypoints)},waypoints:null,getNextTurn:function(){this.sendMessage(new a.message.navigation.GetNextTurn)},nextTurn:null,getRoute:function(){this.sendMessage(new a.message.navigation.GetRoute)},route:null,getDistancePercentage:function(){this.sendMessage(new a.message.navigation.GetDistancePercentage)},distancePercentage:null,getDistance:function(){this.sendMessage(new a.message.navigation.GetDistance)},
distance:null,onLetDistancePercentage:function(b){this.distancePercentage=b.value;this.dispatchEvent(new a.moduleLink.event.NavigationEvent("navigationDistancePercentage"))},onLetDistance:function(b){this.distance=b.value;this.dispatchEvent(new a.moduleLink.event.NavigationEvent("navigationDistance"))},onLetDestination:function(b){this.dispatchEvent(new a.moduleLink.event.NavigationEvent("navigationDestination"))},onLetWaypoints:function(b){this.waypoints=b.waypoints;this.dispatchEvent(new a.moduleLink.event.NavigationEvent("navigationWaypoints"))},
onLetRoute:function(b){this.route=b.route;this.dispatchEvent(new a.moduleLink.event.NavigationEvent("navigationRoute"))},onLetNextTurn:function(b){this.nextTurn=b.nextTurn;this.dispatchEvent(new a.moduleLink.event.NavigationEvent("navigationTurn"))},__class__:a.moduleLink.NavigationProxy});a.moduleLink.VehicleProxy=function(b){a.moduleLink.ClientModuleLink.call(this,b,"vehicle")};f["nfuzion.moduleLink.VehicleProxy"]=a.moduleLink.VehicleProxy;a.moduleLink.VehicleProxy.__name__=["nfuzion","moduleLink",
"VehicleProxy"];a.moduleLink.VehicleProxy.__interfaces__=[a.moduleLink.IVehicle];a.moduleLink.VehicleProxy.__super__=a.moduleLink.ClientModuleLink;a.moduleLink.VehicleProxy.prototype=g(a.moduleLink.ClientModuleLink.prototype,{onLetWaterTemperature:function(b){this.waterTemperature=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("waterTemperature"))},onLetTurnSignal:function(b){this.turnSignal=b.state;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("turnSignal"))},onLetTransmission:function(b){this.transmission=
b.state;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("transmission"))},onLetTractionControl:function(b){this.tractionControl=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("tractionControl"))},onLetStarted:function(b){this.started=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("started"))},onLetSpeed:function(b){this.speed=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("speed"))},onLetSeatBelt:function(b){this.seatBelt=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("seatBelt"))},
onLetOil:function(b){this.oil=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("oil"))},onLetOdometer:function(b){this.odometer=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("odometer"))},onLetLocked:function(b){this.locked=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("doorsLocked"))},onLetHighBeam:function(b){this.highBeam=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("highBeam"))},onLetFuel:function(b){this.fuel=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("fuel"))},
onLetEmergencyBrake:function(b){this.emergencyBrake=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("emergencyBrake"))},onLetDriverSeated:function(b){this.driverSeated=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("driverSeated"))},onLetDriverDoorOpen:function(b){this.driverDoorOpen=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("driverDoorOpen"))},onLetDistanceToEmpty:function(b){this.distanceToEmpty=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("distanceToEmpty"))},
onLetBattery:function(b){this.battery=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("battery"))},onLetABS:function(b){this.abs=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("abs"))},onLetAirbag:function(b){this.airBag=b.value;this.dispatchEvent(new a.moduleLink.event.VehicleEvent("airBag"))},getWaterTemperature:function(){this.sendMessage(new a.message.vehicle.GetWaterTemperature)},waterTemperature:null,getTurnSignal:function(){this.sendMessage(new a.message.vehicle.GetTurnSignal)},
turnSignal:null,getTransmission:function(){this.sendMessage(new a.message.vehicle.GetTransmission)},transmission:null,getTractionControl:function(){this.sendMessage(new a.message.vehicle.GetTractionControl)},tractionControl:null,getStarted:function(){this.sendMessage(new a.message.vehicle.GetStarted)},started:null,getSpeed:function(){this.sendMessage(new a.message.vehicle.GetSpeed)},speed:null,getSeatBelt:function(){this.sendMessage(new a.message.vehicle.GetSeatBelt)},seatBelt:null,getOil:function(){this.sendMessage(new a.message.vehicle.GetOil)},
oil:null,getOdometer:function(){this.sendMessage(new a.message.vehicle.GetOdometer)},odometer:null,setHonk:function(b){this.sendMessage(new a.message.vehicle.SetHonk(b))},getHighBeam:function(){this.sendMessage(new a.message.vehicle.GetHighBeam)},highBeam:null,setLocked:function(b){this.sendMessage(new a.message.vehicle.SetLocked(b))},getLocked:function(){this.sendMessage(new a.message.vehicle.GetLocked)},locked:null,getFuel:function(){this.sendMessage(new a.message.vehicle.GetFuel)},fuel:null,getEmergencyBrake:function(){this.sendMessage(new a.message.vehicle.GetEmergencyBrake)},
emergencyBrake:null,getDriverSeated:function(){this.sendMessage(new a.message.vehicle.GetDriverSeated)},driverSeated:null,getDriverDoorOpen:function(){this.sendMessage(new a.message.vehicle.GetDriverDoorOpen)},driverDoorOpen:null,getDistanceToEmpty:function(){this.sendMessage(new a.message.vehicle.GetDistanceToEmpty)},distanceToEmpty:null,getBattery:function(){this.sendMessage(new a.message.vehicle.GetBattery)},battery:null,getAirBag:function(){this.sendMessage(new a.message.vehicle.GetAirbag)},airBag:null,
getABS:function(){this.sendMessage(new a.message.vehicle.GetABS)},abs:null,__class__:a.moduleLink.VehicleProxy});a.moduleLink.event={};a.moduleLink.event.MagicScrollEvent=function(b,c,d,e,f,g,h){a.event.Event.call(this,b);this.deltaX=c;this.deltaY=d;this.velocityX=e;this.velocityY=f;this.phase=g;this.fingerCount=h};f["nfuzion.moduleLink.event.MagicScrollEvent"]=a.moduleLink.event.MagicScrollEvent;a.moduleLink.event.MagicScrollEvent.__name__=["nfuzion","moduleLink","event","MagicScrollEvent"];a.moduleLink.event.MagicScrollEvent.__super__=
a.event.Event;a.moduleLink.event.MagicScrollEvent.prototype=g(a.event.Event.prototype,{fingerCount:null,phase:null,velocityY:null,velocityX:null,deltaY:null,deltaX:null,__class__:a.moduleLink.event.MagicScrollEvent});a.moduleLink.event.MediaPlayerEvent=function(b,c){a.event.Event.call(this,b);this.partialList=c};f["nfuzion.moduleLink.event.MediaPlayerEvent"]=a.moduleLink.event.MediaPlayerEvent;a.moduleLink.event.MediaPlayerEvent.__name__=["nfuzion","moduleLink","event","MediaPlayerEvent"];a.moduleLink.event.MediaPlayerEvent.__super__=
a.event.Event;a.moduleLink.event.MediaPlayerEvent.prototype=g(a.event.Event.prototype,{partialList:null,__class__:a.moduleLink.event.MediaPlayerEvent});a.moduleLink.event.ModuleLinkEvent=function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.moduleLink.event.ModuleLinkEvent"]=a.moduleLink.event.ModuleLinkEvent;a.moduleLink.event.ModuleLinkEvent.__name__=["nfuzion","moduleLink","event","ModuleLinkEvent"];a.moduleLink.event.ModuleLinkEvent.__super__=a.event.Event;a.moduleLink.event.ModuleLinkEvent.prototype=
g(a.event.Event.prototype,{target:null,__class__:a.moduleLink.event.ModuleLinkEvent});a.moduleLink.event.NavigationEvent=function(b,c){a.event.Event.call(this,b);this.data=c};f["nfuzion.moduleLink.event.NavigationEvent"]=a.moduleLink.event.NavigationEvent;a.moduleLink.event.NavigationEvent.__name__=["nfuzion","moduleLink","event","NavigationEvent"];a.moduleLink.event.NavigationEvent.__super__=a.event.Event;a.moduleLink.event.NavigationEvent.prototype=g(a.event.Event.prototype,{data:null,__class__:a.moduleLink.event.NavigationEvent});
a.moduleLink.event.VehicleEvent=function(b){a.event.Event.call(this,b)};f["nfuzion.moduleLink.event.VehicleEvent"]=a.moduleLink.event.VehicleEvent;a.moduleLink.event.VehicleEvent.__name__=["nfuzion","moduleLink","event","VehicleEvent"];a.moduleLink.event.VehicleEvent.__super__=a.event.Event;a.moduleLink.event.VehicleEvent.prototype=g(a.event.Event.prototype,{__class__:a.moduleLink.event.VehicleEvent});a.nTactic.core={};a.nTactic.core.AppModel=function(){a.event.EventDispatcher.call(this);this.screenModels=
[];this.screenDictionary=new l.ds.StringMap;for(var b=a.nTactic.NTactic.configurationXml.elementsNamed("model");b.hasNext();){var c=b.next(),d=new a.nTactic.core.ScreenModel(this,a.nTactic.NTactic.layers);this.screenModels.push(d);d.initialize(c);null==this.defaultModel&&(this.defaultModel=d);d.addEventListener("goto",h(this,this.propagateEvent));d.addEventListener("afterGoto",h(this,this.propagateEvent));d.addEventListener("branchLoaded",h(this,this.propagateEvent))}};f["nfuzion.nTactic.core.AppModel"]=
a.nTactic.core.AppModel;a.nTactic.core.AppModel.__name__=["nfuzion","nTactic","core","AppModel"];a.nTactic.core.AppModel.__super__=a.event.EventDispatcher;a.nTactic.core.AppModel.prototype=g(a.event.EventDispatcher.prototype,{exit:function(a){this.getModel(a).exit()},captureExit:function(a){this.getModel(a).captureExit()},setExit:function(a){this.getModel(a).setExit()},back:function(a){this.getModel(a).back()},"goto":function(a,c,d){null==d&&(d=!0);l.Log.trace("NOTICE: Loading: "+a,{fileName:"AppModel.hx",
lineNumber:158,className:"nfuzion.nTactic.core.AppModel",methodName:"goto"});a=a.split(":");if(1<a.length){var e;e=this.getModel(a[0]);if(null!=e)e["goto"](a[1],c,d);else l.Log.trace("ERROR: Could not find screen model: "+a[0],{fileName:"AppModel.hx",lineNumber:173,className:"nfuzion.nTactic.core.AppModel",methodName:"goto"})}else this.defaultModel["goto"](a[0],c,d)},propagateEvent:function(a){this.dispatchEvent(a)},onInitialBranchLoaded:function(b){null!=b&&(b=this.getModel(b.modelId),b.removeEventListener("branchLoaded",
h(this,this.onInitialBranchLoaded)),b.initialBranchLoaded=!0);for(var c=!0,d=0,e=this.screenModels;d<e.length;)if(b=e[d],++d,null!=b.initialBranch&&""!=b.initialBranch&&!b.initialBranchLoaded){c=!1;break}c&&a.nTactic.NTactic.stage.set_visible(!0)},loadInitialScreens:function(){for(var a=0,c=this.screenModels;a<c.length;){var d=c[a];++a;if(null!=d.initialBranch&&""!=d.initialBranch)if(d["goto"](d.initialBranch),d.initialBranchLoaded)this.onInitialBranchLoaded();else d.addEventListener("branchLoaded",
h(this,this.onInitialBranchLoaded))}},loadScreenModelBranch:function(a,c,d){for(var e=0,f=this.screenModels.length;e<f;){var g=e++;if(a==this.screenModels[g].id){this.screenModels[g]["goto"](c,d);break}}},getModel:function(a){if(null==a)return this.defaultModel;for(var c=0,d=this.screenModels.length;c<d;){var e=c++;if(this.screenModels[e].id==a)return this.screenModels[e]}return null},getInitialBranch:function(a){try{return this.getModel(a).initialBranch}catch(c){if(!n.Boot.__instanceof(c,String))throw c;
}return""},mInitialGoto:null,screenDictionary:null,screenModels:null,defaultModel:null,__class__:a.nTactic.core.AppModel});a.nTactic.core.AppView=function(){};f["nfuzion.nTactic.core.AppView"]=a.nTactic.core.AppView;a.nTactic.core.AppView.__name__=["nfuzion","nTactic","core","AppView"];a.nTactic.core.AppView.prototype={getLayer:function(b){var c=null,d=a.nTactic.NTactic.stage.getChild(a.nTactic.core.Layer.getName(b));null!=d&&(c=d);if(null==c){for(var d=-1,c=0,e=a.nTactic.NTactic.stage.get_childCount();c<
e;){var f=c++,g=a.nTactic.NTactic.stage.getChildAt(f);if(n.Boot.__instanceof(g,a.nTactic.core.Layer)&&g.depth>b){d=f;break}}-1==d&&(d=a.nTactic.NTactic.stage.get_childCount());c=new a.nTactic.core.Layer(b);a.nTactic.NTactic.stage.insertChild(c,d)}return c},removeScreen:function(a){this.getLayer(a.depth).removeScreen(a)},addScreen:function(a){this.getLayer(a.depth).addScreen(a)},__class__:a.nTactic.core.AppView};a.nTactic.core.BranchHistory=function(a,c){this.branch=a;this.modelData=c};f["nfuzion.nTactic.core.BranchHistory"]=
a.nTactic.core.BranchHistory;a.nTactic.core.BranchHistory.__name__=["nfuzion","nTactic","core","BranchHistory"];a.nTactic.core.BranchHistory.prototype={modelData:null,branch:null,__class__:a.nTactic.core.BranchHistory};a.nTactic.core.ICacheManager=function(){};f["nfuzion.nTactic.core.ICacheManager"]=a.nTactic.core.ICacheManager;a.nTactic.core.ICacheManager.__name__=["nfuzion","nTactic","core","ICacheManager"];a.nTactic.core.ICacheManager.prototype={clearCache:null,release:null,use:null,cacheAll:null,
__class__:a.nTactic.core.ICacheManager};a.nTactic.core.CacheManager=function(){this.set_cacheAll(!0)};f["nfuzion.nTactic.core.CacheManager"]=a.nTactic.core.CacheManager;a.nTactic.core.CacheManager.__name__=["nfuzion","nTactic","core","CacheManager"];a.nTactic.core.CacheManager.__interfaces__=[a.nTactic.core.ICacheManager];a.nTactic.core.CacheManager.prototype={clearCache:function(){a.nTactic.NTactic.cache.destroyAll()},release:function(b){this.cacheAll||134217727==a.nTactic.NTactic.cache.getRecord(b).priority||
a.nTactic.NTactic.cache.destroy(b)},use:function(a){},set_cacheAll:function(a){a||this.clearCache();return this.cacheAll=a},cacheAll:null,__class__:a.nTactic.core.CacheManager,__properties__:{set_cacheAll:"set_cacheAll"}};a.nTactic.core.Screen=function(b,c){null==c&&(c=!0);this.modelData=null;this.screenInitialized=!1;this.useBuilder=!0;this.subScreens=[];this.imageRecords=new l.ds.StringMap;this.imageLoaders=new l.ds.StringMap;this.graphicsClassName=b;this.listenerManager=new a.event.ListenerManager;
this.pendingImages=new l.ds.StringMap;this.set_screen(this);this.ready=!0;null==this.graphicsClassName&&(this.graphicsClassName=s.getClassName(s.getClass(this)),this.graphicsClassName=r.substr(this.graphicsClassName,this.graphicsClassName.lastIndexOf(".")+1,null));a.graphics.Container.call(this,"Screen("+this.graphicsClassName+")");c&&this.set_layout(new a.layout.SnapParentEdges)};f["nfuzion.nTactic.core.Screen"]=a.nTactic.core.Screen;a.nTactic.core.Screen.__name__=["nfuzion","nTactic","core","Screen"];
a.nTactic.core.Screen.__interfaces__=[a.event.IListenerManager];a.nTactic.core.Screen.__super__=a.graphics.Container;a.nTactic.core.Screen.prototype=g(a.graphics.Container.prototype,{removeSubScreen:function(a){r.remove(this.subScreens,a);this.entered||(a.removeListeners(),a.exitScreen())},addSubScreen:function(a){this.subScreens.push(a);a.screenInitialized||(a.model=this.model,a.initializeScreen(),a.screenInitialized=!0);this.entered&&(a.addListeners(),a.enterScreen())},set_screen:function(a){if(null==
a)return this.screen=null;this.screen=this;return this},getWidget:function(a){return this.group.getWidget(a)},detatchAllImages:function(){for(var b=this.imageRecords.keys();b.hasNext();){var c=b.next();a.nTactic.NTactic.imageManager.remove(c)}this.imageRecords=new l.ds.StringMap},onReady:function(){l.Log.trace(" ** *  *   *     *  Screen "+this.graphicsClassName+" is ready!  *    *   *  * ** ",{fileName:"Screen.hx",lineNumber:404,className:"nfuzion.nTactic.core.Screen",methodName:"onReady"});this.initalGraphicsLoaded=
!0;this.dispatchEvent(new a.nTactic.event.ScreenEvent("ready",this))},onImageReady:function(a){null!=a&&(a=a.target,this.pendingImages.remove(a.url),a.removeEventListener("ImageEvent.ready",h(this,this.onImageReady)),a.removeEventListener("ImageEvent.error",h(this,this.onImageError)));for(var c=!0,d=function(a){return function(){return a.iterator()}}(this.pendingImages)();d.hasNext();)if(a=d.next(),!a.ready){c=!1;break}if(this.ready=c)this.onReady()},onImageError:function(a){a=a.target;this.pendingImages.remove(a.url);
a.removeEventListener("ImageEvent.ready",h(this,this.onImageReady));a.removeEventListener("ImageEvent.error",h(this,this.onImageError));this.onImageReady()},detatchImage:function(b){if(null!=b&&""!=b)if(this.imageRecords.exists(b)){var c=this.imageRecords.get(b);1<c?this.imageRecords.set(b,this.imageRecords.get(b)-1):1==c&&(this.imageRecords.remove(b),b=a.nTactic.NTactic.imageManager.remove(b),null==b||b.ready||(this.pendingImages.remove(b.url),this.detachListener(b,"ImageEvent.ready",h(this,this.onImageReady)),
this.detachListener(b,"ImageEvent.error",h(this,this.onImageError))))}else l.Log.trace("WARNING: cannot detatch image "+b,{fileName:"Screen.hx",lineNumber:357,className:"nfuzion.nTactic.core.Screen",methodName:"detatchImage"})},attachImage:function(b,c){null==c&&(c=!1);if(null!=b&&""!=b){if(this.imageRecords.exists(b))return this.imageRecords.set(b,this.imageRecords.get(b)+1),a.nTactic.NTactic.imageManager.cite(b);this.imageRecords.set(b,1);var d=a.nTactic.NTactic.imageManager.add(b);d.ready||!c||
this.initalGraphicsLoaded||(this.ready=!1,this.attachListener(d,"ImageEvent.ready",h(this,this.onImageReady)),this.attachListener(d,"ImageEvent.error",h(this,this.onImageError)),this.pendingImages.set(d.url,d));return d}return null},getImage:function(a){return this.attachImage(a)},removeImage:function(a){this.detatchImage(a)},addImage:function(a){return this.attachImage(a,!0)},onComponentImageLoaded:function(a){a=a.imageLoader;this.detachListener(a,"ImageLoaderEvent.complete",h(this,this.onComponentImageLoaded));
this.imageLoaders.remove(a.url+a.component.name);a.destroy()},setComponentImage:function(b,c,d,e){""!=c&&null!=c?this.imageLoaders.exists(c+b.name)||(d=new a.image.ImageLoader(c,b,d,e),d.complete?d.destroy():(this.imageLoaders.set(c+b.name,d),this.attachListener(d,"ImageLoaderEvent.complete",h(this,this.onComponentImageLoaded)))):b.gotoDefault()},detachAllListeners:function(){this.listenerManager.detachAllListeners()},swapListener:function(a,c,d,e){null==e&&(e=0);this.listenerManager.swapListener(a,
c,d,e)},detachListener:function(a,c,d){this.listenerManager.detachListener(a,c,d)},attachListener:function(a,c,d,e){null==e&&(e=0);this.listenerManager.attachListener(a,c,d,e)},modelDataChanged:function(){for(var a=0,c=this.subScreens;a<c.length;){var d=c[a];++a;d.modelDataChanged()}},set_modelData:function(a){this.model.modelData=a;return this.model.modelData},get_modelData:function(){return this.model.modelData},modelData:null,exitScreen:function(){this.entered=!1;this.group.removedFromStage();
for(var a=0,c=this.subScreens;a<c.length;){var d=c[a];++a;d.exitScreen()}},removeListeners:function(){this.detachAllListeners();for(var a=0,c=this.subScreens;a<c.length;){var d=c[a];++a;d.removeListeners()}},enterScreen:function(){this.entered=!0;this.group.addedToStage();for(var a=0,c=this.subScreens;a<c.length;){var d=c[a];++a;d.enterScreen()}},addListeners:function(){for(var a=0,c=this.subScreens;a<c.length;){var d=c[a];++a;d.addListeners()}},initializeScreen:function(){this.useBuilder&&(a.nTactic.NTactic.builder.buildOver(this.graphicsClassName,
this)||l.Log.trace("ERROR: Screen graphics class not found for "+this.graphicsClassName+".  A ghost screen will be created.",{fileName:"Screen.hx",lineNumber:106,className:"nfuzion.nTactic.core.Screen",methodName:"initializeScreen"}));this.group=new a.widget.Group(this.graphicsClassName,this)},destroy:function(){this.group.destroy();this.group=null;this.orphan();a.graphics.Container.prototype.destroy.call(this);this.detatchAllImages();this.detatchAllImages();for(var b=this.imageLoaders.keys();b.hasNext();){var c=
b.next(),c=this.imageLoaders.get(c);this.detachListener(c,"ImageLoaderEvent.complete",h(this,this.onComponentImageLoaded));c.destroy()}this.pendingImages=this.imageRecords=this.listenerManager=null},model:null,screenInitialized:null,subScreens:null,initalGraphicsLoaded:null,imageLoaders:null,ready:null,pendingImages:null,imageRecords:null,graphicsClassName:null,group:null,entered:null,listenerManager:null,branch:null,depth:null,useBuilder:null,__class__:a.nTactic.core.Screen,__properties__:g(a.graphics.Container.prototype.__properties__,
{set_modelData:"set_modelData",get_modelData:"get_modelData"})});a.nTactic.core.DynamicScreen=function(b){null==b&&(b="");a.nTactic.core.Screen.call(this,b)};f["nfuzion.nTactic.core.DynamicScreen"]=a.nTactic.core.DynamicScreen;a.nTactic.core.DynamicScreen.__name__=["nfuzion","nTactic","core","DynamicScreen"];a.nTactic.core.DynamicScreen.__super__=a.nTactic.core.Screen;a.nTactic.core.DynamicScreen.prototype=g(a.nTactic.core.Screen.prototype,{setupWidgets:function(){},formatPath:function(b){u.startsWith(b,
"./")&&(b=a.nTactic.NTactic.assetsPath+r.substr(b,2,null));b=b.split("\\").join("/").split("/");for(var c=[],d=0;d<b.length;){var e=b[d];++d;c.push(u.urlEncode(e))}return b=c.join("/")},setFont:function(b,c,d,e,f){var g=null;null==e&&(e=a.font.type.FontStyle.normal);null==f&&(f=a.font.type.FontWeight.normal);a.nTactic.NTactic.fontManager.set(b,c,d,e,f);return g=a.nTactic.NTactic.fontManager.get(b)},setPaint:function(b,c){var d=null,d=null,d=a.utility.ColorTools.fromString(c);a.nTactic.NTactic.paintManager.set(b,
d);return d=a.nTactic.NTactic.paintManager.get(b)},createContainer:function(b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);b=new a.graphics.Container(b);b.setSquare(e,f,c,d);return b},layoutScreen:function(){},defineFonts:function(){},definePaints:function(){},initializeScreen:function(){this.useBuilder=!1;this.definePaints();this.defineFonts();this.layoutScreen();a.nTactic.core.Screen.prototype.initializeScreen.call(this);this.setupWidgets();this.onReady()},__class__:a.nTactic.core.DynamicScreen});a.nTactic.core.Layer=
function(b){null==b&&(b=0);a.graphics.Container.call(this,a.nTactic.core.Layer.getName(b));this.depth=b;this.set_layout(new a.layout.SnapParentEdges)};f["nfuzion.nTactic.core.Layer"]=a.nTactic.core.Layer;a.nTactic.core.Layer.__name__=["nfuzion","nTactic","core","Layer"];a.nTactic.core.Layer.getName=function(a){return"layer:"+m.string(a)};a.nTactic.core.Layer.__super__=a.graphics.Container;a.nTactic.core.Layer.prototype=g(a.graphics.Container.prototype,{removeScreen:function(a){this.removeChild(a)},
addScreen:function(a){this.appendChild(a)},depth:null,__class__:a.nTactic.core.Layer});a.nTactic.core.ScreenCache=function(){a.event.EventDispatcher.call(this);this.screenRecords=new l.ds.StringMap};f["nfuzion.nTactic.core.ScreenCache"]=a.nTactic.core.ScreenCache;a.nTactic.core.ScreenCache.__name__=["nfuzion","nTactic","core","ScreenCache"];a.nTactic.core.ScreenCache.__super__=a.event.EventDispatcher;a.nTactic.core.ScreenCache.prototype=g(a.event.EventDispatcher.prototype,{destroyAll:function(){for(var a=
function(a){return function(){return a.iterator()}}(this.screenRecords)();a.hasNext();)a.next().destroyScreen()},destroy:function(a){var c=this.screenRecords.get(a);if(null!=c&&c.destroyScreen())return!0;l.Log.trace("NOTE: Could not destroy screen "+a,{fileName:"ScreenCache.hx",lineNumber:103,className:"nfuzion.nTactic.core.ScreenCache",methodName:"destroy"});return!1},release:function(b){this.screenRecords.exists(b)&&(l.Log.trace(" [ - ] Releasing screen: "+b,{fileName:"ScreenCache.hx",lineNumber:88,
className:"nfuzion.nTactic.core.ScreenCache",methodName:"release"}),this.screenRecords.get(b).inUse=!1,a.nTactic.NTactic.cacheManager.release(b))},createScreen:function(a,c){var d;d=a.className;var e=null;try{e=s.resolveClass(a.classPrefix+d)}catch(f){e=null}if(null==e)return l.Log.trace("FATAL: Could not instantiate '"+d+"'.  Check the screen name and verify that it is imported.",{fileName:"ScreenCache.hx",lineNumber:69,className:"nfuzion.nTactic.core.ScreenCache",methodName:"createScreen"}),!1;
d=s.createInstance(e,[d]);d.depth=a.depth;d.branch=a.branch;d.model=c;l.Log.trace("Attempting to call initializeScreen()",{fileName:"ScreenCache.hx",lineNumber:77,className:"nfuzion.nTactic.core.ScreenCache",methodName:"createScreen"});d.initializeScreen();d.screenInitialized=!0;a.screen=d;return!0},get:function(b){null==b.screen?(l.Log.trace(" [ + ] Creating Screen: "+b.branch,{fileName:"ScreenCache.hx",lineNumber:36,className:"nfuzion.nTactic.core.ScreenCache",methodName:"get"}),this.createScreen(b,
a.nTactic.NTactic.screens.getModel(b.modelId))):l.Log.trace(" [ = ] Reusing screen: "+b.branch,{fileName:"ScreenCache.hx",lineNumber:41,className:"nfuzion.nTactic.core.ScreenCache",methodName:"get"});null!=b.screen&&(b.inUse=!0,a.nTactic.NTactic.cacheManager.use(b.branch));return b.screen},getRecord:function(a){return this.screenRecords.get(a)},addRecord:function(a){this.screenRecords.set(a.branch,a)},screenRecords:null,__class__:a.nTactic.core.ScreenCache});a.nTactic.core.ScreenModel=function(b,
c){a.event.EventDispatcher.call(this);this.mAppModel=b;this.mView=c;this.currentBranch="";this.mScreensToAdd=[];this.mScreensToRemove=[];this.mScreensToPresent=[];this.mBackHistory=[];this.mExitHistory=[];this.mMaxHistoryLength=this.mDefaultDepth=0;this.id="";this.initialBranchLoaded=!1};f["nfuzion.nTactic.core.ScreenModel"]=a.nTactic.core.ScreenModel;a.nTactic.core.ScreenModel.__name__=["nfuzion","nTactic","core","ScreenModel"];a.nTactic.core.ScreenModel.__super__=a.event.EventDispatcher;a.nTactic.core.ScreenModel.prototype=
g(a.event.EventDispatcher.prototype,{clearHistory:function(){0<this.mMaxHistoryLength&&(this.mBackHistory=[])},updateHistory:function(b,c){null==c&&(c=!1);0<this.mMaxHistoryLength&&(""!=b&&b!=this.currentBranch?this.mBackHistory.push(new a.nTactic.core.BranchHistory(this.currentBranch,this.modelData)):c&&this.mBackHistory.push(new a.nTactic.core.BranchHistory(this.currentBranch,this.modelData)),50<this.mBackHistory.length&&this.mBackHistory.shift())},exit:function(){if(0<this.mMaxHistoryLength)if(0<
this.mExitHistory.length){var a=this.mExitHistory.pop();this["goto"](a.branch,a.vars,!1)}else this.back()},captureExit:function(){if(0<this.mMaxHistoryLength){var a=this.mBackHistory.length-1;0<=a&&(0!=this.mExitHistory.length&&this.mExitHistory[this.mExitHistory.length-1]==this.mBackHistory[a]||this.mExitHistory.push(this.mBackHistory[a]),50<this.mExitHistory.length&&this.mExitHistory.shift())}},setExit:function(){0<this.mMaxHistoryLength&&(this.mExitHistory.push(new a.nTactic.core.BranchHistory(this.currentBranch,
this.mCurrentVars)),this.mExitHistory.length>this.mMaxHistoryLength&&this.mExitHistory.shift())},back:function(){if(0<this.mMaxHistoryLength&&0<this.mBackHistory.length){var a=this.mBackHistory.pop(),c="",d=null;null!=a&&(c=a.branch,d=a.modelData);this["goto"](c,d,!1)}},removeScreens:function(){for(var b;0<this.mScreensToRemove.length;){var c=[this.mScreensToRemove.shift()];this.mScreensToAdd=A.array(A.filter(this.mScreensToAdd,function(a){return function(b){return b!=a[0]}}(c)));this.mScreensToPresent=
A.array(A.filter(this.mScreensToPresent,function(a){return function(b){return b!=a[0]}}(c)));b=c[0].screen;null!=b&&(b.removeEventListener("ready",h(this,this.onScreenReady)),b.removeListeners(),b.exitScreen(),a.nTactic.NTactic.layers.removeScreen(b),a.nTactic.NTactic.cache.release(c[0].branch))}},showScreen:function(a){a.removeEventListener("ready",h(this,this.onScreenReady));a.set_visible(!0);this.branchReady()},onScreenReady:function(a){this.showScreen(a.screen)},addScreens:function(){for(var b;0<
this.mScreensToAdd.length;){var c=this.mScreensToAdd.shift();b=a.nTactic.NTactic.cache.get(c);null!=b&&(b.set_visible(!1),this.mView.addScreen(b),this.mScreensToPresent.push(c),b.model=this)}this.updateModelData();b=0;for(var d=this.mScreensToPresent;b<d.length;)c=d[b],++b,c=c.screen,c.initialized&&!c.entered&&(c.addListeners(),c.enterScreen()),c.addEventListener("ready",h(this,this.onScreenReady)),c.ready&&this.showScreen(c);this.mScreensToPresent=[]},getScreenRecord:function(b){var c=a.nTactic.NTactic.cache.getRecord(this.id+
":"+b);null==c&&l.Log.trace("WARNING: Could not locate screen branch: "+this.id+":"+b,{fileName:"ScreenModel.hx",lineNumber:383,className:"nfuzion.nTactic.core.ScreenModel",methodName:"getScreenRecord"});return c},getScreenRecords:function(a){var c=[];if(null!=a&&""!=a){a=a.split("/");var d=a.shift(),e=this.getScreenRecord(d);for(null!=e&&c.push(e);0<a.length;)d+="/"+a.shift(),e=this.getScreenRecord(d),null!=e&&c.push(e)}return c},setScreensToAddOrRemove:function(a,c){this.oldBranchRecords=this.getScreenRecords(a);
this.newBranchRecords=this.getScreenRecords(c);var d;if(0<this.oldBranchRecords.length)for(d=this.oldBranchRecords.length;-1<--d;)if(this.newBranchRecords.length<=d||this.newBranchRecords[d]!=this.oldBranchRecords[d])this.mScreensToRemove.push(this.oldBranchRecords[d]);else if(this.newBranchRecords[d]==this.oldBranchRecords[d])break;if(0<this.newBranchRecords.length)for(d=this.newBranchRecords.length;-1<--d;)if(this.oldBranchRecords.length<=d||this.newBranchRecords[d]!=this.oldBranchRecords[d])this.mScreensToAdd.push(this.newBranchRecords[d]);
else if(this.newBranchRecords[d]==this.oldBranchRecords[d])break},releaseScreens:function(b){if(null!=b)for(var c=0;c<b.length;){var d=b[c];++c;var e=a.nTactic.NTactic.cache.getRecord(this.id+":"+d);null!=e?(l.Log.trace("NOTE: Setting priority for "+e.branch+" to MIN",{fileName:"ScreenModel.hx",lineNumber:281,className:"nfuzion.nTactic.core.ScreenModel",methodName:"releaseScreens"}),e.priority=134217728,e.inUse||a.nTactic.NTactic.cache.release(e.branch)):l.Log.trace("WARNING: could not find record for branch: "+
d+" Screen will not be released",{fileName:"ScreenModel.hx",lineNumber:293,className:"nfuzion.nTactic.core.ScreenModel",methodName:"releaseScreens"})}},cacheScreens:function(b){if(null!=b)for(var c=0;c<b.length;){var d=b[c];++c;var e=a.nTactic.NTactic.cache.getRecord(this.id+":"+d);null!=e&&(l.Log.trace("Setting priority for "+e.branch+" to MAX",{fileName:"ScreenModel.hx",lineNumber:243,className:"nfuzion.nTactic.core.ScreenModel",methodName:"cacheScreens"}),e.priority=134217727,null==e.screen?(l.Log.trace("NOTE: Preloading "+
e.branch+".",{fileName:"ScreenModel.hx",lineNumber:248,className:"nfuzion.nTactic.core.ScreenModel",methodName:"cacheScreens"}),d=a.nTactic.NTactic.cache.get(e),a.nTactic.NTactic.cache.release(d.branch)):l.Log.trace("WARNING: could not find record for branch: "+d+" Screen will not be cached",{fileName:"ScreenModel.hx",lineNumber:256,className:"nfuzion.nTactic.core.ScreenModel",methodName:"cacheScreens"}))}},branchReady:function(){for(var b=!0,c=0,d=this.newBranchRecords;c<d.length;){var e=d[c];++c;
if(null!=e.screen&&!e.screen.ready){b=!1;break}}b&&(this.initialBranchLoaded=!0,this.dispatchEvent(new a.nTactic.event.ScreenModelEvent("branchLoaded",this.id,this.currentBranch)))},updateModelData:function(){if(""!=this.currentBranch)for(var a=this.currentBranch.split("/"),c="",d=0;d<a.length;){var e=a[d];++d;""!=c&&(c+="/");c+=e;this.getScreenRecord(c).screen.modelDataChanged()}},"goto":function(b,c,d){null==d&&(d=!0);this.modelData=c;this.dispatchEvent(new a.nTactic.event.ScreenModelEvent("goto",
this.id,b,c));this.setScreensToAddOrRemove(this.currentBranch,b);d&&this.updateHistory(b);this.currentBranch=b;0<this.mScreensToRemove.length&&this.removeScreens();0<this.mScreensToAdd.length?this.addScreens():this.updateModelData();this.branchReady();this.dispatchEvent(new a.nTactic.event.ScreenModelEvent("afterGoto",this.id,this.currentBranch,c))},addScreenRecord:function(b,c){var d=new a.nTactic.core.ScreenRecord;d.className=b.get("id");d.classPrefix=this.classPrefix;d.modelId=this.id;for(var e=
this.id+":",f=0;f<c.length;){var g=c[f];++f;e+=g+"/"}d.branch=e+d.className;d.depth=b.exists("depth")?m.parseInt(b.get("depth")):this.mDefaultDepth;b.exists("priority")?(e=b.get("priority"),d.priority="max"==e?134217727:"min"==e?134217728:m.parseInt(e)):d.priority=0;a.nTactic.NTactic.cache.addRecord(d);e=c.slice();e.push(d.className);for(d=b.elements();d.hasNext();)f=d.next(),this.addScreenRecord(f,e)},createScreenRecords:function(a){for(a=a.elements();a.hasNext();){var c=a.next();this.addScreenRecord(c,
[])}},initialize:function(a){a.exists("defaultDepth")&&(this.mDefaultDepth=m.parseInt(a.get("defaultDepth")));a.exists("historyLength")&&(this.mMaxHistoryLength=m.parseInt(a.get("historyLength")));a.exists("initialBranch")?this.initialBranch=a.get("initialBranch"):this.initialBranch="";this.classPrefix=a.get("classPrefix");null==this.classPrefix&&(this.classPrefix="screen.");this.id=a.get("id");this.createScreenRecords(a)},modelData:null,initialBranchLoaded:null,newBranchRecords:null,oldBranchRecords:null,
initialBranchRecords:null,classPrefix:null,mMaxHistoryLength:null,mDefaultDepth:null,mCurrentVars:null,mExitHistory:null,mBackHistory:null,mScreensToPresent:null,mScreensToRemove:null,mScreensToAdd:null,mView:null,mAppModel:null,initialBranch:null,currentBranch:null,id:null,__class__:a.nTactic.core.ScreenModel});a.nTactic.core.ScreenRecord=function(){this.inUse=!1};f["nfuzion.nTactic.core.ScreenRecord"]=a.nTactic.core.ScreenRecord;a.nTactic.core.ScreenRecord.__name__=["nfuzion","nTactic","core","ScreenRecord"];
a.nTactic.core.ScreenRecord.prototype={destroyScreen:function(){var a=!1;null==this.screen||this.inUse||this.screen.entered||(l.Log.trace(" [ X ] Destroying screen: "+this.branch,{fileName:"ScreenRecord.hx",lineNumber:34,className:"nfuzion.nTactic.core.ScreenRecord",methodName:"destroyScreen"}),this.screen.destroy(),this.screen=null,a=!0);this.priority=134217728;return a},inUse:null,screen:null,priority:null,depth:null,branch:null,modelId:null,classPrefix:null,className:null,__class__:a.nTactic.core.ScreenRecord};
a.nTactic.core.SubScreen=function(b,c,d){this.parentGroup=b;a.nTactic.core.Screen.call(this,d,c);this.name="SubScreen("+this.graphicsClassName+")"};f["nfuzion.nTactic.core.SubScreen"]=a.nTactic.core.SubScreen;a.nTactic.core.SubScreen.__name__=["nfuzion","nTactic","core","SubScreen"];a.nTactic.core.SubScreen.__super__=a.nTactic.core.Screen;a.nTactic.core.SubScreen.prototype=g(a.nTactic.core.Screen.prototype,{initializeScreen:function(){a.nTactic.core.Screen.prototype.initializeScreen.call(this);this.parentGroup.appendChild(this.group)},
parentGroup:null,__class__:a.nTactic.core.SubScreen});a.nTactic.event={};a.nTactic.event.ScreenEvent=function(b,c){a.event.Event.call(this,b);this.screen=c};f["nfuzion.nTactic.event.ScreenEvent"]=a.nTactic.event.ScreenEvent;a.nTactic.event.ScreenEvent.__name__=["nfuzion","nTactic","event","ScreenEvent"];a.nTactic.event.ScreenEvent.__super__=a.event.Event;a.nTactic.event.ScreenEvent.prototype=g(a.event.Event.prototype,{screen:null,__class__:a.nTactic.event.ScreenEvent});a.nTactic.event.ScreenModelEvent=
function(b,c,d,e){a.event.Event.call(this,b);this.modelId=c;this.branch=d;this.modelData=e};f["nfuzion.nTactic.event.ScreenModelEvent"]=a.nTactic.event.ScreenModelEvent;a.nTactic.event.ScreenModelEvent.__name__=["nfuzion","nTactic","event","ScreenModelEvent"];a.nTactic.event.ScreenModelEvent.__super__=a.event.Event;a.nTactic.event.ScreenModelEvent.prototype=g(a.event.Event.prototype,{modelData:null,branch:null,modelId:null,__class__:a.nTactic.event.ScreenModelEvent});a.paint={};a.paint.Paint=function(b,
c){a.event.EventDispatcher.call(this);this.name=b;null==c&&(c=a.type.Color.black);this.set_color(c)};f["nfuzion.paint.Paint"]=a.paint.Paint;a.paint.Paint.__name__=["nfuzion","paint","Paint"];a.paint.Paint.__super__=a.event.EventDispatcher;a.paint.Paint.prototype=g(a.event.EventDispatcher.prototype,{set_color:function(b){s.enumEq(this.color,b)||(this.color=b,this.dispatchEvent(new a.paint.event.PaintEvent("PaintEvent.change",this)));return this.color},color:null,name:null,__class__:a.paint.Paint,__properties__:{set_color:"set_color"}});
a.paint.PaintManager=function(){this.palette=new l.ds.StringMap};f["nfuzion.paint.PaintManager"]=a.paint.PaintManager;a.paint.PaintManager.__name__=["nfuzion","paint","PaintManager"];a.paint.PaintManager.prototype={get:function(b){var c=this.palette.get(b);null==c&&(c=new a.paint.Paint(b),this.palette.set(b,c));return c},set:function(b,c){var d=this.palette.get(b);null==d&&(d=new a.paint.Paint(b,c),this.palette.set(b,d))},palette:null,__class__:a.paint.PaintManager};a.paint.event={};a.paint.event.PaintEvent=
function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.paint.event.PaintEvent"]=a.paint.event.PaintEvent;a.paint.event.PaintEvent.__name__=["nfuzion","paint","event","PaintEvent"];a.paint.event.PaintEvent.__super__=a.event.Event;a.paint.event.PaintEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.paint.event.PaintEvent});a.physics={};a.physics.IPhysics=function(){};f["nfuzion.physics.IPhysics"]=a.physics.IPhysics;a.physics.IPhysics.__name__=["nfuzion","physics","IPhysics"];
a.physics.IPhysics.__interfaces__=[a.event.IEventDispatcher];a.physics.IPhysics.prototype={onMagicScroll:null,bottomPadding:null,rowSize:null,touchTarget:null,step:null,scroller:null,orientation:null,length:null,destroy:null,__class__:a.physics.IPhysics};a.physics.Scrolling=function(){this.scrollerGrabbed=this.repaintRequested=this.touching=!1;this.velocity=0;this.touchDragging=!1;this.touchDelta=0;this.lastTouchPoint=null;this.lastFrameTime=this.lastRawPosition=0;this.gliding=!1;this.bottomPadding=
0;this.currentTouchId=null;a.event.EventDispatcher.call(this);this.orientation=a.type.Orientation.vertical;this.touchDragged=new a.geometry.Point;this.set_step(0);this.set_length(0);this.set_position(0);this.snapThreshold=10;this.set_rowSize(1)};f["nfuzion.physics.Scrolling"]=a.physics.Scrolling;a.physics.Scrolling.__name__=["nfuzion","physics","Scrolling"];a.physics.Scrolling.__interfaces__=[a.physics.IPhysics];a.physics.Scrolling.__super__=a.event.EventDispatcher;a.physics.Scrolling.prototype=g(a.event.EventDispatcher.prototype,
{onMagicScroll:function(b){var c=new a.geometry.Point(b.deltaX*a.nTactic.NTactic.stage._width,-b.deltaY*a.nTactic.NTactic.stage._height),d=new a.geometry.Point(b.velocityX*a.nTactic.NTactic.stage._width,-b.velocityY*a.nTactic.NTactic.stage._height);this.processTouchDelta(c);switch(b.phase[1]){case 0:this.startDragging();break;case 2:this.stopDragging(),this.velocity=this.getTouchDelta(d)}},getTouchDelta:function(b){return this.orientation==a.type.Orientation.horizontal?b.x:b.y},onPaint:function(b){this.gliding||
this.touching||(a.nTactic.NTactic.stage.removeEventListener("paint",h(this,this.onPaint)),this.repaintRequested=!1);b=this.rawPosition;if(this.gliding){var c=a.timer.Timer.now(),d=c-this.lastFrameTime,e=0;0>this.rawPosition?(e=b,this.velocity-=200*e*d):0>=this.length?(e=b,this.velocity-=200*e*d):b>this.length&&(e=b-this.length,this.velocity-=200*e*d);if(Math.abs(this.velocity)<this.snapThreshold&&1>=Math.abs(e))this.onSnapThreshold();else{var f,g=0;0<this.velocity?(f=this.velocity-500*d,0>f?f=0:g=
this.velocity*d+250*Math.pow(d,2)):(f=this.velocity+500*d,0<f?f=0:g=this.velocity*d-250*Math.pow(d,2));0!=this.velocity&&0==e&&(this.velocity=f);b+=g}this.lastFrameTime=c}b!=this.rawPosition&&(0<b&&0>=this.rawPosition||0>=this.length&&0>b&&0<=this.rawPosition||b<this.length&&this.rawPosition>=this.length?(this.set_rawPosition(this.get_boundedPosition()),this.velocity=0):this.set_rawPosition(b));this.lastRawPosition!=this.rawPosition&&(this.lastRawPosition=this.rawPosition,this.dispatchEvent(new a.physics.event.PhysicsEvent("PhysicsEvent.change",
this.get_position())));null!=this.scroller&&this.scroller.set_value(this.get_boundedPosition()/this.rowSize)},repaint:function(b){null==a.nTactic.NTactic.stage||this.repaintRequested||(this.repaintRequested=!0,a.nTactic.NTactic.stage.addEventListener("paint",h(this,this.onPaint)))},processTouchDelta:function(b){this.touchDelta+=this.getTouchDelta(b);if(0!=this.touchDelta){var c=a.timer.Timer.now(),d=c-this.lastFrameTime;0!=d&&0.07<=d&&(d=this.touchDelta/d,this.velocity-=this.velocity/3,this.velocity-=
d/3,this.touchDelta=0,this.lastFrameTime=c)}this.touchDragging||(this.touchDragged.x+=b.x,this.touchDragged.y+=b.y,15<Math.abs(this.touchDragged.get_length())&&(b.x=this.touchDragged.x,b.y=this.touchDragged.y,this.touchDragged.x=0,this.touchDragged.y=0,this.touchDragging=!0,this.startMoving()));this.touchDragging&&this.set_rawPosition(this.rawPosition-this.getTouchDelta(b))},stopGliding:function(){this.gliding=!1;this.velocity=0;this.dispatchEvent(new a.physics.event.PhysicsEvent("PhysicsEvent.end",
this.get_position()))},onSnapThreshold:function(){this.stopGliding()},stopDragging:function(){this.gliding=!0},startMoving:function(){this.dispatchEvent(new a.physics.event.PhysicsEvent("PhysicsEvent.begin",this.get_position()))},startDragging:function(){this.gliding=!1;this.velocity=0;this.lastFrameTime=a.timer.Timer.now();this.repaint()},onTouchEnd:function(b){this.currentTouchId==b.id&&(this.onTouchMove(b),this.currentTouchId=null,this.touchDragging&&(this.touchDragging=!1,this.stopDragging(),
b=a.timer.Timer.now(),0.1<=b-this.lastFrameTime&&(this.velocity=0,this.lastFrameTime=b)),this.touching=!1)},onTouchMove:function(b){if(this.currentTouchId==b.id){b.stopPropagation();var c=new a.geometry.Point(b.global.x-this.lastTouchPoint.x,b.global.y-this.lastTouchPoint.y);this.lastTouchPoint=new a.geometry.Point(b.global.x,b.global.y);this.processTouchDelta(c)}},onTouchBegin:function(b){null==this.currentTouchId&&(this.touching=!0,b.stopPropagation(),this.currentTouchId=b.id,this.lastTouchPoint=
new a.geometry.Point(b.global.x,b.global.y),this.startDragging())},onScrollerRelease:function(a){this.onScrollerPosition(a);this.stopGliding();this.scrollerGrabbed=!1},onScrollerPosition:function(a){this.touchDragging||(this.stopGliding(),this.set_rawPosition(this.scroller.get_value()*this.rowSize));this.onPaint()},onScrollerGrab:function(a){this.startDragging();this.scrollerGrabbed=!0;this.onScrollerPosition(a)},destroy:function(){a.nTactic.NTactic.stage.removeEventListener("move",h(this,this.onTouchMove));
a.nTactic.NTactic.stage.removeEventListener("end",h(this,this.onTouchEnd));a.nTactic.NTactic.stage.removeEventListener("paint",h(this,this.onPaint));null!=this.scroller&&(this.scroller.removeEventListener("ScrollerEvent.grab",h(this,this.onScrollerGrab)),this.scroller.removeEventListener("ScrollerEvent.position",h(this,this.onScrollerPosition)),this.scroller.removeEventListener("ScrollerEvent.release",h(this,this.onScrollerRelease)),this.set_scroller(null));null!=this.touchTarget&&(this.touchTarget.removeEventListener("begin",
h(this,this.onTouchBegin)),this.set_touchTarget(null));this.stopGliding()},set_touchTarget:function(b){null!=this.touchTarget&&(this.touchTarget.removeEventListener("begin",h(this,this.onTouchBegin)),a.nTactic.NTactic.stage.removeEventListener("move",h(this,this.onTouchMove)),a.nTactic.NTactic.stage.removeEventListener("end",h(this,this.onTouchEnd)));this.touchTarget=b;null!=b&&(b.addEventListener("begin",h(this,this.onTouchBegin)),a.nTactic.NTactic.stage.addEventListener("move",h(this,this.onTouchMove)),
a.nTactic.NTactic.stage.addEventListener("end",h(this,this.onTouchEnd)));return b},touchTarget:null,set_scroller:function(a){null!=this.scroller&&(this.scroller.removeEventListener("ScrollerEvent.grab",h(this,this.onScrollerGrab)),this.scroller.removeEventListener("ScrollerEvent.position",h(this,this.onScrollerPosition)),this.scroller.removeEventListener("ScrollerEvent.release",h(this,this.onScrollerRelease)));this.scroller=a;null!=a&&(a.set_pageSize(this.step/this.rowSize),a.set_maximum(Math.ceil((this.length+
this.step-this.bottomPadding)/this.rowSize)),a.set_value(this.get_position()/this.rowSize),a.addEventListener("ScrollerEvent.grab",h(this,this.onScrollerGrab)),a.addEventListener("ScrollerEvent.position",h(this,this.onScrollerPosition)),a.addEventListener("ScrollerEvent.release",h(this,this.onScrollerRelease)));return a},scroller:null,set_position:function(a){0>a||0>=this.length?this.set_rawPosition(a/0.2):a>this.length?this.set_rawPosition(this.length+(a-this.length)/0.2):this.set_rawPosition(a);
this.repaint();return a},get_position:function(){return 0>this.rawPosition||0>=this.length?0.2*this.rawPosition:this.rawPosition>this.length?this.length+0.2*(this.rawPosition-this.length):this.rawPosition},get_boundedPosition:function(){return 0<this.length&&this.rawPosition>this.length?this.length:0>this.rawPosition||0>=this.length?0:this.rawPosition},set_rawPosition:function(a){return this.rawPosition=a},rawPosition:null,set_step:function(a){this.step=a;null!=this.scroller&&(this.scroller.set_pageSize(a/
this.rowSize),this.scroller.set_maximum((this.length+a-this.bottomPadding)/this.rowSize));return a},step:null,set_length:function(a){0>a&&(a=0);this.length=a;null!=this.scroller&&this.scroller.set_maximum((a+this.step-this.bottomPadding)/this.rowSize);this.get_position()>a&&this.set_position(a);return a},length:null,set_rowSize:function(a){return this.rowSize=a},rowSize:null,touching:null,repaintRequested:null,scrollerGrabbed:null,velocity:null,touchDragging:null,touchDragged:null,touchDelta:null,
lastTouchPoint:null,lastRawPosition:null,lastFrameTime:null,gliding:null,bottomPadding:null,orientation:null,currentTouchId:null,snapThreshold:null,__class__:a.physics.Scrolling,__properties__:{set_rowSize:"set_rowSize",set_length:"set_length",set_step:"set_step",set_rawPosition:"set_rawPosition",get_boundedPosition:"get_boundedPosition",set_position:"set_position",get_position:"get_position",set_scroller:"set_scroller",set_touchTarget:"set_touchTarget"}});a.physics.event={};a.physics.event.PhysicsEvent=
function(b,c){a.event.Event.call(this,b);this.position=c};f["nfuzion.physics.event.PhysicsEvent"]=a.physics.event.PhysicsEvent;a.physics.event.PhysicsEvent.__name__=["nfuzion","physics","event","PhysicsEvent"];a.physics.event.PhysicsEvent.__super__=a.event.Event;a.physics.event.PhysicsEvent.prototype=g(a.event.Event.prototype,{position:null,__class__:a.physics.event.PhysicsEvent});a.sketch={};a.sketch.ISketch=function(){};f["nfuzion.sketch.ISketch"]=a.sketch.ISketch;a.sketch.ISketch.__name__=["nfuzion",
"sketch","ISketch"];a.sketch.ISketch.__interfaces__=[a.event.IEventDispatcher];a.sketch.ISketch.prototype={getClass:null,ready:null,__class__:a.sketch.ISketch};a.sketch.XmlSketch=function(b){a.event.EventDispatcher.call(this);this.ready=!1;this.assets=null;this.classes=new l.ds.StringMap;b=a.nTactic.NTactic.assetsPath+b;this.loader=new a.loader.TextLoader(b);this.loader.addEventListener("LoaderEvent.ready",h(this,this.onReady));this.mBluePrintPath=this.loader.url;b=this.mBluePrintPath.lastIndexOf("/");
this.themePath=0<b?r.substr(this.mBluePrintPath,0,b+1):"";this.loader.request()};f["nfuzion.sketch.XmlSketch"]=a.sketch.XmlSketch;a.sketch.XmlSketch.__name__=["nfuzion","sketch","XmlSketch"];a.sketch.XmlSketch.__interfaces__=[a.sketch.ISketch];a.sketch.XmlSketch.__super__=a.event.EventDispatcher;a.sketch.XmlSketch.prototype=g(a.event.EventDispatcher.prototype,{pahoUrl:function(a){a=a.split("\\").join("/").split("/");for(var c=[],d=0;d<a.length;){var e=a[d];++d;c.push(u.urlEncode(e))}return c.join("/")},
getRelativePath:function(a){var c=a;u.startsWith(a,"./")&&(c=this.themePath+r.substr(a,2,null));return c},readContainer:function(b,c){null==c&&(c=!1);var d;d=c?new a.sketch.type.SketchContainer(b.get("name"),0,0,0,0):new a.sketch.type.SketchContainer(b.get("name"),m.parseInt(b.get("x")),m.parseInt(b.get("y")),0,0);var e=b.get("class");null!=e?d.className=e:(c||d.setSize(m.parseInt(b.get("width")),m.parseInt(b.get("height"))),null!=b.get("visible")&&(d.visible="false"!=b.get("visible")),null!=b.get("alpha")&&
(d.alpha=m.parseFloat(b.get("alpha"))),e=b.get("paint"),null!=e&&(d.backgroundPaint=a.nTactic.NTactic.paintManager.get(e)),e=b.get("borderPaint"),null!=e&&(d.borderPaint=a.nTactic.NTactic.paintManager.get(e)),null!=b.get("borderWidth")&&(d.borderWidth=m.parseInt(b.get("borderWidth"))),e=b.get("scale"),null!=e&&"true"==e&&(d.scale=!0),this.readElement(b,d));return d},readElement:function(b,c){for(var d=b.elements();d.hasNext();){var e=d.next();switch(e.get_nodeName()){case "Guise":e=this.readContainer(e,
!0);c.addGuise(e);break;case "Container":e=this.readContainer(e);c.appendChildSketch(e);break;case "Text":var f=new a.sketch.type.SketchText(e.get("name"),m.parseInt(e.get("x")),m.parseInt(e.get("y")),m.parseInt(e.get("width")),m.parseInt(e.get("height")));f.text=e.get("text");null!=e.get("visible")&&(f.visible="false"!=e.get("visible"));null!=e.get("wrap")&&(f.wrap="true"==e.get("wrap"));var g=e.get("paint");null!=g&&(f.paint=a.nTactic.NTactic.paintManager.get(g));g=e.get("alignment");null!=g&&(f.alignment=
s.createEnum(a.type.Alignment,g));e=e.get("font");null!=e&&(f.font=a.nTactic.NTactic.fontManager.get(e));c.appendChildSketch(f);break;case "Frame":var f=e.get("name"),g=null,h=e.get("fit");null!=h&&(g=s.createEnum(a.graphics.type.Fit,h));null==g&&(g=a.graphics.type.Fit.stretch);e=new a.type.Frame(this.getRelativePath(this.pahoUrl(e.get("source"))),g,m.parseInt(e.get("x")),m.parseInt(e.get("y")),m.parseInt(e.get("width")),m.parseInt(e.get("height")));c.setFrame(f,e);break;case "Mask":g=null,h=e.get("fit"),
null!=h&&(g=s.createEnum(a.graphics.type.Fit,h)),null==g&&(g=a.graphics.type.Fit.stretch),e=new a.type.Frame(this.getRelativePath(this.pahoUrl(e.get("source"))),g,m.parseInt(e.get("x")),m.parseInt(e.get("y")),c._width,c._height),c.mask=e}}},parseClasses:function(){for(var b=this.assets.elementsNamed("Class");b.hasNext();){var c=b.next(),d=c.get("name"),e=new a.sketch.type.SketchContainer(d,0,0,m.parseInt(c.get("width")),m.parseInt(c.get("height")));this.readElement(c,e);this.classes.set(d,e)}},parsePalee:function(){for(var b=
this.assets.elementsNamed("Paint");b.hasNext();){var c=b.next(),d=c.get("name"),e=null,c=c.get("color");null!=c&&(e=a.utility.ColorTools.fromString(c));a.nTactic.NTactic.paintManager.set(d,e)}},parseFonts:function(){for(var b=this.assets.elementsNamed("Font");b.hasNext();){var c=b.next(),d=c.get("name"),e=this.getRelativePath(this.pahoUrl(c.get("source"))),f=m.parseFloat(c.get("size")),g=s.createEnum(a.font.type.FontStyle,c.get("style")),c=s.createEnum(a.font.type.FontWeight,c.get("weight"));a.nTactic.NTactic.fontManager.set(d,
e,f,g,c)}},onReady:function(b){this.loader.removeEventListener("LoaderEvent.ready",h(this,this.onReady));if(null!=this.loader.data){try{this.assets=t.parse(this.loader.data).elementsNamed("Assets").next()}catch(c){l.Log.trace("ERROR: "+m.string(c),{fileName:"XmlSketch.hx",lineNumber:80,className:"nfuzion.sketch.XmlSketch",methodName:"onReady"}),this.assets=null}if(null==this.assets){l.Log.trace("ERROR: No 'Assets' ag found.",{fileName:"XmlSketch.hx",lineNumber:85,className:"nfuzion.sketch.XmlSketch",
methodName:"onReady"});return}this.parsePalee();this.parseFonts();this.parseClasses()}null==this.assets&&l.Log.trace("ERROR: No assets loaded.",{fileName:"XmlSketch.hx",lineNumber:94,className:"nfuzion.sketch.XmlSketch",methodName:"onReady"});this.ready=!0;this.dispatchEvent(new a.sketch.event.SketchEvent("BuilderEvent.ready"))},getClass:function(a){return this.ready?this.classes.get(a):null},classes:null,loader:null,assets:null,themePath:null,mBluePrintPath:null,ready:null,__class__:a.sketch.XmlSketch});
a.sketch.event={};a.sketch.event.SketchEvent=function(b){a.event.Event.call(this,b)};f["nfuzion.sketch.event.SketchEvent"]=a.sketch.event.SketchEvent;a.sketch.event.SketchEvent.__name__=["nfuzion","sketch","event","SketchEvent"];a.sketch.event.SketchEvent.__super__=a.event.Event;a.sketch.event.SketchEvent.prototype=g(a.event.Event.prototype,{__class__:a.sketch.event.SketchEvent});a.sketch.type={};a.sketch.type.SketchComponent=function(b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==
c&&(c=0);this.alpha=1;a.geometry.Box.call(this,c,d,e,f);this.name=b;this.scale=!1;this.frames=new l.ds.StringMap;this.guises=new l.ds.StringMap;this.alpha=1;this.visible=!0};f["nfuzion.sketch.type.SketchComponent"]=a.sketch.type.SketchComponent;a.sketch.type.SketchComponent.__name__=["nfuzion","sketch","type","SketchComponent"];a.sketch.type.SketchComponent.__super__=a.geometry.Box;a.sketch.type.SketchComponent.prototype=g(a.geometry.Box.prototype,{addGuise:function(a){this.guises.set(a.name,a)},
setFrame:function(a,c){this.frames.iterator().hasNext()||(this.initialFrameName=a);this.frames.set(a,c)},visible:null,mask:null,guises:null,initialFrameName:null,frames:null,className:null,scale:null,borderPaint:null,borderWidth:null,backgroundPaint:null,alpha:null,name:null,__class__:a.sketch.type.SketchComponent});a.sketch.type.SketchContainer=function(b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);a.sketch.type.SketchComponent.call(this,b,c,d,e,f);this.children=[]};f["nfuzion.sketch.type.SketchContainer"]=
a.sketch.type.SketchContainer;a.sketch.type.SketchContainer.__name__=["nfuzion","sketch","type","SketchContainer"];a.sketch.type.SketchContainer.__super__=a.sketch.type.SketchComponent;a.sketch.type.SketchContainer.prototype=g(a.sketch.type.SketchComponent.prototype,{getChildSketch:function(a){for(var c=0,d=this.children;c<d.length;){var e=d[c];++c;if(e.name==a)return e}return null},childAddCommon:function(a){if(null!=this.getChildSketch(a.name))throw'Container already contains a child named "'+a.name+
'."';},insertChildSketch:function(a,c){this.childAddCommon(a);this.children.splice(c,0,a)},prependChildSketch:function(a){this.childAddCommon(a);this.children.unshift(a)},appendChildSketch:function(a){this.childAddCommon(a);this.children.push(a)},children:null,__class__:a.sketch.type.SketchContainer});a.sketch.type.SketchText=function(b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=0);null==c&&(c=0);a.sketch.type.SketchComponent.call(this,b,c,d,e,f);this.text="";this.wrap=!1};f["nfuzion.sketch.type.SketchText"]=
a.sketch.type.SketchText;a.sketch.type.SketchText.__name__=["nfuzion","sketch","type","SketchText"];a.sketch.type.SketchText.__super__=a.sketch.type.SketchComponent;a.sketch.type.SketchText.prototype=g(a.sketch.type.SketchComponent.prototype,{wrap:null,text:null,font:null,alignment:null,paint:null,__class__:a.sketch.type.SketchText});a.span={};a.span.ISpanClient=function(){};f["nfuzion.span.ISpanClient"]=a.span.ISpanClient;a.span.ISpanClient.__name__=["nfuzion","span","ISpanClient"];a.span.ISpanClient.__interfaces__=
[a.event.IEventDispatcher];a.span.ISpanClient.prototype={addMessageListener:null,send:null,disconnect:null,connect:null,connected:null,autoConnect:null,echo:null,url:null,__class__:a.span.ISpanClient};a.span.SpanClient=function(b,c,d,e,f){null==f&&(f=!0);a.event.EventDispatcher.call(this);this.metadata=new a.message.span.LetClientMetadata(d,e,f);this.newClient(b,c)};f["nfuzion.span.SpanClient"]=a.span.SpanClient;a.span.SpanClient.__name__=["nfuzion","span","SpanClient"];a.span.SpanClient.__interfaces__=
[a.span.ISpanClient];a.span.SpanClient.parseUrlString=function(b,c){null==c&&(c=!1);0>b.indexOf("://")&&(b="ws://"+b);var d=new a.url.Url(b,c);if(!d.valid)return null;switch(d.protocol){case "ws":break;case "ghost":break;default:if(c)throw"The protocol '"+d.protocol+"' is not supported.";return null}switch(d.protocol){case "ws":null==d.port&&(d.port=4412);break;case "ghost":d.port=null;d.host="ghost";break;default:return l.Log.trace("ERROR: This should never happen: protocol = "+d.protocol,{fileName:"SpanClient.hx",
lineNumber:101,className:"nfuzion.span.SpanClient",methodName:"parseUrlString"}),null}return d};a.span.SpanClient.__super__=a.event.EventDispatcher;a.span.SpanClient.prototype=g(a.event.EventDispatcher.prototype,{onClientData:function(b){b=this.lingo.from(b.data);if(null!=b){var c=s.getClassName(s.getClass(b)).split("."),d=c.pop(),c=c.pop();this.dispatchEvent(new a.span.event.MessageEvent(c,d,b))}},onClientDisconnect:function(b){this.dispatchEvent(new a.span.event.SpanClientEvent("SpanClientEvent.disconnect",
this));this.autoConnect&&null==this.reconnectDelay&&(this.reconnectDelay=new a.timer.Delay(h(this,this.reconnect),1))},onClientConnect:function(b){this.send(this.metadata);this.dispatchEvent(new a.span.event.SpanClientEvent("SpanClientEvent.connect",this))},addMessageListener:function(a,c){this.addEventListener(a,c)},reconnect:function(){this.reconnectDelay.destroy();this.reconnectDelay=null;this.connect()},send:function(a){return this.get_connected()?this.client.send(this.lingo.to(a)):!1},set_autoConnect:function(a){(this.autoConnect=
a)&&this.connect();return a},autoConnect:null,disconnect:function(){null!=this.reconnectDelay&&this.reconnectDelay.destroy();this.client.disconnect()},get_connected:function(){return null!=this.client?this.client.connected:!1},connected:null,connect:function(a,c){null!=a?(this.client.disconnect(),this.newClient(a,c)):null!=c&&(this.lingo=c);null!=this.reconnectDelay&&(this.reconnectDelay.destroy(),this.reconnectDelay=null);this.client.connected||this.client.connect()},set_echo:function(a){return this.echo=
a},echo:null,newClient:function(b,c){null!=this.client&&(this.client.removeEventListener("ClientEvent.connect",h(this,this.onClientConnect)),this.client.removeEventListener("ClientEvent.disconnect",h(this,this.onClientDisconnect)),this.client.removeEventListener("ClientEvent.data",h(this,this.onClientData)),this.client=null);this.url=a.span.SpanClient.parseUrlString(b);switch(this.url.protocol){case "ws":this.client=new a.client.WebSocketClient(this.url.host,this.url.port);break;case "ghost":this.client=
new a.client.GhostClient;break;default:l.Log.trace("ERROR: This should never happen: protocol = "+this.url.protocol,{fileName:"SpanClient.hx",lineNumber:131,className:"nfuzion.span.SpanClient",methodName:"newClient"})}if(null==c)switch(this.url.port){case 4400:case 4410:this.lingo=new a.lingo.XmlLingo;break;case 4402:case 4412:this.lingo=new a.lingo.JsonLingo;break;case 0:case 4403:case 4413:this.lingo=new a.lingo.HaxeLingo;break;default:l.Log.trace("WARNING: No default lingo specified for port "+
this.url.port+".  Using XmlLingo.",{fileName:"SpanClient.hx",lineNumber:145,className:"nfuzion.span.SpanClient",methodName:"newClient"}),this.lingo=new a.lingo.XmlLingo}else this.lingo=c;this.client.addEventListener("ClientEvent.connect",h(this,this.onClientConnect));this.client.addEventListener("ClientEvent.disconnect",h(this,this.onClientDisconnect));this.client.addEventListener("ClientEvent.data",h(this,this.onClientData))},client:null,reconnectDelay:null,url:null,lingo:null,metadata:null,__class__:a.span.SpanClient,
__properties__:{set_echo:"set_echo",get_connected:"get_connected",set_autoConnect:"set_autoConnect"}});a.span.event={};a.span.event.MessageEvent=function(b,c,d){a.event.Event.call(this,b);this.className=c;this.message=d};f["nfuzion.span.event.MessageEvent"]=a.span.event.MessageEvent;a.span.event.MessageEvent.__name__=["nfuzion","span","event","MessageEvent"];a.span.event.MessageEvent.__super__=a.event.Event;a.span.event.MessageEvent.prototype=g(a.event.Event.prototype,{message:null,className:null,
__class__:a.span.event.MessageEvent});a.span.event.SpanClientEvent=function(b,c){a.event.Event.call(this,b);this.client=c};f["nfuzion.span.event.SpanClientEvent"]=a.span.event.SpanClientEvent;a.span.event.SpanClientEvent.__name__=["nfuzion","span","event","SpanClientEvent"];a.span.event.SpanClientEvent.__super__=a.event.Event;a.span.event.SpanClientEvent.prototype=g(a.event.Event.prototype,{client:null,__class__:a.span.event.SpanClientEvent});a.storage={};a.storage.PersistentStorage=function(){a.event.EventDispatcher.call(this);
if(null!=a.storage.PersistentStorage.instance)throw"Persist may not be instantiated more than once.";this.ready=!1;a.storage.PersistentStorage.instance=this;this.records=new l.ds.StringMap;this.loadLocalStorage()};f["nfuzion.storage.PersistentStorage"]=a.storage.PersistentStorage;a.storage.PersistentStorage.__name__=["nfuzion","storage","PersistentStorage"];a.storage.PersistentStorage.create=function(){null==a.storage.PersistentStorage.instance&&(a.storage.PersistentStorage.instance=new a.storage.PersistentStorage);
return a.storage.PersistentStorage.instance};a.storage.PersistentStorage.__super__=a.event.EventDispatcher;a.storage.PersistentStorage.prototype=g(a.event.EventDispatcher.prototype,{decodeName:function(b){var c=null;u.endsWith(b,".record")&&(c=a.utility.BaseCode32.decodeString(r.substr(b,0,b.length-7)));return c},encodeName:function(b){return a.utility.BaseCode32.encodeString(b)+".record"},onRecordChange:function(a){var c=a.target;c.temporary||(a=this.encodeName(c.name),c=l.Serializer.run(c.value),
localStorage[a]=c)},loadLocalStorage:function(){for(var b=Object.keys(localStorage),c=0;c<b.length;){var d=b[c];++c;try{var e=this.decodeName(d),f=l.Unserializer.run(localStorage[d]),g=new a.storage.Record(e,f);this.records.set(e,g);g.addEventListener("RecordEvent.change",h(this,this.onRecordChange))}catch(m){}}this.ready=!0;this.dispatchEvent(new a.storage.event.StorageEvent("StorageEvent.ready"))},createRecord:function(b,c){null==c&&(c=!1);var d=null;this.records.exists(b)||(d=new a.storage.Record(b,
null,c),this.records.set(b,d),d.addEventListener("RecordEvent.change",h(this,this.onRecordChange)),d.save());return d},deleteRecord:function(b){var c=this.getRecord(b);if(null==c)return!1;if(!c.temporary){var d=this.encodeName(c.name);localStorage.removeitem(d)}c.removeEventListener("RecordEvent.change",h(this,this.onRecordChange));c.dispatchEvent(new a.storage.event.RecordEvent("RecordEvent.delete",c));return this.records.remove(b)},getTemporaryRecord:function(a){var c=this.records.get(a);null==
c&&(c=this.createRecord(a,!0));return c},getRecord:function(a){var c=this.records.get(a);null==c&&(c=this.createRecord(a));return c},records:null,ready:null,__class__:a.storage.PersistentStorage});a.storage.Record=function(b,c,d){null==d&&(d=!1);a.event.EventDispatcher.call(this);this.name=b;this.set_value(c);this.temporary=d};f["nfuzion.storage.Record"]=a.storage.Record;a.storage.Record.__name__=["nfuzion","storage","Record"];a.storage.Record.__super__=a.event.EventDispatcher;a.storage.Record.prototype=
g(a.event.EventDispatcher.prototype,{save:function(){this.dispatchEvent(new a.storage.event.RecordEvent("RecordEvent.change",this))},set_value:function(b){this.value=b;this.dispatchEvent(new a.storage.event.RecordEvent("RecordEvent.change",this));return b},value:null,temporary:null,name:null,__class__:a.storage.Record,__properties__:{set_value:"set_value"}});a.storage.event={};a.storage.event.RecordEvent=function(b,c){a.event.Event.call(this,b);this.target=c};f["nfuzion.storage.event.RecordEvent"]=
a.storage.event.RecordEvent;a.storage.event.RecordEvent.__name__=["nfuzion","storage","event","RecordEvent"];a.storage.event.RecordEvent.__super__=a.event.Event;a.storage.event.RecordEvent.prototype=g(a.event.Event.prototype,{target:null,__class__:a.storage.event.RecordEvent});a.storage.event.StorageEvent=function(b){a.event.Event.call(this,b)};f["nfuzion.storage.event.StorageEvent"]=a.storage.event.StorageEvent;a.storage.event.StorageEvent.__name__=["nfuzion","storage","event","StorageEvent"];a.storage.event.StorageEvent.__super__=
a.event.Event;a.storage.event.StorageEvent.prototype=g(a.event.Event.prototype,{__class__:a.storage.event.StorageEvent});a.timer={};a.timer.Delay=function(a,c){null==c&&(c=0);this.delayTimer=l.Timer.delay(a,Math.round(1E3*c))};f["nfuzion.timer.Delay"]=a.timer.Delay;a.timer.Delay.__name__=["nfuzion","timer","Delay"];a.timer.Delay.now=function(){var b=l.Timer.stamp();if(b<a.timer.Delay.lastTimestamp)return l.Log.trace("FATAL: Timer is broken!",{fileName:"Delay.hx",lineNumber:43,className:"nfuzion.timer.Delay",
methodName:"now"}),-3.4E38;a.timer.Delay.lastTimestamp=b;return a.timer.Delay.lastTimestamp};a.timer.Delay.prototype={destroy:function(){this.delayTimer.stop()},callbackFunction:null,end:null,delayTimer:null,__class__:a.timer.Delay};a.timer.Timer=function(b,c){null==c&&(c=0);a.event.EventDispatcher.call(this);this.id=Math.round(65535*Math.random());this.set_period(b);this.repeatCount=c};f["nfuzion.timer.Timer"]=a.timer.Timer;a.timer.Timer.__name__=["nfuzion","timer","Timer"];a.timer.Timer.now=function(){return a.timer.Delay.now()};
a.timer.Timer.__super__=a.event.EventDispatcher;a.timer.Timer.prototype=g(a.event.EventDispatcher.prototype,{onTimer:function(){this.currentCount++;this.dispatchEvent(new a.timer.event.TimerEvent("timer"));0!=this.repeatCount&&this.currentCount>this.repeatCount&&(this.stop(),this.dispatchEvent(new a.timer.event.TimerEvent("timerComplete")))},reset:function(){this.stop();this.currentCount=0},stop:function(){null!=this.timer&&(this.timer.stop(),this.timer=null)},start:function(){null!=this.timer&&this.timer.stop();
this.timer=new l.Timer(Math.round(1E3*this.period));this.timer.run=h(this,this.onTimer)},set_period:function(a){this.period=a;null!=this.timer&&(this.stop(),this.start());return a},period:null,id:null,get_running:function(){return null!=this.timer},running:null,repeatCount:null,timer:null,currentCount:null,__class__:a.timer.Timer,__properties__:{get_running:"get_running",set_period:"set_period"}});a.timer.event={};a.timer.event.TimerEvent=function(b){a.event.Event.call(this,b)};f["nfuzion.timer.event.TimerEvent"]=
a.timer.event.TimerEvent;a.timer.event.TimerEvent.__name__=["nfuzion","timer","event","TimerEvent"];a.timer.event.TimerEvent.__super__=a.event.Event;a.timer.event.TimerEvent.prototype=g(a.event.Event.prototype,{__class__:a.timer.event.TimerEvent});a.tween={};a.tween.Tween=function(a,c,d){this.properties=c;this.period=a;this.onComplete=d;this.start()};f["nfuzion.tween.Tween"]=a.tween.Tween;a.tween.Tween.__name__=["nfuzion","tween","Tween"];a.tween.Tween.prototype={destroy:function(){a.nTactic.NTactic.stage.removeEventListener("paint",
h(this,this.onPaint));if(null!=this.onComplete){var b=this.onComplete;this.onComplete=null;b()}},applyType:function(a,c){var d=a;switch(c[1]){case 1:d=1-a;d=1-d*d;break;case 2:d=a*a}return d},onPaint:function(b){b=(a.timer.Delay.now()-this.startTime)/this.period;1<b&&(b=1);for(var c=0,d=this.properties;c<d.length;){var e=d[c];++c;var f=this.applyType(b,e.type);e.set(e.initialValue+e.range*f)}1==b&&this.destroy()},start:function(){for(var b=0,c=this.properties;b<c.length;){var d=c[b];++b;d.initialValue=
d.get();d.range=d.targetValue-d.initialValue}this.startTime=a.timer.Delay.now();a.nTactic.NTactic.stage.addEventListener("paint",h(this,this.onPaint))},onComplete:null,startTime:null,properties:null,period:null,__class__:a.tween.Tween};a.tween.type={};a.tween.type.TweenProperty=function(b,c,d,e){this.target=b;this.name=c;this.targetValue=d;null==e&&(e=a.tween.type.TweenType.linear);this.type=e;d=!0;try{this.initialValue=w.getProperty(b,c)}catch(f){d=!1}if(d)this.get=h(this,this.getProperty);else try{this.get=
w.getProperty(b,"get_"+c),this.initialValue=this.get()}catch(g){this.get=null}if(null==this.get)l.Log.trace("ERROR: Getter for property '"+c+"' could not be found.",{fileName:"TweenProperty.hx",lineNumber:62,className:"nfuzion.tween.type.TweenProperty",methodName:"new"});else{d=!0;try{w.setProperty(b,c,this.initialValue)}catch(m){d=!1}if(d)this.set=h(this,this.setProperty);else try{this.set=w.getProperty(b,"set_"+c)}catch(n){this.set=null}null==this.set&&l.Log.trace("ERROR: Setter for property '"+
c+"' could not be found.",{fileName:"TweenProperty.hx",lineNumber:93,className:"nfuzion.tween.type.TweenProperty",methodName:"new"})}};f["nfuzion.tween.type.TweenProperty"]=a.tween.type.TweenProperty;a.tween.type.TweenProperty.__name__=["nfuzion","tween","type","TweenProperty"];a.tween.type.TweenProperty.prototype={setProperty:function(a){w.setProperty(this.target,this.name,a);return a},getProperty:function(){return w.getProperty(this.target,this.name)},set:null,get:null,target:null,range:null,initialValue:null,
type:null,targetValue:null,name:null,__class__:a.tween.type.TweenProperty};a.tween.type.TweenType=f["nfuzion.tween.type.TweenType"]={__ename__:["nfuzion","tween","type","TweenType"],__constructs__:["linear","fast","slow"]};a.tween.type.TweenType.linear=["linear",0];a.tween.type.TweenType.linear.toString=q;a.tween.type.TweenType.linear.__enum__=a.tween.type.TweenType;a.tween.type.TweenType.fast=["fast",1];a.tween.type.TweenType.fast.toString=q;a.tween.type.TweenType.fast.__enum__=a.tween.type.TweenType;
a.tween.type.TweenType.slow=["slow",2];a.tween.type.TweenType.slow.toString=q;a.tween.type.TweenType.slow.__enum__=a.tween.type.TweenType;a.type={};a.type.Alignment=f["nfuzion.type.Alignment"]={__ename__:["nfuzion","type","Alignment"],__constructs__:["left","center","right","justify"]};a.type.Alignment.left=["left",0];a.type.Alignment.left.toString=q;a.type.Alignment.left.__enum__=a.type.Alignment;a.type.Alignment.center=["center",1];a.type.Alignment.center.toString=q;a.type.Alignment.center.__enum__=
a.type.Alignment;a.type.Alignment.right=["right",2];a.type.Alignment.right.toString=q;a.type.Alignment.right.__enum__=a.type.Alignment;a.type.Alignment.justify=["justify",3];a.type.Alignment.justify.toString=q;a.type.Alignment.justify.__enum__=a.type.Alignment;a.type.Color=f["nfuzion.type.Color"]={__ename__:["nfuzion","type","Color"],__constructs__:"aqua black blue fuchsia gray green red white yellow rgb".split(" ")};a.type.Color.aqua=["aqua",0];a.type.Color.aqua.toString=q;a.type.Color.aqua.__enum__=
a.type.Color;a.type.Color.black=["black",1];a.type.Color.black.toString=q;a.type.Color.black.__enum__=a.type.Color;a.type.Color.blue=["blue",2];a.type.Color.blue.toString=q;a.type.Color.blue.__enum__=a.type.Color;a.type.Color.fuchsia=["fuchsia",3];a.type.Color.fuchsia.toString=q;a.type.Color.fuchsia.__enum__=a.type.Color;a.type.Color.gray=["gray",4];a.type.Color.gray.toString=q;a.type.Color.gray.__enum__=a.type.Color;a.type.Color.green=["green",5];a.type.Color.green.toString=q;a.type.Color.green.__enum__=
a.type.Color;a.type.Color.red=["red",6];a.type.Color.red.toString=q;a.type.Color.red.__enum__=a.type.Color;a.type.Color.white=["white",7];a.type.Color.white.toString=q;a.type.Color.white.__enum__=a.type.Color;a.type.Color.yellow=["yellow",8];a.type.Color.yellow.toString=q;a.type.Color.yellow.__enum__=a.type.Color;a.type.Color.rgb=function(b,c,d){b=["rgb",9,b,c,d];b.__enum__=a.type.Color;b.toString=q;return b};a.type.Frame=function(b,c,d,e,f,g,h){null==h&&(h=!1);a.geometry.Box.call(this,d,e,f,g);this.url=
b;this.fit=c;this.floating=h};f["nfuzion.type.Frame"]=a.type.Frame;a.type.Frame.__name__=["nfuzion","type","Frame"];a.type.Frame.__super__=a.geometry.Box;a.type.Frame.prototype=g(a.geometry.Box.prototype,{floating:null,fit:null,url:null,__class__:a.type.Frame});a.type.Orientation=f["nfuzion.type.Orientation"]={__ename__:["nfuzion","type","Orientation"],__constructs__:["horizontal","vertical"]};a.type.Orientation.horizontal=["horizontal",0];a.type.Orientation.horizontal.toString=q;a.type.Orientation.horizontal.__enum__=
a.type.Orientation;a.type.Orientation.vertical=["vertical",1];a.type.Orientation.vertical.toString=q;a.type.Orientation.vertical.__enum__=a.type.Orientation;a.type.VerticalAlignment=f["nfuzion.type.VerticalAlignment"]={__ename__:["nfuzion","type","VerticalAlignment"],__constructs__:["top","middle","bottom"]};a.type.VerticalAlignment.top=["top",0];a.type.VerticalAlignment.top.toString=q;a.type.VerticalAlignment.top.__enum__=a.type.VerticalAlignment;a.type.VerticalAlignment.middle=["middle",1];a.type.VerticalAlignment.middle.toString=
q;a.type.VerticalAlignment.middle.__enum__=a.type.VerticalAlignment;a.type.VerticalAlignment.bottom=["bottom",2];a.type.VerticalAlignment.bottom.toString=q;a.type.VerticalAlignment.bottom.__enum__=a.type.VerticalAlignment;a.url={};a.url.Url=function(a,c){null==c&&(c=!1);this.fromString(a,c)};f["nfuzion.url.Url"]=a.url.Url;a.url.Url.__name__=["nfuzion","url","Url"];a.url.Url.prototype={isNumeric:function(a){var c=m.parseInt(a);return m.string(c)==a?!0:!1},fromString:function(a,c){null==c&&(c=!1);this.path=
this.port=this.host=this.protocol=null;this.valid=!1;if(null!=a){var d=a.split("://");if(2==d.length)if(this.protocol=d.shift(),""==this.protocol){if(c)throw"No protocol is specified.";}else if(a=d.shift(),""==a){if(c)throw"No hostname is specified.";}else{d=a.indexOf("/");if(0<=d){if(0==d){if(c)throw"No hostname is specified.";return}a=r.substr(a,0,d);this.path=r.substr(a,d,null)}else this.path="";d=a.split(":");switch(d.length){case 1:this.host=d.shift();break;case 2:this.host=d.shift();d=d.shift();
if(""==d){if(c)throw"No port is specified.";return}this.port=m.parseInt(d);if(m.string(this.port)!=d&&(this.port=null,c))throw"The port is not a number.";if(0>this.port||65535<this.port)if(this.port=null,c)throw"The port is out of range.";break;default:if(c)throw"There are too many colons after the hostname.";}if(this.isNumeric(this.host.charAt(0))){var e=this.host.split(".");if(4==e.length){for(var f=[],d=0;d<e.length;){var g=e[d];++d;var h=m.parseInt(g);if(m.string(h)!=g||0>h||255<h)break;f.push(h)}if(4==
f.length){if(0==f[0]||169==f[0]&&254==f[1]||192==f[0]&&0==f[1]&&2==f[2]||198==f[0]&&51==f[1]&&100==f[2]||203==f[0]&&0==f[1]&&113==f[2]||224==(f[0]&240)||240==(f[0]&240)||255==f[0]&&255==f[1]&&255==f[2]&&255==f[3]){if(c)throw"The specified IP is reserved by the IETF.";}else this.valid=!0;return}}}if(255<this.host.length){if(c)throw"The specified hostname is too long.";}else{if(0<=this.host.indexOf("..")&&c)throw"The hostname may not include unseparated periods.";e=this.host.split(".");for(d=0;d<e.length;){f=
e[d];++d;if("-"==f.charAt(0)||"-"==f.charAt(f.length-1)){if(c)throw"The hostname may not begin or end with the hyphen.";return}if(63<f.length){if(c)throw"The hostname component may not be longer than 63 characters.";return}if(1>f.length){if(c)throw"The hostname may not begin or end with a period.";return}}e=0;for(d=this.host.length;e<d;)if(f=e++,g=r.cca(this.host,f),!(g>=r.cca("a",0)&&g<=r.cca("z",0)||g>=r.cca("A",0)&&g<=r.cca("Z",0)||g>=r.cca("0",0)&&g<=r.cca("9",0)||g==r.cca("-",0)||g==r.cca(".",
0))){if(c)throw"The hostname may not contain the character '"+this.host.charAt(f)+"'.";return}this.valid=!0}}else if(c)throw"There are too many protocol delimiters.";}},toString:function(){var a=null;this.valid&&(a=this.protocol+"://"+this.host,null!=this.port&&(a=a+":"+this.port),a+=this.path);return a},valid:null,path:null,port:null,host:null,protocol:null,__class__:a.url.Url};a.utility={};a.utility.BaseCode32=function(){};f["nfuzion.utility.BaseCode32"]=a.utility.BaseCode32;a.utility.BaseCode32.__name__=
["nfuzion","utility","BaseCode32"];a.utility.BaseCode32.encodeString=function(a){a=l.io.Bytes.ofString(a);var c=l.io.Bytes.ofString("abcdefghijklmnopqrstuvwxyz234567");return(new l.crypto.BaseCode(c)).encodeBytes(a).toString()};a.utility.BaseCode32.decodeString=function(a){var c=l.io.Bytes.ofString("abcdefghijklmnopqrstuvwxyz234567");return(new l.crypto.BaseCode(c)).decodeBytes(l.io.Bytes.ofString(a)).toString()};a.utility.CharacterTools=function(){};f["nfuzion.utility.CharacterTools"]=a.utility.CharacterTools;
a.utility.CharacterTools.__name__=["nfuzion","utility","CharacterTools"];a.utility.CharacterTools.isNumeric=function(b){return b>=a.utility.CharacterTools.CODE_0&&b<=a.utility.CharacterTools.CODE_9?!0:!1};a.utility.CharacterTools.isUpperAlpha=function(b){return b>=a.utility.CharacterTools.CODE_A&&b<=a.utility.CharacterTools.CODE_Z?!0:!1};a.utility.CharacterTools.isLowerAlpha=function(b){return b>=a.utility.CharacterTools.CODE_a&&b<=a.utility.CharacterTools.CODE_z?!0:!1};a.utility.CharacterTools.isAlpha=
function(b){return a.utility.CharacterTools.isUpperAlpha(b)||a.utility.CharacterTools.isLowerAlpha(b)?!0:!1};a.utility.CharacterTools.isAlphaNumeric=function(b){return a.utility.CharacterTools.isAlpha(b)||a.utility.CharacterTools.isNumeric(b)?!0:!1};a.utility.ColorTools=function(){};f["nfuzion.utility.ColorTools"]=a.utility.ColorTools;a.utility.ColorTools.__name__=["nfuzion","utility","ColorTools"];a.utility.ColorTools.toInt=function(a){var c;switch(a[1]){case 9:c=a[2]<<16|a[3]<<8|a[4];break;case 0:c=
65535;break;case 1:c=0;break;case 2:c=255;break;case 3:c=16711935;break;case 4:c=8421504;break;case 5:c=65280;break;case 6:c=16711680;break;case 7:c=16777215;break;case 8:c=16776960}return c};a.utility.ColorTools.toString=function(b){return u.hex(a.utility.ColorTools.toInt(b),6)};a.utility.ColorTools.fromInt=function(b){return a.type.Color.rgb(b>>16&255,b>>8&255,b&255)};a.utility.ColorTools.fromString=function(b){var c=null;if(a.utility.CharacterTools.isAlpha(r.cca(b,0)))try{c=s.createEnum(a.type.Color,
b)}catch(d){c=null}else"#"==b.charAt(0)&&(b="0x"+r.substr(b,1,null)),b=m.parseInt(b),c=a.utility.ColorTools.fromInt(b);return c};a.widget={};a.widget.IWidget=function(){};f["nfuzion.widget.IWidget"]=a.widget.IWidget;a.widget.IWidget.__name__=["nfuzion","widget","IWidget"];a.widget.IWidget.__interfaces__=[a.event.IEventDispatcher,a.relation.IChild];a.widget.IWidget.prototype={destroy:null,fullName:null,cancel:null,copy:null,clone:null,removedFromStage:null,addedToStage:null,encloseGraphics:null,name:null,
bubbleComponentEvents:null,__class__:a.widget.IWidget};a.widget.Simple=function(b,c){this.listenersAdded=!1;a.event.ListenerManagerAndEventDispatcher.call(this);this.name=b;this.initialize();null!=c&&this.encloseGraphics(c);this.restoreListeners()};f["nfuzion.widget.Simple"]=a.widget.Simple;a.widget.Simple.__name__=["nfuzion","widget","Simple"];a.widget.Simple.__interfaces__=[a.widget.IWidget];a.widget.Simple.__super__=a.event.ListenerManagerAndEventDispatcher;a.widget.Simple.prototype=g(a.event.ListenerManagerAndEventDispatcher.prototype,
{destroy:function(){this.removeListeners();this.implementation=this.parent=null;this.set_target(null)},get_fullName:function(){return null!=this.parent?this.parent.get_fullName()+"."+this.name:this.name},fullName:null,cancel:function(){},copy:function(b){if(!n.Boot.__instanceof(b,a.widget.Simple))throw"ERROR: Source widget is not an instance of Simple.";this.bubbleComponentEvents=b.bubbleComponentEvents;this.set_visible(b.get_visible());this.set_enabled(b.get_enabled());this.set_acceptsFocus(b.get_acceptsFocus())},
clone:function(a){var c=null;null!=this.implementation&&(c=this.implementation.clone());var d=s.getClass(this);null==a&&(a=this.name);a=s.createInstance(d,[a,c]);a.copy(this);return a},dispatchEvent:function(b){a.event.ListenerManagerAndEventDispatcher.prototype.dispatchEvent.call(this,b);n.Boot.__instanceof(b,a.event.BubblingEvent)&&null!=this.parent&&(!b.bubbles||b.stop||b.stopNow||this.parent.dispatchEvent(b))},getComponentChild:function(a,c){var d=null;try{d=a}catch(e){d=null}var f=null;null!=
d&&(f=d.getChild(c));return f},get_hasHotspot:function(){return null!=this.hotspot},hasHotspot:null,takeFocus:function(){this.get_hasFocus()&&this.endFocus()},giveFocus:function(){this.get_hasFocus()||this.beginFocus()},get_hasFocus:function(){return this.hasFocus},hasFocus:null,set_acceptsFocus:function(a){return this.acceptsFocus=a},get_acceptsFocus:function(){return null!=this.focus&&this.acceptsFocus},acceptsFocus:null,update:function(){},set_enabled:function(a){return null!=this.target?(this.target.touchEnabled!=
a&&(this.target.set_touchEnabled(a),a?this.restoreListeners():(this.removeListeners(),this.cancel()),this.update()),this.target.touchEnabled):a},get_enabled:function(){return null==this.target?!1:this.target.touchEnabled},enabled:null,set_visible:function(b){this.visible=b;null!=this.implementation&&this.implementation.visible!=b&&(this.implementation.set_visible(b),this.dispatchEvent(new a.widget.event.WidgetEvent("WidgetEvent.visibility",this)));return b},get_visible:function(){return this.visible},
visible:null,discardEvent:function(a){a.stopImmediatePropagation()},removedFromStage:function(){this.purgeListeners();this.takeFocus()},addedToStage:function(){this.restoreListeners()},endFocus:function(){this.implementation.set_guise(null);this.hasFocus=!1},beginFocus:function(){this.implementation.set_guise("focus");this.hasFocus=!0},removeListeners:function(){this.detachAllListeners();this.listenersAdded=!1},addListeners:function(){this.listenersAdded=!0},purgeListeners:function(){this.listenersAdded&&
this.removeListeners()},restoreListeners:function(){null!=this.implementation&&this.get_enabled()&&null!=this.implementation.get_stage()&&!this.listenersAdded&&this.addListeners()},set_target:function(a){this.target!=a&&(this.purgeListeners(),this.target=a,this.restoreListeners());return this.target},target:null,orphan:function(){this.parent=null},adopt:function(a){this.parent=a;null!=a.implementation.get_stage()&&this.addedToStage()},findComponents:function(a){null!=this.implementation&&(this.purgeListeners(),
a=this.get_hasFocus(),null!=this.focus&&this.focus.set_alpha(0),this.focus=this.getComponentChild(this.implementation,"focus"),null!=this.focus&&this.focus.set_alpha(0),this.hotspot=this.getComponentChild(this.implementation,"hotspot"),null!=this.hotspot?this.set_target(this.hotspot):this.set_target(this.implementation),this.set_enabled(!1),a&&null!=this.focus&&(this.focus.set_alpha(1),this.beginFocus()))},configureComponent:function(){},refresh:function(){this.purgeListeners();null!=this.implementation&&
(n.Boot.__instanceof(this.implementation,a.graphics.Container)&&this.findComponents(this.implementation),this.configureComponent());this.restoreListeners()},encloseGraphics:function(a){if(null!=this.implementation)return l.Log.trace("ERROR: Widget already contains graphics.",{fileName:"Simple.hx",lineNumber:78,className:"nfuzion.widget.Simple",methodName:"encloseGraphics"}),!1;this.implementation=a;this.refresh();return null!=a},initialize:function(){this.bubbleComponentEvents=!0},listenersAdded:null,
hotspot:null,focus:null,bubbleComponentEvents:null,parent:null,name:null,implementation:null,__class__:a.widget.Simple,__properties__:{set_target:"set_target",set_visible:"set_visible",get_visible:"get_visible",set_enabled:"set_enabled",get_enabled:"get_enabled",set_acceptsFocus:"set_acceptsFocus",get_acceptsFocus:"get_acceptsFocus",get_hasFocus:"get_hasFocus",get_hasHotspot:"get_hasHotspot",get_fullName:"get_fullName"}});a.widget.Group=function(b,c){this.firstUpdate=!1;this.currentComponent=null;
a.widget.Simple.call(this,b,c)};f["nfuzion.widget.Group"]=a.widget.Group;a.widget.Group.__name__=["nfuzion","widget","Group"];a.widget.Group.__interfaces__=[a.relation.IParent];a.widget.Group.__super__=a.widget.Simple;a.widget.Group.prototype=g(a.widget.Simple.prototype,{destroy:function(){for(a.widget.Simple.prototype.destroy.call(this);0<this.children.length;){var b=this.children.pop();b.orphan();b.destroy()}},get_fullName:function(){return null==this.parent?a.widget.Simple.prototype.get_fullName.call(this):
this.parent.get_fullName()+"."+this.name},copy:function(b){a.widget.Simple.prototype.copy.call(this,b);if(!n.Boot.__instanceof(b,a.widget.Group))throw"ERROR: Source widget is not an instance of Group.";this.set_exclusiveChildren(b.exclusiveChildren);this.set_radioButtons(b.radioButtons);this.set_requireSelection(b.requireSelection);this.setSelection(b.getSelection(),!1);this.set_eventsRequireChange(b.eventsRequireChange)},removedFromStage:function(){a.widget.Simple.prototype.removedFromStage.call(this);
for(var b=0,c=this.children;b<c.length;){var d=c[b];++b;d.removedFromStage()}},addedToStage:function(){a.widget.Simple.prototype.addedToStage.call(this);for(var b=0,c=this.children;b<c.length;){var d=c[b];++b;d.addedToStage()}},findChildWidgets:function(b){var c=0;for(b=b.children;c<b.length;){var d=b[c];++c;var e=!1,f=this.createChild(d.name,d);null!=f&&(this.appendChild(f),e=!0);e||n.Boot.__instanceof(d,a.graphics.Container)&&this.findChildWidgets(d)}},createChild:function(a,c){var d=a.split("_");
return 1<d.length&&(d=d.pop(),d=d.charAt(0).toUpperCase()+r.substr(d,1,null),d=s.resolveClass("nfuzion.widget."+d),null!=d&&(d=s.createInstance(d,[a,c]),null!=d))?d:null},findComponents:function(b){a.widget.Simple.prototype.findComponents.call(this,b);this.findChildWidgets(b)},get_childCount:function(){return this.children.length},childCount:null,getChild:function(a){for(var c=0,d=this.children;c<d.length;){var e=d[c];++c;if(e.name==a)return e}return null},getChildAt:function(a){return 0<=a&&a<this.children.length?
this.children[a]:null},getChildIndex:function(a){for(var c=0,d=this.get_childCount();c<d;){var e=c++;if(this.children[e]==a)return e}return-1},removeChildAt:function(a){return 0<a&&a<this.children.length?(this.children[a].orphan(),this.removeChild(this.children[a])):!1},removeChild:function(a){var c=r.remove(this.children,a);a.orphan();return c},insertChildAfter:function(a,c){var d=this.getChildIndex(c);return 0<=d?(this.insertChild(a,d),!0):!1},insertChild:function(b,c){null==c&&(c=0);if(0==this.get_childCount()||
c>=this.get_childCount())return this.appendChild(b);0>=c&&(c=0);if(null!=this.implementation&&n.Boot.__instanceof(this.implementation,a.graphics.Container)){var d=this.implementation;if(null!=b.implementation&&null==b.implementation.parent){var e=this.getChildAt(c);d.insertChildAfter(b.implementation,e.implementation)}}b.adopt(this);this.children.splice(c,0,b);return!0},appendChild:function(b){if(null==b)throw"ERROR: Failed to add null child on "+this.name+".";if(null!=this.implementation&&n.Boot.__instanceof(this.implementation,
a.graphics.Container)){var c=this.implementation;null!=b.implementation&&null==b.implementation.parent&&c.appendChild(b.implementation)}this.children.push(b);b.adopt(this);return!0},set_eventsRequireChange:function(a){return this.eventsRequireChange=a},eventsRequireChange:null,previousSelection:function(){},nextSelection:function(){},onButtonClick:function(a){a.target.activated?this.requireSelection?this.setSelection(a.target.name):this.setSelection(null):this.setSelection(a.target.name)},onVisibility:function(a){if(null==
a||!0==a.target.get_visible())for(var c=0,d=this.get_childCount();c<d;){var e=c++,e=this.getChildAt(e);null!=e&&(null!=a&&e==a.target||e.set_visible(!1))}},hideChildren:function(a){},getSelection:function(){return null},setSelection:function(b,c){null==c&&(c=!0);for(var d=!1,e=!1,f=null,g=null,h=0,l=this.children;h<l.length;){var m=l[h];++h;null!=m&&u.endsWith(m.name,"_button")&&(f=n.Boot.__cast(m,a.widget.Button),d||m.name!=b?f.set_activated(!1):(d=!0,f.activated?f.name==b&&(e=!0):(g=f,f.set_activated(!0))))}e&&
this.eventsRequireChange||!c||null!=g&&this.dispatchEvent(new a.widget.event.WidgetEvent("WidgetEvent.select",g,!1))},set_requireSelection:function(a){return this.requireSelection=a},requireSelection:null,set_radioButtons:function(b){this.radioButtons=b;for(var c=!1,d=0,e=this.children;d<e.length;){var f=e[d];++d;null!=f&&u.endsWith(f.name,"_button")&&(b?(f=n.Boot.__cast(f,a.widget.Button),f.addEventListener("ButtonEvent.click",h(this,this.onButtonClick)),c?f.set_activated(!1):f.activated&&(c=!0)):
f.removeEventListener("ButtonEvent.click",h(this,this.onButtonClick)))}return b},radioButtons:null,set_exclusiveChildren:function(a){(this.exclusiveChildren=a)?this.attachListener(this,"WidgetEvent.visibility",h(this,this.onVisibility)):this.detachListener(this,"WidgetEvent.visibility",h(this,this.onVisibility));if(a)this.onVisibility();return a},exclusiveChildren:null,getWidgetByArray:function(a){if(null==a||0==a.length)return null;var c=a.shift(),d=this.getChild(c);null==d&&(d=this.createChild(c),
this.appendChild(d));if(null==d)return l.Log.trace("ERROR: Could not find or create child '"+c+"'.",{fileName:"Group.hx",lineNumber:72,className:"nfuzion.widget.Group",methodName:"getWidgetByArray"}),null;if(0<a.length){if(null!=d)return d.getWidgetByArray(a);l.Log.trace("ERROR: Widget '"+c+"' cannot contain children.",{fileName:"Group.hx",lineNumber:84,className:"nfuzion.widget.Group",methodName:"getWidgetByArray"});return null}return d},getWidget:function(a){if(null==a||""==a)return null;a=a.split(".");
return this.getWidgetByArray(a)},initialize:function(){a.widget.Simple.prototype.initialize.call(this);this.children=[];this.set_exclusiveChildren(!1);this.set_radioButtons(!1);this.set_requireSelection(!1);this.currentComponent=null;this.set_eventsRequireChange(!0);this.firstUpdate=!1},children:null,firstUpdate:null,currentComponent:null,__class__:a.widget.Group,__properties__:g(a.widget.Simple.prototype.__properties__,{set_exclusiveChildren:"set_exclusiveChildren",set_radioButtons:"set_radioButtons",
set_requireSelection:"set_requireSelection",set_eventsRequireChange:"set_eventsRequireChange",get_childCount:"get_childCount"})});a.widget.Button=function(b,c){this.mDirectClick=this.pressed=this.down=!1;this.pressDelayPeriod=0;a.widget.Group.call(this,b,c)};f["nfuzion.widget.Button"]=a.widget.Button;a.widget.Button.__name__=["nfuzion","widget","Button"];a.widget.Button.__super__=a.widget.Group;a.widget.Button.prototype=g(a.widget.Group.prototype,{setText:function(a,c){null==c&&(c="text_label");var d=
this.getChild(c);null!=d&&d.set_text(a)},updateIcons:function(){if(null!=this.iconFrameName&&null!=this.icon){var a=this.iconFrameName+"_"+this.iconFrameNameSuffix;if(this.icon.frames.exists(a))this.icon["goto"](a);else this.icon["goto"](this.iconFrameName)}},gotoIcon:function(a){this.iconFrameName=a;this.updateIcons()},copy:function(b){a.widget.Group.prototype.copy.call(this,b);if(!n.Boot.__instanceof(b,a.widget.Button))throw"ERROR: Source widget is not an instance of Button.";this.set_longPressDelay(b.get_longPressDelay());
this.set_toggleMode(b.toggleMode);this.set_autoRepeatPeriod(b.autoRepeatPeriod);this.set_autoRepeatDelay(b.autoRepeatDelay)},set_activated:function(b){this.activated!=b&&(this.activated=b,this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.activeChange",this,!0)),this.update());return b},activated:null,set_down:function(b){this.down=b;this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.toggle",this,!0));return b},down:null,set_pressed:function(b){(this.pressed=b)?this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.down",
this,!0)):this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.up",this,!0));return b},pressed:null,toggle:function(){this.set_down(!this.down)},update:function(){if(null!=this.implementation){var a=this.toggleMode&&this.down||!this.toggleMode&&this.pressed;this.get_enabled()?a?(this.implementation.set_guise("down"),this.iconFrameNameSuffix="down"):this.activated?(this.implementation.set_guise("active"),this.iconFrameNameSuffix="active"):(this.implementation.set_guise(null),this.iconFrameNameSuffix=
"up"):(this.implementation.set_guise("disabled"),this.iconFrameNameSuffix="disabled");if(this.implementation.frames.exists(this.iconFrameNameSuffix))this.implementation["goto"](this.iconFrameNameSuffix);else if(this.implementation.frames.keys().hasNext())this.implementation["goto"](this.implementation.frames.keys().next());this.updateIcons()}},set_requireDirectTouch:function(a){this.requireDirectTouch!=a&&(this.requireDirectTouch=a);return this.requireDirectTouch},requireDirectTouch:null,set_autoRepeatDelay:function(a){return this.autoRepeatDelay=
a},autoRepeatDelay:null,set_autoRepeatPeriod:function(a){return this.autoRepeatPeriod=a},autoRepeatPeriod:null,set_toggleMode:function(a){return this.toggleMode=a},toggleMode:null,set_longPressDelay:function(a){this.longPressTimer.set_period(a);return a},get_longPressDelay:function(){return this.longPressTimer.period},onAutoRepeat:function(b){this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.autoClick",this,!0));0<this.autoRepeatPeriod?this.autoRepeatTimer.period!=this.autoRepeatPeriod&&
this.autoRepeatTimer.set_period(this.autoRepeatPeriod):this.autoRepeatTimer.stop()},onDownLong:function(b){this.longPressTimer.stop();this.mDirectClick=!1;this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.longPress",this,!0))},release:function(){this.pressed&&(this.set_pressed(!1),this.longPressTimer.stop(),this.autoRepeatTimer.stop(),this.update())},cancel:function(){this.release();null!=this.pressDelay&&this.pressDelay.destroy();this.detachListener(this.target,"over",h(this,this.onTouchOver));
this.detachListener(this.implementation.get_stage(),"end",h(this,this.onTouchEnd));this.detachListener(this.target,"out",h(this,this.onTouchOut));this.currentTouchId=null},press:function(){this.pressed||(this.set_pressed(!0),0<this.get_longPressDelay()&&this.longPressTimer.start(),0<this.autoRepeatPeriod&&(this.autoRepeatTimer.set_period(this.autoRepeatDelay),this.autoRepeatTimer.start()),this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.autoClick",this,!0)),this.update())},endTouch:function(){this.detachListener(this.implementation.get_stage(),
"end",h(this,this.onTouchEnd));this.detachListener(this.target,"out",h(this,this.onTouchOut))},startTouch:function(){this.attachListener(this.target.get_stage(),"end",h(this,this.onTouchEnd));this.attachListener(this.target,"out",h(this,this.onTouchOut));0<this.pressDelayPeriod?this.pressDelay=new a.timer.Delay(h(this,this.press),this.pressDelayPeriod):this.press()},onTouchEnd:function(b){this.currentTouchId==b.id&&(this.endTouch(),this.bubbleComponentEvents||b.stopPropagation(),this.currentTouchId=
null,b.target==this.target&&(this.toggleMode&&this.set_down(!this.down),b.stopPropagation(),this.dispatchEvent(new a.widget.event.ButtonEvent("ButtonEvent.click",this,!0))),this.release())},onTouchOut:function(a){this.currentTouchId==a.id&&(this.directTouch||(this.currentTouchId=null,this.endTouch()),this.bubbleComponentEvents||a.stopPropagation(),this.release())},onTouchOver:function(a){this.get_enabled()&&(this.currentTouchId==a.id?(this.bubbleComponentEvents||a.stopPropagation(),this.press()):
this.requireDirectTouch||null!=this.currentTouchId||(this.currentTouchId=a.id,this.directTouch=!1,this.startTouch()))},onTouchBegin:function(a){this.get_enabled()&&null==this.currentTouchId&&(this.currentTouchId=a.id,this.bubbleComponentEvents||a.stopPropagation(),this.directTouch=!0,this.startTouch())},destroy:function(){null!=this.pressDelay&&this.pressDelay.destroy();a.widget.Group.prototype.destroy.call(this)},removeListeners:function(){a.widget.Group.prototype.removeListeners.call(this);this.currentTouchId=
null;this.release()},addListeners:function(){a.widget.Group.prototype.addListeners.call(this);this.attachListener(this.longPressTimer,"timer",h(this,this.onDownLong));this.attachListener(this.autoRepeatTimer,"timer",h(this,this.onAutoRepeat));this.attachListener(this.target,"begin",h(this,this.onTouchBegin));this.attachListener(this.target,"over",h(this,this.onTouchOver))},set_target:function(b){return a.widget.Group.prototype.set_target.call(this,b)},findComponents:function(b){a.widget.Group.prototype.findComponents.call(this,
b);this.set_enabled(!0);this.icon=this.getComponentChild(this.implementation,"icon");b=this.getChild("text_label");null!=b&&n.Boot.__instanceof(b,a.widget.Label)&&(this.label=b);this.update()},initialize:function(){a.widget.Group.prototype.initialize.call(this);this.bubbleComponentEvents=!1;this.longPressTimer=new a.timer.Timer(0);this.autoRepeatTimer=new a.timer.Timer(0);this.set_requireDirectTouch(!0);this.set_autoRepeatDelay(0);this.set_autoRepeatPeriod(0);this.set_activated(!1);this.currentTouchId=
null},pressDelay:null,iconFrameNameSuffix:null,iconFrameName:null,icon:null,currentTouchId:null,mDirectClick:null,directTouch:null,autoRepeatTimer:null,longPressTimer:null,pressDelayPeriod:null,label:null,__class__:a.widget.Button,__properties__:g(a.widget.Group.prototype.__properties__,{set_longPressDelay:"set_longPressDelay",get_longPressDelay:"get_longPressDelay",set_toggleMode:"set_toggleMode",set_autoRepeatPeriod:"set_autoRepeatPeriod",set_autoRepeatDelay:"set_autoRepeatDelay",set_requireDirectTouch:"set_requireDirectTouch",
set_pressed:"set_pressed",set_down:"set_down",set_activated:"set_activated"})});a.widget.Chain=function(b,c){this.currentTouchId=null;a.widget.Group.call(this,b,c)};f["nfuzion.widget.Chain"]=a.widget.Chain;a.widget.Chain.__name__=["nfuzion","widget","Chain"];a.widget.Chain.__super__=a.widget.Group;a.widget.Chain.prototype=g(a.widget.Group.prototype,{onScrollerPosition:function(a){this.pageScroller.thumbDown&&(this.currentPage=Math.round(this.pageScroller.get_value()),this.gotoPage())},onMagicScroll:function(a){var c=
a.deltaX*this.implementation.get_stage()._width;switch(a.phase[1]){case 0:this.killTweens();this.attachListener(this.implementation.get_stage(),"paint",h(this,this.onPaint));this.startMoving();this.deltaDistance=c;break;case 2:this.stopMoving();this.detachListener(this.implementation.get_stage(),"paint",h(this,this.onPaint));break;case 1:this.deltaDistance+=c}},copy:function(b){a.widget.Group.prototype.copy.call(this,b);if(!n.Boot.__instanceof(b,a.widget.Chain))throw"ERROR: Source widget is not an instance of Chain.";
this.set_data(b.data);this.set_itemUpdater(b.itemUpdater)},onPaint:function(a){this.velocity-=this.velocity/5;this.velocity+=this.deltaDistance/5;this.dragged!=Math.POSITIVE_INFINITY&&(this.dragged+=this.deltaDistance,15<Math.abs(this.dragged)&&(this.needsSnap=!0,this.startMoving(),this.dragged=Math.POSITIVE_INFINITY));if(this.dragged==Math.POSITIVE_INFINITY){a=this.pageA.implementation;a.set_x(a._x+this.deltaDistance);var c=0.75*this.pageA.implementation._width;this.pageA.implementation.set_alpha(1-
Math.abs(this.pageA.implementation._x)/c);null!=this.pageB&&(a=this.pageB.implementation,a.set_x(a._x+this.deltaDistance),this.pageB.implementation.set_alpha(1-Math.abs(this.pageB.implementation._x)/c))}this.deltaDistance=0},gotoPage:function(){if(null!=this.pageA){this.killTweens();var b=this.pageA.implementation._width;this.snapTweenA=new a.tween.Tween(0.2,[new a.tween.type.TweenProperty(this.pageA.implementation,"x",-this.currentPage*b+this.pageOffset,a.tween.type.TweenType.fast),new a.tween.type.TweenProperty(this.pageA.implementation,
"alpha",1==this.currentPage?0:1)]);this.snapTweenB=new a.tween.Tween(0.2,[new a.tween.type.TweenProperty(this.pageB.implementation,"x",-this.currentPage*b+b+this.pageOffset,a.tween.type.TweenType.fast),new a.tween.type.TweenProperty(this.pageB.implementation,"alpha",0==this.currentPage?0:1)]);this.updatePageIndicator();this.updateDirectionalButtons()}},snap:function(){null!=this.pageA&&(this.currentPage=this.pageA.implementation._x<-this.pageA.implementation._width/2?1:0,2<Math.abs(this.velocity)&&
(this.currentPage=0<this.velocity?0:1),this.gotoPage())},previousPage:function(a){this.currentPage--;0>this.currentPage&&(this.currentPage=0);this.gotoPage()},nextPage:function(a){this.currentPage++;this.currentPage>=this.pageCount&&(this.currentPage=this.pageCount-1);this.gotoPage()},getDataByWidget:function(a){for(var c=0,d=this.links;c<d.length;){var e=d[c];++c;if(e.widget==a)return e.data}return null},stopMoving:function(){this.detachListener(this.implementation.get_stage(),"paint",h(this,this.onPaint));
this.dragged=0;this.snap()},startMoving:function(){for(var a=0,c=this.links;a<c.length;){var d=c[a];++a;d.widget.cancel()}},itemClicked:function(b){0<this.data.length&&this.dispatchEvent(new a.widget.event.ChainEvent("ChainEvent.select",this.data[0],0,this.links[0]))},set_itemUpdater:function(a){return this.itemUpdater=a},itemUpdater:null,updateDirectionalButtons:function(){1<this.pageCount?(null!=this.previousButton&&(this.previousButton.set_visible(!0),0==this.currentPage?this.previousButton.set_enabled(!1):
this.previousButton.set_enabled(!0)),null!=this.nextButton&&(this.nextButton.set_visible(!0),this.currentPage==this.pageCount-1?this.nextButton.set_enabled(!1):this.nextButton.set_enabled(!0))):(null!=this.previousButton&&this.previousButton.set_visible(!1),null!=this.nextButton&&this.nextButton.set_visible(!1))},updatePageIndicator:function(){if(1<this.pageCount){if(null!=this.pageIndicator){this.pageIndicator.set_visible(!0);for(var a=[],c=0,d=this.pageCount;c<d;){var e=c++;a.push(e==this.currentPage)}this.pageIndicator.set_data(a)}null!=
this.pageScroller&&(this.pageScroller.set_visible(!0),this.pageScroller.set_value(this.currentPage))}else null!=this.pageScroller&&this.pageScroller.set_visible(!1),null!=this.pageIndicator&&this.pageIndicator.set_visible(!1)},update:function(){for(var a=0,c=this.links.length;a<c;){var d=a++,e=this.links[d].widget,f=this.data[d];null!=this.itemUpdater&&null!=this.data&&d<this.data.length&&null!=this.data[d]?(this.links[d].data=f,this.links[d].dataIndex=d,this.itemUpdater(this.links[d]),e.set_visible(!0)):
e.set_visible(!1)}this.updateDirectionalButtons()},set_data:function(a){this.data=a;this.set_pageCount(Math.ceil(a.length/this.pageSize));this.update();this.updatePageIndicator();this.updateDirectionalButtons();return a},data:null,getItemCount:function(){return this.links.length},findLinks:function(b){var c=[],d=0;for(b=b.children;d<b.length;){var e=b[d];++d;var f=e.name.split("_");2<=f.length&&"item"==f[0]&&(f=m.parseInt(f[1]),null!=f&&c.push(new a.widget.type.ItemWidget(e,f)))}c.sort(function(a,
b){return a.widgetIndex-b.widgetIndex});b=0;for(d=c.length;b<d;)e=b++,c[e].widgetIndex=e,c[e].widget.bubbleComponentEvents=!0;for(d=0;d<c.length;)b=c[d],++d,this.links.push(b)},onTouchEnd:function(a){this.pagingEnabled&&this.currentTouchId==a.id&&(this.currentTouchId=null,this.stopMoving())},onTouchMove:function(a){this.pagingEnabled&&this.currentTouchId==a.id&&(this.deltaDistance+=a.global.x-this.currentTouchX,this.currentTouchX=a.global.x)},killTweens:function(){null!=this.snapTweenA&&(this.snapTweenA.destroy(),
this.snapTweenB.destroy(),this.snapTweenB=this.snapTweenA=null)},onTouchBegin:function(a){this.pagingEnabled&&null==this.currentTouchId&&(this.bubbleComponentEvents&&a.stopPropagation(),this.currentTouchId=a.id,this.currentTouchX=a.global.x,this.killTweens(),this.attachListener(this.implementation.get_stage(),"paint",h(this,this.onPaint)))},removeListeners:function(){a.widget.Group.prototype.removeListeners.call(this);this.stopMoving();this.killTweens()},addListeners:function(){a.widget.Group.prototype.addListeners.call(this);
null!=this.pageA&&(this.attachListener(this.target,"begin",h(this,this.onTouchBegin)),this.attachListener(this.target.get_stage(),"move",h(this,this.onTouchMove)),this.attachListener(this.target.get_stage(),"end",h(this,this.onTouchEnd)),null!=this.nextButton&&this.attachListener(this.nextButton,"ButtonEvent.autoClick",h(this,this.nextPage)),null!=this.previousButton&&this.attachListener(this.previousButton,"ButtonEvent.autoClick",h(this,this.previousPage)));null!=this.pageScroller&&this.attachListener(this.pageScroller,
"ScrollerEvent.position",h(this,this.onScrollerPosition))},updatePageIndicatorItem:function(a){var c=a.widget;if(a.data)c.implementation["goto"]("active");else c.implementation["goto"]("inactive")},set_pageCount:function(a){this.pageCount=a;this.pagingEnabled=1<a?!0:!1;null!=this.pageScroller&&this.pageScroller.set_maximum(a-1);return this.pageCount},pageCount:null,set_previousButton:function(a){this.previousButton=a;this.attachListener(this.previousButton,"ButtonEvent.autoClick",h(this,this.previousPage));
this.updateDirectionalButtons();return a},previousButton:null,set_nextButton:function(a){this.nextButton=a;this.attachListener(this.nextButton,"ButtonEvent.autoClick",h(this,this.nextPage));this.updateDirectionalButtons();return a},nextButton:null,findComponents:function(b){a.widget.Group.prototype.findComponents.call(this,b);this.set_enabled(!0);b=this.getChild("pageIndicator_chain");null!=b&&(this.pageIndicator=b,this.pageIndicator.set_itemUpdater(h(this,this.updatePageIndicatorItem)));b=this.getChild("page_scroller");
null!=b&&(this.pageScroller=b,this.pageScroller.set_pageSize(0),this.pageScroller.set_minimum(0),this.pageScroller.set_maximum(0),this.pageScroller.roundValue=!0);this.links=[];b=this.getChild("page_group");null!=b?(this.pageA=b,this.pageB=this.pageA.clone("pageClone_group"),this.insertChildAfter(this.pageB,this.pageA),this.pageB.implementation.set_x(this.pageA.implementation._width),this.findLinks(this.pageA),this.pageSize=this.links.length,this.findLinks(this.pageB),this.pageOffset=this.pageA.implementation._x,
this.pageB.implementation.set_alpha(0),this.pageB.set_visible(!0)):(this.findLinks(this),this.pageSize=this.links.length);null!=this.pageA&&(b=this.getChild("next_button"),null!=b&&this.set_nextButton(b),b=this.getChild("previous_button"),null!=b&&this.set_previousButton(b));this.update()},initialize:function(){a.widget.Group.prototype.initialize.call(this);this.set_itemUpdater(null);this.links=[];this.set_data([]);this.dragged=this.velocity=0;this.needsSnap=!1;this.currentPage=0;this.set_pageCount(0);
this.deltaDistance=0},pagingEnabled:null,pageOffset:null,pageSize:null,currentPage:null,pageScroller:null,pageIndicator:null,snapTweenB:null,snapTweenA:null,pageB:null,pageA:null,needsSnap:null,dragged:null,velocity:null,deltaDistance:null,currentTouchX:null,currentTouchId:null,links:null,__class__:a.widget.Chain,__properties__:g(a.widget.Group.prototype.__properties__,{set_nextButton:"set_nextButton",set_previousButton:"set_previousButton",set_pageCount:"set_pageCount",set_data:"set_data",set_itemUpdater:"set_itemUpdater"})});
a.widget.Label=function(b,c){a.widget.Simple.call(this,b,c)};f["nfuzion.widget.Label"]=a.widget.Label;a.widget.Label.__name__=["nfuzion","widget","Label"];a.widget.Label.__super__=a.widget.Simple;a.widget.Label.prototype=g(a.widget.Simple.prototype,{destroy:function(){null!=this.textComponent&&this.textComponent.destroy();a.widget.Simple.prototype.destroy.call(this)},set_paint:function(a){this.paint=a;null!=this.textComponent&&this.textComponent.set_paint(a);return a},paint:null,set_wrap:function(a){null!=
this.textComponent&&this.textComponent.set_wrap(a);return a},wrap:null,set_text:function(a){this.text=a;null!=this.textComponent&&this.textComponent.get_text()!=a&&this.textComponent.set_text(a);return a},text:null,configureComponent:function(){a.widget.Simple.prototype.configureComponent.call(this);this.textComponent=null;null!=this.implementation&&n.Boot.__instanceof(this.implementation,a.graphics.Text)&&(this.textComponent=this.implementation,this.set_text(this.textComponent.get_text()))},textComponent:null,
__class__:a.widget.Label,__properties__:g(a.widget.Simple.prototype.__properties__,{set_text:"set_text",set_wrap:"set_wrap",set_paint:"set_paint"})});a.widget.List=function(b,c){this.visualPosition=this._dataPosition=this.dataLength=0;this.rowUpdater=null;this.scrollFactor=1;this.selectedRowIndex=0;a.widget.Group.call(this,b,c)};f["nfuzion.widget.List"]=a.widget.List;a.widget.List.__name__=["nfuzion","widget","List"];a.widget.List.__super__=a.widget.Group;a.widget.List.prototype=g(a.widget.Group.prototype,
{destroy:function(){a.widget.Group.prototype.destroy.call(this);null!=this.cache&&(this.cache.destroy(),this.cache=null);null!=this.physics&&(this.physics.destroy(),this.set_physics(null));for(;0<this.rows.length;){var b=this.rows.pop();null!=b&&b.widget.destroy()}this.rows=null},getDataByWidget:function(a){for(var c=0,d=this.rows;c<d.length;){var e=d[c];++c;if(e.widget==a)return e.data}return null},set_physics:function(a){null!=this.physics&&(this.detachListener(a,"PhysicsEvent.begin",h(this,this.onPhysicsBegin)),
this.detachListener(a,"PhysicsEvent.change",h(this,this.onPhysicsChange)),this.detachListener(a,"PhysicsEvent.end",h(this,this.onPhysicsEnd)));this.physics=a;null!=a&&(a.set_touchTarget(this.target),0<this.rowSize&&a.set_rowSize(this.rowSize),a.bottomPadding=this.rowOverlap,this.attachListener(a,"PhysicsEvent.begin",h(this,this.onPhysicsBegin)),this.attachListener(a,"PhysicsEvent.change",h(this,this.onPhysicsChange)),this.attachListener(a,"PhysicsEvent.end",h(this,this.onPhysicsEnd)));return a},physics:null,
onPhysicsEnd:function(a){this.onPhysicsChange(a)},onPhysicsChange:function(a){this.set_visualPosition(a.position);this.adjustRowPositions()},onPhysicsBegin:function(a){this.onPhysicsChange(a);a=0;for(var c=this.rows;a<c.length;){var d=c[a];++a;d.widget.cancel()}},update:function(){for(var a=0,c=this.rows.length;a<c;){var d=a++,e=this._dataPosition+d,f=this.rows[d];f.data=this.cache.getDataAt(e);if(null==f.data||null==this.rowUpdater)e=-35535;f.dataIndex!=e&&(f.dataIndex=e,0<=e?(f.widget.set_visible(!0),
f.widgetIndex=d,this.rowUpdater(this.rows[d])):f.widget.set_visible(!1))}},onCacheUpdate:function(a){this.cache.listPosition<=a.end&&this.cache.listPosition+this.rows.length>a.start&&this.update()},adjustRowPositions:function(){for(var a=this._dataPosition*this.rowSize-this.visualPosition,c=0,d=this.rows.length;c<d;){var e=c++;this.rows[e].widget.implementation.set_y(a+e*this.rowSize)}},getPosition:function(a){l.Log.trace("FATAL: getPosition from List.as must be overridden.",{fileName:"List.hx",lineNumber:280,
className:"nfuzion.widget.List",methodName:"getPosition"});return 0},invalidateView:function(){for(var a=0,c=this.rows;a<c.length;){var d=c[a];++a;d.dataIndex=-35534}this.update()},set_dataLength:function(b){this.dataLength!=b&&(this.dataLength=b,null!=this.physics&&(this.physics.set_length(this.rowSize*b-this.size+this.rowOverlap),this.physics.set_step(this.size)),this.dispatchEvent(new a.widget.event.ListEvent("ListEvent.length",this,!0)),this.cache.set_listLength(b),this.invalidateView());return b},
dataLength:null,changeDataPosition:function(a){a>this.dataLength-this.rows.length&&(a=this.dataLength-this.rows.length);0>a&&(a=0);if(this._dataPosition!=a){var c;a<this._dataPosition&&a+this.rows.length>=this._dataPosition?(c=this.rows.splice(this.rows.length-(this._dataPosition-a),this.rows.length-2),this.rows=c.concat(this.rows)):a>this._dataPosition&&a<this._dataPosition+this.rows.length&&(c=this.rows.splice(0,a-this._dataPosition),this.rows=this.rows.concat(c));this._dataPosition=a;this.cache.set_listPosition(a);
this.adjustRowPositions();this.update()}},set_dataPosition:function(a){this.set_visualPosition(a*this.rowSize);null!=this.physics&&this.physics.set_position(this.visualPosition);return a},get_dataPosition:function(){return this._dataPosition},_dataPosition:null,set_visualPosition:function(a){this.visualPosition!=a&&0<this.rowSize&&(this.visualPosition=a,this.changeDataPosition(a/this.rowSize|0));return a},visualPosition:null,rows:null,rowUpdater:null,addListeners:function(){a.widget.Group.prototype.addListeners.call(this);
this.set_physics(this.physics);this.attachListener(this.cache,"CacheEvent.update",h(this,this.onCacheUpdate))},findComponents:function(b){a.widget.Group.prototype.findComponents.call(this,b);this.set_enabled(!0);b=[];for(var c=0,d=this.get_childCount();c<d;){var e=c++,e=this.getChildAt(e),f=e.name.split("_");3<=f.length&&"row"==f[0]&&("button"==f[2]&&(e.pressDelayPeriod=0.1),f=m.parseInt(f[1]),b.push(new a.widget.type.ItemWidget(e,f)))}b.sort(function(a,b){return a.widgetIndex-b.widgetIndex});this.size=
this.implementation._height;this.rowSize=1<b.length?b[1].widget.implementation._y-b[0].widget.implementation._y:b[0].widget.implementation._height;this.rowOverlap=b[0].widget.implementation._height-this.rowSize;this.pageSize=Math.ceil(this.size/this.rowSize);this.cache.set_windowSize(this.pageSize);for(var c=Math.ceil(this.size/this.rowSize)+1,f=b[b.length-1].widget.name.split("_"),g=b[b.length-1].widget,d=b.length;d<c;){e=d++;f[1]=m.string(e);var h=g.clone();h.name=f.join("_");this.insertChildAfter(h,
g);b.push(new a.widget.type.ItemWidget(h,e))}c=0;for(d=b.length;c<d;)e=c++,b[e].widgetIndex=e,e=b[e].widget,e.bubbleComponentEvents=!0;for(d=0;d<b.length;)e=b[d],++d,this.rows.push(e);this.adjustRowPositions();this.update()},initialize:function(){a.widget.Group.prototype.initialize.call(this);this.rows=[];this.cache=new a.cache.ListCache},scrollFactor:null,selectedRowIndex:null,rowOverlap:null,rowSize:null,size:null,cache:null,pageSize:null,__class__:a.widget.List,__properties__:g(a.widget.Group.prototype.__properties__,
{set_visualPosition:"set_visualPosition",set_dataPosition:"set_dataPosition",get_dataPosition:"get_dataPosition",set_dataLength:"set_dataLength",set_physics:"set_physics"})});a.widget.Scroller=function(b,c){this.popupPageThreshold=5;this.reportPeriod=0;this.vMaximum=this.hMaximum=90;this.vValue=this.hValue=this.hMinimum=this.vMinimum=0;this.repaintRequested=this.hideIfUseless=!1;this.popupWidget=this.currentTouchId=null;this.hidePopupOnStop=!0;this.popupUpdater=null;this.progressTracksThumb=this.liveProgress=
!0;this.verticalEnabled=this.horizontalEnabled=this.roundValue=this.thumbDown=!1;a.widget.Group.call(this,b,c)};f["nfuzion.widget.Scroller"]=a.widget.Scroller;a.widget.Scroller.__name__=["nfuzion","widget","Scroller"];a.widget.Scroller.__super__=a.widget.Group;a.widget.Scroller.prototype=g(a.widget.Group.prototype,{set_popupPageThreshold:function(a){this.popupPageThreshold!=a&&(this.popupPageThreshold=a,this.updatePopup());return this.popupPageThreshold},popupPageThreshold:null,onPaint:function(a){this.thumbDown?
(a=this.implementation.globalToLocal(this.touch),this.verticalEnabled&&this.slideY(a.y-this.touchOffset.y),this.horizontalEnabled&&this.slideX(a.x-this.touchOffset.x),0==this.get_reportPeriod()&&this.reportPosition(),this.updatePopup(),this.liveProgress&&(this.updateProgress(),this.updateButtons())):(this.detachListener(this.implementation.get_stage(),"paint",h(this,this.onPaint)),this.repaintRequested=!1,this.update(),this.updatePopup())},set_autoRepeatDelay:function(a){this.autoRepeatDelay=a;null!=
this.upButton&&this.upButton.set_autoRepeatDelay(a);null!=this.downButton&&this.downButton.set_autoRepeatDelay(a);null!=this.leftButton&&this.leftButton.set_autoRepeatDelay(a);null!=this.rightButton&&this.rightButton.set_autoRepeatDelay(a);return this.autoRepeatDelay},autoRepeatDelay:null,set_autoRepeatPeriod:function(a){this.autoRepeatPeriod=a;null!=this.upButton&&this.upButton.set_autoRepeatPeriod(a);null!=this.downButton&&this.downButton.set_autoRepeatPeriod(a);null!=this.leftButton&&this.leftButton.set_autoRepeatPeriod(a);
null!=this.rightButton&&this.rightButton.set_autoRepeatPeriod(a);return this.autoRepeatPeriod},autoRepeatPeriod:null,updatePopup:function(){if(null!=this.popupWidget){var a=0;this.horizontalEnabled&&(a=(this.hMaximum-this.hMinimum)/this.hPageSize);var c=0;this.verticalEnabled&&(c=(this.vMaximum-this.vMinimum)/this.vPageSize);if(c>this.popupPageThreshold||a>this.popupPageThreshold)this.popupWidget.set_visible(!0),null!=this.popupUpdater&&this.popupUpdater(this.popupWidget)}},set_hProgress:function(a){if(this.horizontalEnabled&&
null!=this.progressIndicator){a<this.hMinimum&&(a=this.hMinimum);a>this.hMaximum-this.hPageSize&&(a=this.hMaximum-this.hPageSize);var c=this.hMaximum-this.hMinimum-this.hPageSize;0>c&&(c=0);this.progressIndicator.set_width((a-this.hMinimum)/c*this.progressWidth)}return a},get_hProgress:function(){if(this.horizontalEnabled&&null!=this.progressIndicator){var a=this.hMaximum-this.hMinimum-this.hPageSize;0>a&&(a=0);return this.progressIndicator._width/this.progressWidth*a+this.hMinimum}return 0},set_vProgress:function(a){if(this.verticalEnabled&&
null!=this.progressIndicator){a<this.vMinimum&&(a=this.vMinimum);a>this.vMaximum-this.vPageSize&&(a=this.vMaximum-this.vPageSize);var c=this.vMaximum-this.vMinimum-this.vPageSize;0>c&&(c=0);this.progressIndicator.set_height((a-this.vMinimum)/c*this.progressHeight)}return a},get_vProgress:function(){if(this.verticalEnabled&&null!=this.progressIndicator){var a=this.vMaximum-this.vMinimum-this.vPageSize;0>a&&(a=0);return this.progressIndicator._height/this.progressHeight*a+this.vMinimum}return 0},set_progress:function(a){this.verticalEnabled?
this.set_vProgress(a):this.set_hProgress(a);return a},get_progress:function(){return this.verticalEnabled?this.get_vProgress():this.get_hProgress()},set_reportPeriod:function(a){this.reportPeriod=this.get_reportPeriod();0<a&&this.reportTimer.set_period(a);return this.reportTimer.period},get_reportPeriod:function(){return this.reportTimer.period},reportPeriod:null,pageRight:function(a){this.set_hValue(this.get_hValue()+this.hPageSize);this.liveProgress&&this.updateProgress();this.reportPosition()},
pageLeft:function(a){this.set_hValue(this.get_hValue()-this.hPageSize);this.liveProgress&&this.updateProgress();this.reportPosition()},pageDown:function(a){this.set_vValue(this.get_vValue()+Math.floor(this.vPageSize));this.liveProgress&&this.updateProgress();this.reportPosition()},pageUp:function(a){this.set_vValue(this.get_vValue()-Math.floor(this.vPageSize));this.liveProgress&&this.updateProgress();this.reportPosition()},reportPosition:function(b){b=this.get_vValue();this.previousVValue!=b&&(this.previousVValue=
b,this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.verticalPosition",this,b,!0)),this.verticalEnabled&&this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.position",this,b,!0)));b=this.get_hValue();this.previousHValue!=b&&(this.previousHValue=b,this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.horizontalPosition",this,b,!0)),this.verticalEnabled||this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.position",this,b,!0)))},stopSlideTimer:function(){this.reportTimer.stop();
this.detachListener(this.reportTimer,"timer",h(this,this.reportPosition))},startSlideTimer:function(){this.stopSlideTimer();this.attachListener(this.reportTimer,"timer",h(this,this.reportPosition));this.reportTimer.set_period(this.get_reportPeriod());this.reportTimer.start()},onHListPageSize:function(a){this.set_hPageSize(a.target.pageSize)},onVListPageSize:function(a){this.set_vPageSize(a.target.pageSize)},onListPageSize:function(a){if(this.verticalEnabled)this.onVListPageSize(a);else this.onHListPageSize(a)},
set_hPageSize:function(a){a!=this.hPageSize&&(this.hPageSize=a,this.hMaximum-this.hPageSize<this.get_hValue()&&this.set_value(this.hMaximum-this.hPageSize),this.repaint());return this.hPageSize},hPageSize:null,set_vPageSize:function(a){a!=this.vPageSize&&(this.vPageSize=a,this.vMaximum-this.vPageSize<this.get_vValue()&&this.set_value(this.vMaximum-this.vPageSize),this.repaint());return this.vPageSize},vPageSize:null,set_pageSize:function(a){this.verticalEnabled?this.set_vPageSize(a):this.set_hPageSize(a);
return a},get_pageSize:function(){return this.verticalEnabled?this.vPageSize:this.hPageSize},onHListLength:function(a){this.set_hMaximum(a.target.dataLength)},set_hMaximum:function(a){a!=this.hMaximum&&(this.hMaximum=a,this.hMaximum<this.hMinimum&&this.set_hMinimum(this.hMaximum),this.hMaximum-this.hPageSize<this.get_hValue()&&this.set_value(this.hMaximum-this.hPageSize),this.repaint());return this.hMaximum},hMaximum:null,onVListLength:function(a){this.set_vMaximum(a.target.dataLength)},set_vMaximum:function(a){a!=
this.vMaximum&&(this.vMaximum=a,this.vMaximum<this.vMinimum&&this.set_vMinimum(this.vMaximum),this.vMaximum-this.vPageSize<this.get_vValue()&&this.set_value(this.vMaximum-this.vPageSize),this.repaint());return this.vMaximum},vMaximum:null,onListLength:function(a){if(this.verticalEnabled)this.onVListLength(a);else this.onHListLength(a)},set_maximum:function(a){this.verticalEnabled?this.set_vMaximum(a):this.set_hMaximum(a);return a},get_maximum:function(){return this.verticalEnabled?this.vMaximum:this.hMaximum},
set_vMinimum:function(a){a!=this.vMinimum&&(this.vMinimum=a,this.vMinimum>this.vMaximum&&this.set_vMaximum(this.vMinimum),this.vMinimum>this.get_vValue()&&this.set_vValue(this.vMinimum),this.repaint());return this.vMinimum},vMinimum:null,set_hMinimum:function(a){a!=this.hMinimum&&(this.hMinimum=a,this.hMinimum>this.hMaximum&&this.set_hMaximum(this.hMinimum),this.hMinimum>this.get_hValue()&&this.set_hValue(this.hMinimum),this.repaint());return this.hMinimum},hMinimum:null,set_minimum:function(a){this.verticalEnabled?
this.set_vMinimum(a):this.set_hMinimum(a);return a},get_minimum:function(){return this.verticalEnabled?this.vMinimum:this.hMinimum},set_hValue:function(a){a!=this.get_hValue()&&(a>this.hMaximum-this.hPageSize&&(a=this.hMaximum-this.hPageSize),a<this.hMinimum&&(a=this.hMinimum),this.hValue=a,this.repaint());return this.get_hValue()},get_hValue:function(){return this.roundValue?Math.round(this.hValue):this.hValue},hValue:null,set_vValue:function(a){a!=this.get_vValue()&&(a>this.vMaximum-this.vPageSize&&
(a=this.vMaximum-this.vPageSize),a<this.vMinimum&&(a=this.vMinimum),this.vValue=a,this.repaint());return this.get_vValue()},get_vValue:function(){return this.roundValue?Math.round(this.vValue):this.vValue},vValue:null,set_value:function(a){this.verticalEnabled?this.set_vValue(a):this.set_hValue(a);return a},get_value:function(){return this.verticalEnabled?this.get_vValue():this.get_hValue()},set_hideIfUseless:function(a){this.hideIfUseless=a;this.update();return a},hideIfUseless:null,onTouchEnd:function(a){this.currentTouchId==
a.id&&(this.currentTouchId=null,null!=this.track&&(this.detachListener(this.track.get_stage(),"move",h(this,this.onTouchMove)),this.detachListener(this.track.get_stage(),"end",h(this,this.onTouchEnd))),this.endSlide())},onTouchMove:function(a){this.currentTouchId==a.id&&(this.touch=a.global.clone())},onTrackTouchBegin:function(a){null==this.currentTouchId&&(this.currentTouchId=a.id,a.stopPropagation(),this.sensitiveTrack&&(null!=this.thumb?(this.touchOffset.x=this.thumb._width/2,this.touchOffset.y=
this.thumb._height/2):(this.touchOffset.x=0,this.touchOffset.y=0),null!=this.track&&(this.attachListener(this.track.get_stage(),"move",h(this,this.onTouchMove)),this.attachListener(this.track.get_stage(),"end",h(this,this.onTouchEnd))),this.startSlide(),this.onTouchMove(a),this.reportPosition()))},onThumbTouchBegin:function(a){null==this.currentTouchId&&(this.currentTouchId=a.id,a.stopPropagation(),this.touch=a.global.clone(),this.touchOffset=a.local,null!=this.track&&(this.attachListener(this.track.get_stage(),
"move",h(this,this.onTouchMove)),this.attachListener(this.track.get_stage(),"end",h(this,this.onTouchEnd))),this.startSlide())},slideY:function(a){0<=this.height?a>this.bottom?a=this.bottom:a<this.top&&(a=this.top):a<this.bottom?a=this.bottom:a>this.top&&(a=this.top);null!=this.thumb&&this.thumb.set_y(a);this.updateValue()},slideX:function(a){0<=this.width?a>this.right?a=this.right:a<this.left&&(a=this.left):a<this.right?a=this.right:a>this.left&&(a=this.left);null!=this.thumb&&this.thumb.set_x(a);
this.updateValue()},endSlide:function(){this.thumbDown=!1;this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.release",this));this.stopSlideTimer();this.updateValue();this.reportPosition();this.touch=null;null!=this.popupWidget&&this.hidePopupOnStop&&this.popupWidget.set_visible(!1)},startSlide:function(){this.thumbDown=!0;this.dispatchEvent(new a.widget.event.ScrollerEvent("ScrollerEvent.grab",this));this.repaint();0<this.get_reportPeriod()&&this.startSlideTimer();this.updatePopup()},
repaint:function(a){null==this.implementation||null==this.implementation.get_stage()||this.repaintRequested||(this.repaintRequested=!0,this.attachListener(this.implementation.get_stage(),"paint",h(this,this.onPaint)))},updateProgress:function(){if(null!=this.implementation){var a=0,c=0,c=a=0;if(null!=this.progressIndicator&&this.progressTracksThumb){if(null!=this.thumb)a=this.thumb._width/2,c=this.thumb._height/2,a=this.thumb._x+a,c=this.thumb._y+c;else if(null!=this.touch)a=this.implementation.globalToLocal(this.touch).x,
c=this.implementation.globalToLocal(this.touch).y;else{a=this.left;c=this.hMaximum-this.hMinimum-this.hPageSize;0>c&&(c=0);0!=c&&0!=this.width&&(a+=(this.get_value()-this.hMinimum)/c*this.width);var c=this.top,d=this.vMaximum-this.vMinimum-this.vPageSize;0>d&&(d=0);0!=d&&0!=this.height&&(c+=(this.get_value()-this.vMinimum)/d*this.height)}this.horizontalEnabled&&this.progressIndicator.set_right(a);this.verticalEnabled&&this.progressIndicator.set_bottom(c)}null!=this.horizontalLine&&null!=this.verticalLine&&
(this.verticalLine.set_x(this.thumb._x+this.thumb._width/2-this.verticalLine._width/2),this.horizontalLine.set_y(this.thumb._y+this.thumb._height/2-this.horizontalLine._height/2))}},updateButtons:function(){this.verticalEnabled&&(null!=this.upButton&&this.upButton.set_enabled(this.get_vValue()>this.vMinimum),null!=this.downButton&&this.downButton.set_enabled(this.get_vValue()<this.vMaximum-this.vPageSize));this.horizontalEnabled&&(null!=this.leftButton&&this.leftButton.set_enabled(this.get_hValue()>
this.hMinimum),null!=this.rightButton&&this.rightButton.set_enabled(this.get_hValue()<this.hMaximum-this.hPageSize))},updateValue:function(){var a;this.verticalEnabled&&(a=this.vMaximum-this.vMinimum-this.vPageSize,0>a&&(a=0),null!=this.track&&(null!=this.thumb?this.set_vValue((this.thumb._y-this.top)/this.height*a+this.vMinimum):this.set_vValue(this.track.globalToLocal(this.touch).y/this.height*a+this.vMinimum)));this.horizontalEnabled&&(a=this.hMaximum-this.hMinimum-this.hPageSize,0>a&&(a=0),null!=
this.track&&(null!=this.thumb?this.set_hValue((this.thumb._x-this.left)/this.width*a+this.hMinimum):this.set_hValue(this.track.globalToLocal(this.touch).x/this.width*a+this.hMinimum)));this.updateButtons()},update:function(){var a,c;this.hideIfUseless&&(a=!0,this.verticalEnabled&&Math.round(this.vMaximum-this.vPageSize)>Math.round(this.vMinimum)&&(a=!1),this.horizontalEnabled&&this.hMaximum-this.hPageSize>this.hMinimum&&(a=!1),this.set_visible(!a));this.verticalEnabled&&(a=this.get_vValue(),a+this.vPageSize>
this.vMaximum&&(a=this.vMaximum-this.vPageSize),a<this.vMinimum&&(a=this.vMinimum),c=this.vMaximum-this.vMinimum-this.vPageSize,0>c&&(c=0),null!=this.thumb&&(0!=c&&0!=this.height?this.thumb.set_y((a-this.vMinimum)/c*this.height+this.top):this.thumb.set_y(this.top)));this.horizontalEnabled&&(a=this.get_hValue(),a+this.hPageSize>this.hMaximum&&(a=this.hMaximum-this.hPageSize),a<this.hMinimum&&(a=this.hMinimum),c=this.hMaximum-this.hMinimum-this.hPageSize,0>c&&(c=0),null!=this.thumb&&(0!=c&&0!=this.width?
this.thumb.set_x((a-this.hMinimum)/c*this.width+this.left):this.thumb.set_x(this.left)));this.updateProgress();this.updateButtons()},set_sensitiveTrack:function(a){this.sensitiveTrack=a;null!=this.track&&(a?(this.attachListener(this.track,"begin",h(this,this.onTrackTouchBegin)),this.track.set_touchEnabled(!0)):(this.detachListener(this.track,"begin",h(this,this.onTrackTouchBegin)),this.track.set_touchEnabled(!1)));return a},sensitiveTrack:null,addListeners:function(){a.widget.Group.prototype.addListeners.call(this);
null!=this.thumb&&this.attachListener(this.thumb,"begin",h(this,this.onThumbTouchBegin));this.set_sensitiveTrack(this.sensitiveTrack);null!=this.upButton&&this.attachListener(this.upButton,"ButtonEvent.autoClick",h(this,this.pageUp));null!=this.downButton&&this.attachListener(this.downButton,"ButtonEvent.autoClick",h(this,this.pageDown));null!=this.leftButton&&this.attachListener(this.leftButton,"ButtonEvent.autoClick",h(this,this.pageLeft));null!=this.rightButton&&this.attachListener(this.rightButton,
"ButtonEvent.autoClick",h(this,this.pageRight))},findComponents:function(b){a.widget.Group.prototype.findComponents.call(this,b);this.track=this.getComponentChild(this.implementation,"track");this.thumb=this.getComponentChild(this.implementation,"thumb");null==this.thumb&&(this.thumb=this.getComponentChild(this.implementation,"thumb_button"));null!=this.thumb&&this.thumb.set_touchEnabled(!0);b=this.getChild("popup_group");null!=b&&(this.popupWidget=b,this.popupWidget.set_visible(!1));this.progressIndicator=
this.getComponentChild(this.implementation,"progress");null==this.progressIndicator&&(b=this.getChild("progress_simple"),null!=b&&(this.progressIndicator=b.implementation));null==this.progressIndicator&&(b=this.getChild("progress_group"),null!=b&&(this.progressIndicator=b.implementation));null!=this.progressIndicator&&(this.progressOrigin=new a.geometry.Point(this.progressIndicator._x,this.progressIndicator._y));this.horizontalLine=this.getComponentChild(this.implementation,"horizontalLine");this.verticalLine=
this.getComponentChild(this.implementation,"verticalLine");null!=this.track&&this.track._height>=this.track._width&&(this.verticalEnabled=!0);null!=this.track&&this.track._width>=this.track._height&&(this.horizontalEnabled=!0);null!=this.track&&(null!=this.thumb?(this.top=this.thumb._y,this.bottom=2*this.track._y+this.track._height-this.thumb._height-this.thumb._y,this.left=this.thumb._x,this.right=2*this.track._x+this.track._width-this.thumb._width-this.thumb._x):(this.top=0,this.bottom=this.track._height,
this.left=0,this.right=this.track._width));this.height=this.bottom-this.top;this.width=this.right-this.left;null!=this.progressIndicator&&null!=this.track&&(this.progressWidth=this.track._width+2*(this.track._x-this.progressIndicator._x),this.progressHeight=this.track._height+2*(this.track._y-this.progressIndicator._y));b=this.getChild("up_button");null!=b&&(this.upButton=b,this.verticalEnabled=!0);b=this.getChild("down_button");null!=b&&(this.downButton=b,this.verticalEnabled=!0);b=this.getChild("left_button");
null!=b&&(this.leftButton=b,this.horizontalEnabled=!0);b=this.getChild("right_button");null!=b&&(this.rightButton=b,this.horizontalEnabled=!0);this.set_autoRepeatPeriod(0.2);this.set_autoRepeatDelay(1);this.set_sensitiveTrack(!0);this.set_enabled(!0);this.reportPosition();this.repaint();this.attachListener(this.implementation,"addedToStage",h(this,this.repaint))},initialize:function(){a.widget.Group.prototype.initialize.call(this);this.touchOffset=new a.geometry.Point;this.reportTimer=new a.timer.Timer(0);
this.progressOrigin=new a.geometry.Point;this.set_hMinimum(0);this.set_vMinimum(0);this.set_hMaximum(100);this.set_vMaximum(100);this.set_vPageSize(10);this.set_hPageSize(10)},repaintRequested:null,touch:null,currentTouchId:null,progressOrigin:null,popupWidget:null,progressHeight:null,progressWidth:null,reportTimer:null,verticalLine:null,horizontalLine:null,progressIndicator:null,track:null,thumb:null,previousHValue:null,previousVValue:null,touchOffset:null,width:null,right:null,left:null,height:null,
bottom:null,top:null,rightButton:null,leftButton:null,downButton:null,upButton:null,hidePopupOnStop:null,popupUpdater:null,liveProgress:null,progressTracksThumb:null,thumbDown:null,roundValue:null,horizontalEnabled:null,verticalEnabled:null,__class__:a.widget.Scroller,__properties__:g(a.widget.Group.prototype.__properties__,{set_sensitiveTrack:"set_sensitiveTrack",set_hideIfUseless:"set_hideIfUseless",set_value:"set_value",get_value:"get_value",set_vValue:"set_vValue",get_vValue:"get_vValue",set_hValue:"set_hValue",
get_hValue:"get_hValue",set_minimum:"set_minimum",get_minimum:"get_minimum",set_hMinimum:"set_hMinimum",set_vMinimum:"set_vMinimum",set_maximum:"set_maximum",get_maximum:"get_maximum",set_vMaximum:"set_vMaximum",set_hMaximum:"set_hMaximum",set_pageSize:"set_pageSize",get_pageSize:"get_pageSize",set_vPageSize:"set_vPageSize",set_hPageSize:"set_hPageSize",set_reportPeriod:"set_reportPeriod",get_reportPeriod:"get_reportPeriod",set_progress:"set_progress",get_progress:"get_progress",set_vProgress:"set_vProgress",
get_vProgress:"get_vProgress",set_hProgress:"set_hProgress",get_hProgress:"get_hProgress",set_autoRepeatPeriod:"set_autoRepeatPeriod",set_autoRepeatDelay:"set_autoRepeatDelay",set_popupPageThreshold:"set_popupPageThreshold"})});a.widget.Slice=function(b,c){a.widget.Simple.call(this,b,c)};f["nfuzion.widget.Slice"]=a.widget.Slice;a.widget.Slice.__name__=["nfuzion","widget","Slice"];a.widget.Slice.__super__=a.widget.Simple;a.widget.Slice.prototype=g(a.widget.Simple.prototype,{update:function(){a.widget.Simple.prototype.update.call(this);
var b=Math.round(this.implementation._width),c=Math.round(this.implementation._height);if(b!=this.lastWidth||c!=this.lastHeight){this.lastWidth=b;this.lastHeight=c;var d=this.leftSize,e=b-this.minWidth,f=this.rightSize;b<=-this.minWidth?(d=-this.leftSize,e=b+this.minWidth,f=-this.rightSize):0>b?(d=b*(this.leftSize/this.minWidth),f=b*(this.rightSize/this.minWidth),e=0):b<this.minWidth&&(d=-b*(this.leftSize/this.minWidth),f=-b*(this.rightSize/this.minWidth),e=0);var g=b-f+1;0>b&&(g=b-f-1);var b=this.topSize,
h=c-this.minHeight,l=this.bottomSize;c<=-this.minHeight?(b=-this.topSize,h=c+this.minHeight,l=-this.bottomSize):0>c?(b=c*(this.topSize/this.minHeight),h=0,l=c*(this.bottomSize/this.minHeight)):c<this.minHeight&&(b=-c*(this.topSize/this.minHeight),h=0,l=-c*(this.bottomSize/this.minHeight));var m=c-l+1;0>c&&(m=c-l-1);null!=this.topLeft&&this.topLeft.setSize(d,b);null!=this.top&&this.top.setSquare(d,this.top._y,e,b);null!=this.topRight&&this.topRight.setSquare(g,this.topRight._y,f,b);null!=this.left&&
this.left.setSquare(this.left._x,b,d,h);null!=this.middle&&this.middle.setSquare(d,b,e,h);null!=this.right&&this.right.setSquare(g,b,f,h);null!=this.bottomLeft&&this.bottomLeft.setSquare(this.bottomLeft._x,m,d,l);null!=this.bottom&&this.bottom.setSquare(d,m,e,l);null!=this.bottomRight&&this.bottomRight.setSquare(g,m,f,l)}},lastHeight:null,lastWidth:null,set_enabled:function(a){null!=this.target&&this.get_enabled()!=a&&((this.enabled=a)?this.restoreListeners():(this.removeListeners(),this.cancel()),
this.update());return this.get_visible()},get_enabled:function(){return this.enabled},onSizeChange:function(a){this.update()},addListeners:function(){a.widget.Simple.prototype.addListeners.call(this);this.attachListener(this.implementation,"changeSize",h(this,this.onSizeChange));this.update()},findComponents:function(b){this.topLeft=b.getChild("topLeft");this.top=b.getChild("top");this.topRight=b.getChild("topRight");this.left=b.getChild("left");this.middle=b.getChild("middle");this.right=b.getChild("right");
this.bottomLeft=b.getChild("bottomLeft");this.bottom=b.getChild("bottom");this.bottomRight=b.getChild("bottomRight");null!=this.topLeft&&(this.leftSize=this.topLeft._width,this.topSize=this.topLeft._height);null!=this.middle&&(this.rightSize=this.implementation._width-this.middle.get_right(),this.bottomSize=this.implementation._height-this.middle.get_bottom(),this.minWidth=this.implementation._width-this.middle._width,this.minHeight=this.implementation._height-this.middle._height);a.widget.Simple.prototype.findComponents.call(this,
b);this.set_enabled(!0);this.implementation.set_touchEnabled(!1)},bottomSize:null,topSize:null,rightSize:null,leftSize:null,minHeight:null,minWidth:null,bottomRight:null,bottom:null,bottomLeft:null,right:null,middle:null,left:null,topRight:null,top:null,topLeft:null,__class__:a.widget.Slice});a.widget.VBox=function(b,c){a.widget.Group.call(this,b,c)};f["nfuzion.widget.VBox"]=a.widget.VBox;a.widget.VBox.__name__=["nfuzion","widget","VBox"];a.widget.VBox.__super__=a.widget.Group;a.widget.VBox.prototype=
g(a.widget.Group.prototype,{onChildSizeChange:function(a){this.update()},update:function(){a.widget.Group.prototype.update.call(this);for(var b=0,c=0,d=this.children.length-1;0<=d;){var e=this.children[d];null!=e&&null!=e.implementation&&(b+=e.implementation._height,e.implementation.set_y(c),c+=e.implementation._height);d--}0<b&&this.implementation.set_height(b)},appendChild:function(b){var c=a.widget.Group.prototype.appendChild.call(this,b);c&&null!=b.implementation&&this.attachListener(b.implementation,
"changeSize",h(this,this.onChildSizeChange));return c},findChildWidgets:function(b){a.widget.Group.prototype.findChildWidgets.call(this,b);b=0;for(var c=this.children;b<c.length;){var d=c[b];++b;this.attachListener(d.implementation,"changeSize",h(this,this.onChildSizeChange))}this.update()},__class__:a.widget.VBox});a.widget.event={};a.widget.event.ButtonEvent=function(b,c,d){null==d&&(d=!0);a.event.BubblingEvent.call(this,b,d);this.target=c};f["nfuzion.widget.event.ButtonEvent"]=a.widget.event.ButtonEvent;
a.widget.event.ButtonEvent.__name__=["nfuzion","widget","event","ButtonEvent"];a.widget.event.ButtonEvent.__super__=a.event.BubblingEvent;a.widget.event.ButtonEvent.prototype=g(a.event.BubblingEvent.prototype,{target:null,__class__:a.widget.event.ButtonEvent});a.widget.event.ChainEvent=function(b,c,d,e,f){null==f&&(f=!0);a.event.BubblingEvent.call(this,b,f);this.target=c;this.index=d;this.data=e};f["nfuzion.widget.event.ChainEvent"]=a.widget.event.ChainEvent;a.widget.event.ChainEvent.__name__=["nfuzion",
"widget","event","ChainEvent"];a.widget.event.ChainEvent.__super__=a.event.BubblingEvent;a.widget.event.ChainEvent.prototype=g(a.event.BubblingEvent.prototype,{data:null,index:null,target:null,__class__:a.widget.event.ChainEvent});a.widget.event.ListEvent=function(b,c,d){null==d&&(d=!0);a.event.BubblingEvent.call(this,b,d);this.target=c};f["nfuzion.widget.event.ListEvent"]=a.widget.event.ListEvent;a.widget.event.ListEvent.__name__=["nfuzion","widget","event","ListEvent"];a.widget.event.ListEvent.__super__=
a.event.BubblingEvent;a.widget.event.ListEvent.prototype=g(a.event.BubblingEvent.prototype,{target:null,__class__:a.widget.event.ListEvent});a.widget.event.ScrollerEvent=function(b,c,d,e){null==e&&(e=!0);null==d&&(d=0);a.event.BubblingEvent.call(this,b,e);this.target=c;this.value=d};f["nfuzion.widget.event.ScrollerEvent"]=a.widget.event.ScrollerEvent;a.widget.event.ScrollerEvent.__name__=["nfuzion","widget","event","ScrollerEvent"];a.widget.event.ScrollerEvent.__super__=a.event.BubblingEvent;a.widget.event.ScrollerEvent.prototype=
g(a.event.BubblingEvent.prototype,{value:null,target:null,__class__:a.widget.event.ScrollerEvent});a.widget.event.WidgetEvent=function(b,c,d){null==d&&(d=!0);a.event.BubblingEvent.call(this,b,d);this.target=c};f["nfuzion.widget.event.WidgetEvent"]=a.widget.event.WidgetEvent;a.widget.event.WidgetEvent.__name__=["nfuzion","widget","event","WidgetEvent"];a.widget.event.WidgetEvent.__super__=a.event.BubblingEvent;a.widget.event.WidgetEvent.prototype=g(a.event.BubblingEvent.prototype,{target:null,__class__:a.widget.event.WidgetEvent});
a.widget.type={};a.widget.type.ItemWidget=function(a,c,d,e){null==e&&(e=-35534);this.widget=a;this.widgetIndex=c;this.data=d;this.data=e};f["nfuzion.widget.type.ItemWidget"]=a.widget.type.ItemWidget;a.widget.type.ItemWidget.__name__=["nfuzion","widget","type","ItemWidget"];a.widget.type.ItemWidget.prototype={dataIndex:null,data:null,widgetIndex:null,widget:null,__class__:a.widget.type.ItemWidget};a.widget.type.PartialList=function(a,c){this.offset=a;this.entries=c};f["nfuzion.widget.type.PartialList"]=
a.widget.type.PartialList;a.widget.type.PartialList.__name__=["nfuzion","widget","type","PartialList"];a.widget.type.PartialList.prototype={clone:function(){return new a.widget.type.PartialList(this.offset,this.entries.slice())},entries:null,offset:null,__class__:a.widget.type.PartialList};var p={Peripheral:function(){}};f["peripheral.Peripheral"]=p.Peripheral;p.Peripheral.__name__=["peripheral","Peripheral"];p.Peripheral.initialize=function(){if(p.Peripheral.initialized)throw"Intercepted attempt to initialize Peripheral twice.";
p.Peripheral.initialized=!0;p.Peripheral.urlRecord=a.nTactic.NTactic.storage.getRecord("url");null==p.Peripheral.urlRecord.value&&p.Peripheral.useDefault();try{p.Peripheral.spanClient=new a.span.SpanClient(p.Peripheral.urlRecord.value,null,"Robin Hood HMI","hmi"),p.Peripheral.spanClient.addEventListener("SpanClientEvent.disconnect",p.Peripheral.onClientDisconnect)}catch(b){p.Peripheral.spanClient=null,l.Log.trace("NOTICE: Invalid url. Using default.",{fileName:"Peripheral.hx",lineNumber:54,className:"peripheral.Peripheral",
methodName:"initialize"}),p.Peripheral.useDefault(),p.Peripheral.spanClient=new a.span.SpanClient(p.Peripheral.urlRecord.value)}null!=p.Peripheral.spanClient&&(p.Peripheral.spanClient.set_autoConnect(!0),a.debug.Debug.set_client(p.Peripheral.spanClient),p.Peripheral.chime=new a.moduleLink.ChimeProxy(p.Peripheral.spanClient),p.Peripheral.navigation=new a.moduleLink.NavigationProxy(p.Peripheral.spanClient),p.Peripheral.vehicle=new a.moduleLink.VehicleProxy(p.Peripheral.spanClient));p.Peripheral.urlRecord.addEventListener("RecordEvent.change",
p.Peripheral.onUrlChange)};p.Peripheral.onClientDisconnect=function(b){a.nTactic.NTactic["goto"]("config:SpanConfigPopup")};p.Peripheral.useDefault=function(){p.Peripheral.urlRecord.set_value("ws://spanhost")};p.Peripheral.onUrlChange=function(a){p.Peripheral.spanClient.connect(p.Peripheral.urlRecord.value)};var y,B=function(b,c){a.nTactic.core.Screen.call(this,b,c)};f["screen.Cluster"]=B;B.__name__=["screen","Cluster"];B.__super__=a.nTactic.core.Screen;B.prototype=g(a.nTactic.core.Screen.prototype,
{updateFuelLevelPopup:function(a){a.implementation.set_y(this.fuelLevel.progressIndicator.get_bottom()-13)},blinkTimerRun:function(b){switch(p.Peripheral.vehicle.turnSignal[1]){case 0:this.leftSignal.set_visible(!1);this.rightSignal.set_visible(!1);break;case 1:this.leftSignal.set_visible(!this.leftSignal.get_visible());p.Peripheral.chime.setChime(a.message.chime.type.Chime.turnSignalClick,1);break;case 2:this.rightSignal.set_visible(!this.rightSignal.get_visible());p.Peripheral.chime.setChime(a.message.chime.type.Chime.turnSignalClick,
1);break;case 3:this.rightSignal.set_visible(!this.rightSignal.get_visible()),this.leftSignal.set_visible(!this.leftSignal.get_visible()),p.Peripheral.chime.setChime(a.message.chime.type.Chime.turnSignalClick,1)}},onNavRoute:function(a){},onNavWaypoints:function(a){},onNavDistancePercentage:function(a){},onNavDistance:function(a){this.distanceToTargetLabel.set_text(m.string(Math.round(p.Peripheral.navigation.distance/160.9)/10)+"\u02d8");this.updateDistanceScroller()},onNavDestination:function(a){this.navigationLabel.set_text("Arrived at destination")},
onNavCancel:function(a){this.navGroup.set_visible(!1);this.distanceToTargetScroller.set_value(0);this.distanceToTargetLabel.set_text("");this.navigationLabel.set_text("")},updateDistanceScroller:function(a){null==a&&(a=p.Peripheral.navigation.distance);Math.isNaN(a)||(a/=3218,1<a&&(a=1),this.distanceToTargetScroller.set_value(a))},onNavTurn:function(a){this.navGroup.set_visible(!0);if(null!=p.Peripheral.navigation.nextTurn){switch(p.Peripheral.navigation.nextTurn.target[1]){case 0:this.navArrows.implementation["goto"]("left");
break;case 1:this.navArrows.implementation["goto"]("right");break;case 2:this.navArrows.implementation["goto"]("bearLeft");break;case 3:this.navArrows.implementation["goto"]("bearRight");break;case 4:this.navArrows.implementation["goto"]("uturn");break;case 6:this.navArrows.implementation["goto"]("forward")}this.navigationLabel.set_text(p.Peripheral.navigation.nextTurn.street);this.navArrows.implementation.set_visible(!0)}else this.navigationLabel.set_text(""),this.navArrows.implementation.set_visible(!1);
this.updateDistanceScroller();this.distanceToTargetLabel.set_text(m.string(Math.round(p.Peripheral.navigation.distance/160.9)/10)+"\u02d8")},onWaterTemperature:function(a){this.waterTemp.set_value(1-p.Peripheral.vehicle.waterTemperature)},onTurnSignal:function(b){switch(p.Peripheral.vehicle.turnSignal[1]){case 0:null!=this.blinkTimer&&(this.blinkTimer.stop(),this.blinkTimer.reset(),this.leftSignal.set_visible(!1),this.rightSignal.set_visible(!1));this.blinkTimer=null;break;case 1:null==this.blinkTimer&&
(this.blinkTimer=new a.timer.Timer(0.5,0),this.blinkTimer.addEventListener("timer",h(this,this.blinkTimerRun)),this.blinkTimer.start());this.rightSignal.set_visible(!1);break;case 2:null==this.blinkTimer&&(this.blinkTimer=new a.timer.Timer(0.5,0),this.blinkTimer.addEventListener("timer",h(this,this.blinkTimerRun)),this.blinkTimer.start());this.leftSignal.set_visible(!1);break;case 3:this.leftSignal.set_visible(!1),this.rightSignal.set_visible(!1),null==this.blinkTimer&&(this.blinkTimer=new a.timer.Timer(0.5,
0),this.blinkTimer.addEventListener("timer",h(this,this.blinkTimerRun)),this.blinkTimer.start())}},onTransmission:function(a){switch(p.Peripheral.vehicle.transmission[1]){case 0:this.prndSimple.implementation["goto"]("park");break;case 1:this.prndSimple.implementation["goto"]("reverse");break;case 2:this.prndSimple.implementation["goto"]("neutral");break;case 4:this.prndSimple.implementation["goto"]("drive")}},onTractionControl:function(a){this.tractionControl.set_visible(p.Peripheral.vehicle.tractionControl)},
onSpeed:function(a){this.speedLabel.set_text(m.string(p.Peripheral.vehicle.speed|0))},onSeatBelt:function(a){this.seatBelts.set_visible(p.Peripheral.vehicle.seatBelt)},onOil:function(a){this.oil.set_visible(p.Peripheral.vehicle.oil)},onOdometer:function(a){this.odometerLabel.set_text(m.string(p.Peripheral.vehicle.odometer|0)+"\u02d8")},onHighBeam:function(a){this.highBeams.set_visible(p.Peripheral.vehicle.highBeam)},onFuel:function(a){this.fuelLevel.set_value(1-p.Peripheral.vehicle.fuel)},onEmergencyBrake:function(a){this.emergencyBrake.set_visible(p.Peripheral.vehicle.emergencyBrake)},
onDistanceToEmpty:function(a){this.distanceToEmptyLabel.set_text(m.string(p.Peripheral.vehicle.distanceToEmpty|0)+"\u02d8");this.distanceToEmptyLabel.set_visible(!0)},onBattery:function(a){this.battery.set_visible(p.Peripheral.vehicle.battery)},onAirBag:function(a){this.airBag.set_visible(p.Peripheral.vehicle.airBag)},onABS:function(a){this.abs.set_visible(p.Peripheral.vehicle.abs)},onNavigationReady:function(a){p.Peripheral.navigation.ready&&p.Peripheral.navigation.getNextTurn()},onVehicleReady:function(a){p.Peripheral.vehicle.ready&&
(p.Peripheral.vehicle.getABS(),p.Peripheral.vehicle.getAirBag(),p.Peripheral.vehicle.getBattery(),p.Peripheral.vehicle.getDistanceToEmpty(),p.Peripheral.vehicle.getEmergencyBrake(),p.Peripheral.vehicle.getFuel(),p.Peripheral.vehicle.getHighBeam(),p.Peripheral.vehicle.getOdometer(),p.Peripheral.vehicle.getOil(),p.Peripheral.vehicle.getSeatBelt(),p.Peripheral.vehicle.getSpeed(),p.Peripheral.vehicle.getTractionControl(),p.Peripheral.vehicle.getTransmission(),p.Peripheral.vehicle.getTurnSignal(),p.Peripheral.vehicle.getWaterTemperature())},
addListeners:function(){a.nTactic.core.Screen.prototype.addListeners.call(this);this.attachListener(p.Peripheral.vehicle,"abs",h(this,this.onABS));this.attachListener(p.Peripheral.vehicle,"airBag",h(this,this.onAirBag));this.attachListener(p.Peripheral.vehicle,"battery",h(this,this.onBattery));this.attachListener(p.Peripheral.vehicle,"distanceToEmpty",h(this,this.onDistanceToEmpty));this.attachListener(p.Peripheral.vehicle,"emergencyBrake",h(this,this.onEmergencyBrake));this.attachListener(p.Peripheral.vehicle,
"fuel",h(this,this.onFuel));this.attachListener(p.Peripheral.vehicle,"highBeam",h(this,this.onHighBeam));this.attachListener(p.Peripheral.vehicle,"odometer",h(this,this.onOdometer));this.attachListener(p.Peripheral.vehicle,"oil",h(this,this.onOil));this.attachListener(p.Peripheral.vehicle,"seatBelt",h(this,this.onSeatBelt));this.attachListener(p.Peripheral.vehicle,"speed",h(this,this.onSpeed));this.attachListener(p.Peripheral.vehicle,"tractionControl",h(this,this.onTractionControl));this.attachListener(p.Peripheral.vehicle,
"transmission",h(this,this.onTransmission));this.attachListener(p.Peripheral.vehicle,"turnSignal",h(this,this.onTurnSignal));this.attachListener(p.Peripheral.vehicle,"waterTemperature",h(this,this.onWaterTemperature));this.attachListener(p.Peripheral.navigation,"navigationTurn",h(this,this.onNavTurn));this.attachListener(p.Peripheral.navigation,"navigationCancel",h(this,this.onNavCancel));this.attachListener(p.Peripheral.navigation,"navigationDestination",h(this,this.onNavDestination));this.attachListener(p.Peripheral.navigation,
"navigationDistance",h(this,this.onNavDistance));this.attachListener(p.Peripheral.navigation,"navigationDistancePercentage",h(this,this.onNavDistancePercentage));this.attachListener(p.Peripheral.navigation,"navigationRoute",h(this,this.onNavRoute));this.attachListener(p.Peripheral.navigation,"navigationWaypoints",h(this,this.onNavWaypoints));this.attachListener(p.Peripheral.vehicle,"ready",h(this,this.onVehicleReady));this.attachListener(p.Peripheral.navigation,"ready",h(this,this.onNavigationReady));
if(p.Peripheral.vehicle.ready)this.onVehicleReady();if(p.Peripheral.navigation.ready)this.onNavigationReady()},initializeScreen:function(){a.nTactic.core.Screen.prototype.initializeScreen.call(this);this.distanceToEmptyLabel=this.getWidget("fuelLevel_scroller.popup_group.text_label");this.odometerLabel=this.getWidget("odometer_label");this.speedLabel=this.getWidget("speed_label");this.leftSignal=this.getWidget("turnLeft_simple");this.rightSignal=this.getWidget("turnRight_simple");this.emergencyBrake=
this.getWidget("parkingbrake_simple");this.seatBelts=this.getWidget("seatBelts_simple");this.tractionControl=this.getWidget("tractionControl_simple");this.oil=this.getWidget("oil_simple");this.battery=this.getWidget("battery_simple");this.highBeams=this.getWidget("highBeams_simple");this.abs=this.getWidget("abs_simple");this.airBag=this.getWidget("airbag_simple");this.waterTemp=this.getWidget("waterTemp_scroller");this.fuelLevel=this.getWidget("fuelLevel_scroller");this.navGroup=this.getWidget("tacticalNav_group");
this.distanceToTargetScroller=this.getWidget("tacticalNav_group.distance_scroller");this.distanceToTargetLabel=this.getWidget("tacticalNav_group.turnDistance_label");this.navigationLabel=this.getWidget("tacticalNav_group.nextTurnStreetName_label");this.navArrows=this.getWidget("tacticalNav_group.directionArrows_simple");this.prndSimple=this.getWidget("prnd_simple");var b=this.getWidget("fuelLevel_scroller.popup_group");this.updateFuelLevelPopup(b);this.waterTemp.set_maximum(1);this.waterTemp.set_minimum(0);
this.waterTemp.set_pageSize(0);this.fuelLevel.set_maximum(1);this.fuelLevel.set_minimum(0);this.fuelLevel.set_pageSize(0);this.fuelLevel.hidePopupOnStop=!1;this.fuelLevel.set_popupPageThreshold(-1);this.fuelLevel.popupUpdater=h(this,this.updateFuelLevelPopup);this.distanceToTargetScroller.set_maximum(1);this.distanceToTargetScroller.set_minimum(0);this.distanceToTargetScroller.set_pageSize(0);this.distanceToTargetScroller.set_enabled(!1);this.leftSignal.set_visible(!1);this.rightSignal.set_visible(!1);
this.abs.set_visible(!1);this.airBag.set_visible(!1);this.battery.set_visible(!1);this.distanceToEmptyLabel.set_visible(!0);this.emergencyBrake.set_visible(!1);this.highBeams.set_visible(!1);this.oil.set_visible(!1);this.seatBelts.set_visible(!1);this.tractionControl.set_visible(!1);this.speedLabel.set_text("0");this.distanceToTargetLabel.set_text("");this.navigationLabel.set_text("");this.odometerLabel.set_text("86753\u02d8");this.distanceToEmptyLabel.set_text("400\u02d8");this.navGroup.set_visible(!1)},
blinkTimer:null,prndSimple:null,navArrows:null,navigationLabel:null,distanceToTargetLabel:null,distanceToTargetScroller:null,navGroup:null,fuelLevel:null,waterTemp:null,airBag:null,abs:null,highBeams:null,battery:null,oil:null,tractionControl:null,seatBelts:null,emergencyBrake:null,rightSignal:null,leftSignal:null,speedLabel:null,odometerLabel:null,distanceToEmptyLabel:null,__class__:B});y=function(b){this.entry="";a.nTactic.core.DynamicScreen.call(this,b)};f["screen.SpanConfigPopup"]=y;y.__name__=
["screen","SpanConfigPopup"];y.__super__=a.nTactic.core.DynamicScreen;y.prototype=g(a.nTactic.core.DynamicScreen.prototype,{addToHistory:function(a){this.history=this.history.filter(function(c){return c!=a});this.history.unshift(a);10<this.history.length&&this.history.shift();this.historyList.set_dataLength(0);this.historyList.set_dataPosition(0);this.historyList.cache.invalidateData();this.historyList.invalidateView();this.historyList.set_dataLength(this.history.length);this.historyRecord.set_value(this.history)},
onHistorySelect:function(a){a=this.historyList.getDataByWidget(a.target);null!=a&&(this.entry=a,this.displayLabel.set_text(this.entry),this.onEnter(),this.hideHistory())},updateRow:function(a){var c=a.widget;a=m.string(a.data);null!=a&&c.label.set_text(a)},requestData:function(b,c){for(var d=[],e=b,f=c+1;e<f;){var g=e++;null!=this.history[g]&&d.push(this.history[g])}this.historyList.cache.addData(new a.widget.type.PartialList(b,d))},hideHistory:function(){this.historyList.set_visible(!1)},onDisplayClick:function(a){this.historyList.set_visible(!this.historyList.get_visible())},
onClose:function(b){p.Peripheral.spanClient.set_autoConnect(!0);a.nTactic.NTactic.screens["goto"]("config:")},onKeyboard:function(a){this.changeKeyLayout()},onEnter:function(a){this.validateEntry()&&(this.urlRecord.set_value(this.entry),null!=p.Peripheral.spanClient.url?(this.entry=p.Peripheral.spanClient.url.toString(),this.setDisplayLabel(this.entry),this.descriptionLabel.set_text("Attempting to connect to:"),p.Peripheral.spanClient.set_autoConnect(!0),this.addToHistory(this.entry)):this.descriptionLabel.set_text("Failed to connect; malformed URL"))},
deleteCharacter:function(){this.entry=r.substr(this.entry,0,this.entry.length-1);this.setDisplayLabel(this.entry)},onDeleteAutoClick:function(a){this.deleteCharacter()},onDeleteLongPress:function(a){this.entry="";this.setDisplayLabel(this.entry)},changeKeyLayout:function(a){null==a&&(a=-1);0>a&&(a=this.keyboardLayoutRecord.value+1,a>=y.keyLayouts.length&&(a=0));a<y.keyLayouts.length&&(this.keyboardLayoutRecord.set_value(a),this.keyMatrix.set_data(y.keyLayouts[this.keyboardLayoutRecord.value]),this.keyMatrix.update())},
validateEntry:function(){try{a.span.SpanClient.parseUrlString(this.entry,!0)}catch(b){if(n.Boot.__instanceof(b,String))return this.descriptionLabel.set_text(b),!1;throw b;}return!0},onKeyClick:function(a){a=this.keyMatrix.getDataByWidget(a.target);this.entry+=a;this.setDisplayLabel(this.entry)},onConnectionEvent:function(a){p.Peripheral.spanClient.get_connected()?(l.Log.trace("Connected to Span!",{fileName:"SpanConfigPopup.hx",lineNumber:484,className:"screen.SpanConfigPopup",methodName:"onConnectionEvent"}),
this.descriptionLabel.set_text("Connected"),this.displayLabel.set_paint(this.connectedPaint)):null==a?(l.Log.trace("Not Connected",{fileName:"SpanConfigPopup.hx",lineNumber:491,className:"screen.SpanConfigPopup",methodName:"onConnectionEvent"}),this.descriptionLabel.set_text("Disconnected")):(l.Log.trace("Connection Failed!",{fileName:"SpanConfigPopup.hx",lineNumber:496,className:"screen.SpanConfigPopup",methodName:"onConnectionEvent"}),this.descriptionLabel.set_text("Connection failed"),this.displayLabel.set_paint(this.invalidPaint))},
setDisplayLabel:function(a){this.validateEntry()?(this.displayLabel.set_paint(this.alphaPaint),this.enterButton.label.set_paint(this.controlsTextPaint),this.enterButton.set_enabled(!0),this.descriptionLabel.set_text("")):(this.displayLabel.set_paint(this.invalidPaint),this.enterButton.label.set_paint(this.disabledPaint),this.enterButton.set_enabled(!1),""==a&&this.descriptionLabel.set_text("Enter a valid url or hostname"));this.entry==p.Peripheral.spanClient.url.toString()&&p.Peripheral.spanClient.get_connected()?
(this.displayLabel.set_paint(this.connectedPaint),this.displayLabel.set_text(a),this.descriptionLabel.set_text("Connected")):this.displayLabel.set_text(a+"_");p.Peripheral.spanClient.set_autoConnect(!1)},updateKeys:function(b){if(n.Boot.__instanceof(b.widget,a.widget.Button)){var c=b.widget;c.label.set_text(b.data.toUpperCase());-1!=A.indexOf("1234567890".split(""),b.data.toUpperCase())?c.label.set_paint(this.numeralPaint):c.label.set_paint(this.alphaPaint)}},createButton:function(b,c,d,e,f,g){null==
f&&(f=0.5);null==g&&(g=this.keyPrimaryPaint);c=new a.sketch.type.SketchContainer(c,0,0,this.keyWidth,this.keyHeight);c.backgroundPaint=g;c.borderPaint=this.keyBorderPaint;c.borderWidth=1;c.alpha=0.9;g=null;null!=d&&(g=Math.round(1.35*d.size),g=new a.sketch.type.SketchText("text_label",2,Math.round(f*(this.keyHeight-g)),this.keyWidth-4,g),g.paint=this.controlsTextPaint,g.alignment=a.type.Alignment.center,g.font=d,g.text=e,c.appendChildSketch(g));d=new a.sketch.type.SketchContainer("down");d.backgroundPaint=
this.keyDownPaint;d.borderPaint=this.keyBorderPaint;d.borderWidth=1;c.addGuise(d);d=new a.sketch.type.SketchContainer("disabled");d.backgroundPaint=this.keyPrimaryPaint;d.alpha=0.7;d.borderPaint=this.keyBorderPaint;d.borderWidth=1;c.addGuise(d);b=a.nTactic.NTactic.builder.buildContainer(b,c);null!=g&&(g.paint=null);return b},layoutScreen:function(){a.nTactic.core.DynamicScreen.prototype.layoutScreen.call(this);var b=a.nTactic.NTactic.stage._width/2|0,c=a.nTactic.NTactic.stage._height/2|0,d=0.9*b|
0,e;e=0.5*d|0;var f=(b-d)/2|0,g=(c-e)/2|0;this.keyWidth=(d/10|0)+1;this.keyHeight=e/5|0;b=this.createContainer("background_simple",b,c);b.set_alpha(0.8);b.set_backgroundPaint(this.bgPaint);this.appendChild(b);var h=this.createContainer("control_group",d,this.keyHeight,f,g);this.createButton(h,"delete_button",this.symbolFont,"<",0.6,this.controlsPaint).set_x(d-2*(this.keyWidth-1));b=this.createButton(h,"enter_button",this.symbolFont,">",0.6,this.controlsPaint);b.set_x(d-(this.keyWidth-1));b.set_width(this.keyWidth-
1);this.createButton(h,"close_button",this.symbolFont,"X",0.6,this.controlsPaint);this.createButton(h,"keyLayout_button",this.symbolFont,"K",0.6,this.controlsPaint).set_x(this.keyWidth-1);var c=d-4*(this.keyWidth-1)-1,l=2*this.keyWidth-1,b=this.createContainer("displayBackground_simple",c,this.keyHeight,l,0);b.set_backgroundPaint(this.bgPaint);b.set_alpha(0.9);h.appendChild(b);this.appendChild(h);var b=this.createContainer("display_button",c,this.keyHeight,l,0),m=new a.graphics.Text("input_label");
m.set_text("");m.set_paint(this.alphaPaint);m.set_alignment(a.type.Alignment.left);m.set_font(this.displayFontPrimary);m.set_x(10);m.set_height(1.25*m.font.size);m.set_y(this.keyHeight-m._height);m.set_width(b._width-(m._x+2));b.appendChild(m);m=new a.graphics.Text("alert_label");m.set_text("");m.set_paint(this.controlsTextPaint);m.set_alignment(a.type.Alignment.left);m.set_font(this.displayFontSecondary);m.set_x(10);m.set_y(4);m.set_height(1.25*m.font.size);m.set_width(b._width-(m._x+2));b.appendChild(m);
h.appendChild(b);h=this.createContainer("keypad_chain",d,e,f,g+this.keyHeight-1);for(m=0;4>m;)for(var n=m++,p=0;10>p;){var q=p++,r=this.createButton(h,"item_"+(q+10*n)+"_button",this.keypadFont);r.set_x(q*(this.keyWidth-1));r.set_y(n*(this.keyHeight-1))}this.appendChild(h);d=this.createContainer("border",d,e-4,f,g);d.set_touchEnabled(!1);d.set_borderPaint(this.keyBorderPaint);d.set_borderWidth(1);this.appendChild(d);e=this.createContainer("history_list",c,e-2*this.keyHeight-2,f+l,g+this.keyHeight-
1);e.set_backgroundPaint(this.disabledPaint);e.set_alpha(0.9);e.set_borderPaint(this.keyBorderPaint);e.set_borderWidth(1);f=this.createContainer("row_0_button",c,Math.round(0.6*this.keyHeight),0,0);g=this.createContainer("down",f._width,f._height,0,0);g.set_backgroundPaint(this.keyDownPaint);d=new a.graphics.Text("text_label");d.set_text("Blast from the past!");d.set_paint(this.alphaPaint);d.set_alignment(a.type.Alignment.left);d.set_font(this.displayFontPrimary);d.set_x(10);d.set_height(1.25*d.font.size);
d.set_y(3);d.set_width(b._width-(d._x+2));f.appendChild(g);f.appendChild(d);e.appendChild(f);this.appendChild(e)},defineFonts:function(){a.nTactic.core.DynamicScreen.prototype.defineFonts.call(this);this.keypadFont=this.setFont("spanconfigkey",this.formatPath("./fonts/GillSansLight.ttf"),40);this.displayFontPrimary=this.setFont("spanconfigdisplayprimary",this.formatPath("./fonts/GillSansLight.ttf"),36);this.displayFontSecondary=this.setFont("spanconfigdisplaysecondary",this.formatPath("./fonts/GillSansLight.ttf"),
22);this.symbolFont=this.setFont("spanconfigsymbols",this.formatPath("./fonts/Symbols.ttf"),40)},definePaints:function(){a.nTactic.core.DynamicScreen.prototype.definePaints.call(this);this.alphaPaint=this.setPaint("spanconfigalpha","0xffffff");this.numeralPaint=this.setPaint("spanconfignumeral","0xffff99");this.connectedPaint=this.setPaint("spanconfigconnected","0xccff66");this.invalidPaint=this.setPaint("spanconfiginvalid","0xff3300");this.disabledPaint=this.setPaint("spanconfigdisabled","0x000000");
this.controlsTextPaint=this.setPaint("spanconfigcontrolstext","0xbbbbbb");this.controlsPaint=this.setPaint("spanconfigcontrols","0x333333");this.keyPrimaryPaint=this.setPaint("spanconfigkeyprimary","0x555555");this.keyDownPaint=this.setPaint("spanconfigkeydown","0x78C043");this.keyBorderPaint=this.setPaint("spanconfigkeyborder","0x666666");this.bgPaint=this.setPaint("spanconfigbackground","0x000000")},enterScreen:function(){a.nTactic.core.DynamicScreen.prototype.enterScreen.call(this);this.keyMatrix.update();
this.deleteButton.set_longPressDelay(1.5);this.deleteButton.set_autoRepeatDelay(0.5);this.deleteButton.set_autoRepeatPeriod(0.1);this.historyList.update();this.entry=p.Peripheral.spanClient.url.toString();this.displayLabel.set_text(this.entry);this.onConnectionEvent();1<y.keyLayouts.length?this.keyboardButton.set_visible(!0):this.keyboardButton.set_visible(!1);this.historyList.set_visible(!1)},addListeners:function(){a.nTactic.core.DynamicScreen.prototype.addListeners.call(this);this.attachListener(this.keyMatrix,
"ButtonEvent.click",h(this,this.onKeyClick));this.attachListener(this.deleteButton,"ButtonEvent.longPress",h(this,this.onDeleteLongPress));this.attachListener(this.deleteButton,"ButtonEvent.autoClick",h(this,this.onDeleteAutoClick));this.attachListener(this.enterButton,"ButtonEvent.click",h(this,this.onEnter));this.attachListener(this.closeButton,"ButtonEvent.click",h(this,this.onClose));this.attachListener(this.keyboardButton,"ButtonEvent.click",h(this,this.onKeyboard));this.attachListener(this.displayButton,
"ButtonEvent.click",h(this,this.onDisplayClick));this.attachListener(this.historyList,"ButtonEvent.click",h(this,this.onHistorySelect));this.attachListener(p.Peripheral.spanClient,"SpanClientEvent.connect",h(this,this.onConnectionEvent));this.attachListener(p.Peripheral.spanClient,"SpanClientEvent.disconnect",h(this,this.onConnectionEvent))},setupWidgets:function(){a.nTactic.core.DynamicScreen.prototype.setupWidgets.call(this);this.keyMatrix=this.getWidget("keypad_chain");this.deleteButton=this.getWidget("control_group.delete_button");
this.closeButton=this.getWidget("control_group.close_button");this.enterButton=this.getWidget("control_group.enter_button");this.keyboardButton=this.getWidget("control_group.keyLayout_button");this.displayButton=this.getWidget("control_group.display_button");this.displayLabel=this.getWidget("control_group.display_button.input_label");this.descriptionLabel=this.getWidget("control_group.display_button.alert_label");this.historyList=this.getWidget("history_list");this.urlRecord=a.nTactic.NTactic.storage.getRecord("url");
this.keyboardLayoutRecord=a.nTactic.NTactic.storage.getRecord("keyLayout");null==this.keyboardLayoutRecord.value&&this.keyboardLayoutRecord.set_value(0);this.keyMatrix.set_data(y.keyLayouts[this.keyboardLayoutRecord.value]);this.keyMatrix.set_itemUpdater(h(this,this.updateKeys));for(var b=0,c=this.keyMatrix.get_childCount()-1;b<c;){var d=b++;this.keyMatrix.getChildAt(d).set_requireDirectTouch(!1)}this.history=[];this.historyRecord=a.nTactic.NTactic.storage.getRecord("urlHistory");null==this.historyRecord.value&&
this.historyRecord.set_value(this.history);this.history=this.historyRecord.value;this.historyList.set_physics(new a.physics.Scrolling);this.historyList.cache.set_dataRequester(h(this,this.requestData));this.historyList.rowUpdater=h(this,this.updateRow);this.historyList.set_dataLength(this.history.length)},historyRecord:null,keyboardLayoutRecord:null,urlRecord:null,keyHeight:null,keyWidth:null,history:null,entry:null,historyList:null,displayButton:null,descriptionLabel:null,displayLabel:null,keyboardButton:null,
closeButton:null,enterButton:null,deleteButton:null,displayGroup:null,keyMatrix:null,symbolFont:null,displayFontSecondary:null,displayFontPrimary:null,keypadFont:null,bgPaint:null,keyBorderPaint:null,keyDownPaint:null,controlsPaint:null,keyPrimaryPaint:null,controlsTextPaint:null,disabledPaint:null,invalidPaint:null,connectedPaint:null,numeralPaint:null,alphaPaint:null,__class__:y});var G,K=0;Array.prototype.indexOf&&(r.remove=function(a,c){var d=a.indexOf(c);if(-1==d)return!1;a.splice(d,1);return!0});
Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;f.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=f.String=String;String.__name__=["String"];Array.prototype.__class__=f.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=f.Date=Date;Date.__name__=["Date"];var z=f.Int={__name__:["Int"]},L=f.Dynamic={__name__:["Dynamic"]},x=f.Float=
Number;x.__name__=["Float"];var C=f.Bool=Boolean;C.__ename__=["Bool"];var M=f.Class={__name__:["Class"]},N={};t.Element="element";t.PCData="pcdata";t.CData="cdata";t.Comment="comment";t.DocType="doctype";t.ProcessingInstruction="processingInstruction";t.Document="document";a.application.Application.done=!1;l.Serializer.USE_CACHE=!1;l.Serializer.USE_ENUM_INDEX=!1;l.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";l.Unserializer.DEFAULT_RESOLVER=s;l.Unserializer.BASE64=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";l.ds.ObjectMap.count=0;l.xml.Parser.escapes=function(a){a=new l.ds.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);n.Browser.window="undefined"!=typeof window?window:null;n.Browser.document="undefined"!=typeof window?window.document:null;a.builder.event.BuilderEvent.SKETCH="sketch";a.cache.ListCache.REQUEST_TIMEOUT=5;a.cache.ListCache.BUFFER_SIZE=
20;a.cache.ListCache.INVALID_RANGE_INDEX=-1;a.cache.event.CacheEvent.UPDATE="CacheEvent.update";a.cache.event.CacheEvent.CACHING="CacheEvent.caching";a.cache.event.CacheEvent.CACHED="CacheEvent.cached";a.client.WebSocketClient.TX_WAIT_PERIOD=0.05;a.client.event.ClientEvent.CONNECT="ClientEvent.connect";a.client.event.ClientEvent.DISCONNECT="ClientEvent.disconnect";a.client.event.ClientEvent.DATA="ClientEvent.data";a.debug.Debug.BUFFER_LIMIT=20;a.font.Font.fontCount=0;a.font.event.FontEvent.CHANGE=
"PaintEvent.change";a.font.event.FontFaceEvent.READY="FontFaceEvent.ready";a.geometry.event.BoxEvent.CHANGE="change";a.geometry.event.BoxEvent.CHANGE_SIZE="changeSize";a.geometry.event.BoxEvent.CHANGE_POSITION="changePosition";a.graphics.Stage.FORCED_FRAME_RATE=1/30;a.graphics.Stage.FRAME_RATE_PERIOD=0.25;a.graphics.Stage.FRAME_RATE_FILTER=10;a.graphics.event.ComponentEvent.ADDED_TO_STAGE="addedToStage";a.graphics.event.ComponentEvent.REMOVED_FROM_STAGE="removedFromStage";a.graphics.event.ComponentEvent.ORPHANING=
"orphaning";a.graphics.event.ComponentEvent.ADOPTED="adopted";a.graphics.event.StageEvent.PAINT="paint";a.graphics.event.StageEvent.FRAME_RATE="frameRate";a.graphics.event.TouchEvent.MOUSE_TOUCH_ID=-1;a.graphics.event.TouchEvent.BEGIN="begin";a.graphics.event.TouchEvent.OVER="over";a.graphics.event.TouchEvent.MOVE="move";a.graphics.event.TouchEvent.OUT="out";a.graphics.event.TouchEvent.END="end";a.image.event.ImageEvent.READY="ImageEvent.ready";a.image.event.ImageEvent.ERROR="ImageEvent.error";a.image.event.ImageLoaderEvent.COMPLETE=
"ImageLoaderEvent.complete";a.limits.IntLimits.MAX=134217727;a.limits.IntLimits.MIN=134217728;a.loader.event.LoaderEvent.READY="LoaderEvent.ready";a.loader.event.LoaderEvent.ERROR="LoaderEvent.error";a.message.chime.LetChime.chimeType=[a.message.chime.type.Chime];a.message.chime.LetChime.playCountType=[z];a.message.chime.SetChime.chimeType=[a.message.chime.type.Chime];a.message.chime.SetChime.playCountType=[z];a.message.debug.LetTrace.timestampType=[x];a.message.debug.LetTrace.sourceNameType=[String];
a.message.debug.LetTrace.messageType=[String];a.message.debug.LetTrace.fileNameType=[String];a.message.debug.LetTrace.lineNumberType=[z];a.message.debug.LetTrace.classNameType=[String];a.message.debug.LetTrace.functionNameType=[String];a.message.generic.templates.LetBool.valueType=[C];a.message.generic.templates.LetFloat.valueType=[x];a.message.generic.templates.SetBool.valueType=[C];a.message.generic.templates.SetFloat.valueType=[x];a.message.generic.templates.SetString.valueType=[String];a.message.media.type.Item.titleType=
[String];a.message.media.type.Item.typeType=[a.message.media.type.ItemType];a.message.media.type.Item.idType=[z];a.message.media.type.Item.playableType=[C];a.message.media.type.Item.artUrlType=[String];a.message.media.type.Item.artFileType=[String];a.message.media.type.Item.lengthType=[z];a.message.media.type.Item.albumType=[String];a.message.media.type.Item.artistType=[String];a.message.media.type.Item.genreType=[String];a.message.media.type.Item.composerType=[String];a.message.media.type.Item.albumTrackNumberType=
[z];a.message.media.templates.LetPartialMediaList.offsetType=[z];a.message.media.templates.LetPartialMediaList.dataType=[Array,a.message.media.type.Item];a.message.navigation.type.StepData.distanceType=[x];a.message.navigation.type.StepData.turnType=[String];a.message.navigation.type.StepData.targetType=[a.message.navigation.type.TargetType];a.message.navigation.type.StepData.streetType=[String];a.message.navigation.type.StepData.destinationType=[String];a.message.navigation.type.StepData.isLastStepType=
[C];a.message.navigation.type.StepData.isLastLegType=[C];a.message.navigation.LetNextTurn.nextTurnType=[a.message.navigation.type.StepData];a.message.navigation.type.SerializablePoint.xType=[x];a.message.navigation.type.SerializablePoint.yType=[x];a.message.navigation.type.Step.distanceType=[x];a.message.navigation.type.Step.startingPointType=[a.message.navigation.type.SerializablePoint];a.message.navigation.type.Step.endingPointType=[a.message.navigation.type.SerializablePoint];a.message.navigation.type.Step.trackType=
[Array,a.message.navigation.type.SerializablePoint];a.message.navigation.type.Step.textType=[String];a.message.navigation.type.Step.typeType=[a.message.navigation.type.TransitType];a.message.navigation.type.Leg.distanceType=[x];a.message.navigation.type.Leg.startingPointType=[a.message.navigation.type.SerializablePoint];a.message.navigation.type.Leg.endingPointType=[a.message.navigation.type.SerializablePoint];a.message.navigation.type.Leg.stepsType=[Array,a.message.navigation.type.Step];a.message.navigation.type.Waypoint.nameType=
[String];a.message.navigation.type.Waypoint.addressType=[String];a.message.navigation.type.Waypoint.xType=[x];a.message.navigation.type.Waypoint.yType=[x];a.message.navigation.type.Route.markersType=[Array,a.message.navigation.type.Waypoint];a.message.navigation.type.Route.legsType=[Array,a.message.navigation.type.Leg];a.message.navigation.type.Route.distanceType=[x];a.message.navigation.LetRoute.routeType=[a.message.navigation.type.Route];a.message.navigation.LetWaypoints.waypointsType=[Array,a.message.navigation.type.Waypoint];
a.message.navigation.SetAddWaypoint.waypointType=[a.message.navigation.type.Waypoint];a.message.navigation.SetEndByPoint.xType=[x];a.message.navigation.SetEndByPoint.yType=[x];a.message.navigation.SetInsertWaypoint.indexType=[z];a.message.navigation.SetInsertWaypoint.waypointType=[a.message.navigation.type.Waypoint];a.message.navigation.SetRemoveWaypoint.indexType=[z];a.message.navigation.SetRequestNewRoute.typeType=[a.message.navigation.type.TransitType];a.message.navigation.SetStartByPoint.xType=
[x];a.message.navigation.SetStartByPoint.yType=[x];a.message.navigation.SetWaypoints.waypointsType=[Array,a.message.navigation.type.Waypoint];a.message.span.LetClientMetadata.nameType=[String];a.message.span.LetClientMetadata.clientCatagoryType=[String];a.message.span.LetClientMetadata.echoType=[C];a.message.test.type.Type.testType=[String];a.message.test.LetTest.aType=[Array,a.message.test.type.Type];a.message.test.LetTest.bType=[C];a.message.test.LetTest.cType=[a.message.test.type.Type];a.message.test.LetTest.dType=
[String];a.message.test.LetTest.eType=[a.message.test.type.Enum];a.message.test.LetTest.fType=[x];a.message.test.LetTest.gType=[Array,Array,z];a.message.vehicle.LetTransmission.stateType=[a.message.vehicle.type.TransmissionState];a.message.vehicle.LetTurnSignal.stateType=[a.message.vehicle.type.TurnSignalState];a.moduleLink.event.MagicScrollEvent.SCROLL="scroll";a.moduleLink.event.MediaPlayerEvent.AUDITION_PERIOD="auditionPeriod";a.moduleLink.event.MediaPlayerEvent.BROWSE_ITEMS="browseItems";a.moduleLink.event.MediaPlayerEvent.BROWSE_PATH=
"browsePath";a.moduleLink.event.MediaPlayerEvent.CURRENT_DEVICE="currentDevice";a.moduleLink.event.MediaPlayerEvent.CURRENT_ITEM="currentItem";a.moduleLink.event.MediaPlayerEvent.DEVICES="devices";a.moduleLink.event.MediaPlayerEvent.PLAY_ITEMS="playItems";a.moduleLink.event.MediaPlayerEvent.PLAY_PATH="playPath";a.moduleLink.event.MediaPlayerEvent.TRANSPORT_POSITION="transportPosition";a.moduleLink.event.MediaPlayerEvent.RANDOM_MODE="randomMode";a.moduleLink.event.MediaPlayerEvent.REPEAT_MODE="repeatMode";
a.moduleLink.event.MediaPlayerEvent.SEEK_SPEED="seekSpeed";a.moduleLink.event.MediaPlayerEvent.SKIP_THRESHOLD="skipThreshold";a.moduleLink.event.MediaPlayerEvent.TRANSPORT_ACTION="transportAction";a.moduleLink.event.MediaPlayerEvent.BROWSE_ALPHA_INDEX="browseAlphaIndex";a.moduleLink.event.ModuleLinkEvent.READY="ready";a.moduleLink.event.NavigationEvent.NAVIGATION_TURN="navigationTurn";a.moduleLink.event.NavigationEvent.NAVIGATION_ROUTE="navigationRoute";a.moduleLink.event.NavigationEvent.NAVIGATION_WAYPOINTS=
"navigationWaypoints";a.moduleLink.event.NavigationEvent.NAVIGATION_DISTANCE="navigationDistance";a.moduleLink.event.NavigationEvent.NAVIGATION_DISTANCE_PERCENTAGE="navigationDistancePercentage";a.moduleLink.event.NavigationEvent.NAVIGATION_DESTINATION="navigationDestination";a.moduleLink.event.NavigationEvent.NAVIGATION_CANCEL="navigationCancel";a.moduleLink.event.VehicleEvent.DRIVER_DOOR_OPEN="driverDoorOpen";a.moduleLink.event.VehicleEvent.DRIVER_SEATED="driverSeated";a.moduleLink.event.VehicleEvent.DOORS_LOCKED=
"doorsLocked";a.moduleLink.event.VehicleEvent.STARTED="started";a.moduleLink.event.VehicleEvent.ABS="abs";a.moduleLink.event.VehicleEvent.AIR_BAG="airBag";a.moduleLink.event.VehicleEvent.BATTERY="battery";a.moduleLink.event.VehicleEvent.DISTANCE_TO_EMPTY="distanceToEmpty";a.moduleLink.event.VehicleEvent.EMERGENCY_BRAKE="emergencyBrake";a.moduleLink.event.VehicleEvent.FUEL="fuel";a.moduleLink.event.VehicleEvent.HIGH_BEAM="highBeam";a.moduleLink.event.VehicleEvent.ODOMETER="odometer";a.moduleLink.event.VehicleEvent.OIL=
"oil";a.moduleLink.event.VehicleEvent.SEAT_BELT="seatBelt";a.moduleLink.event.VehicleEvent.SPEED="speed";a.moduleLink.event.VehicleEvent.TRACTION_CONTROL="tractionControl";a.moduleLink.event.VehicleEvent.TRANSMISSION="transmission";a.moduleLink.event.VehicleEvent.TURN_SIGNAL="turnSignal";a.moduleLink.event.VehicleEvent.WATER_TEMPERATURE="waterTemperature";a.nTactic.event.ScreenEvent.READY="ready";a.nTactic.event.ScreenEvent.SCREEN_OUT_COMPLETE="screenOutComplete";a.nTactic.event.ScreenModelEvent.GOTO=
"goto";a.nTactic.event.ScreenModelEvent.AFTER_GOTO="afterGoto";a.nTactic.event.ScreenModelEvent.INITIAL_BRANCH_LOADED="initalBranchLoaded";a.nTactic.event.ScreenModelEvent.BRANCH_LOADED="branchLoaded";a.paint.event.PaintEvent.CHANGE="PaintEvent.change";a.physics.Scrolling.FRICTIONAL_ACCELERATION=500;a.physics.Scrolling.VELOCITY_FILTER_COEFFICIENT=3;a.physics.Scrolling.STRETCH_FACTOR=0.2;a.physics.Scrolling.EXTREMITY_ACCELERATION=2E4;a.physics.Scrolling.JERK=200;a.physics.Scrolling.VELOCITY_KILL_TIME=
0.1;a.physics.Scrolling.EXTREMITY_TYPE=1;a.physics.Scrolling.MINIMUM_INTERVAL=0.07;a.physics.Scrolling.DRAG_THRESHOLD=15;a.physics.Scrolling.HARD=0;a.physics.Scrolling.SOFT=1;a.physics.Scrolling.RUBBER=2;a.physics.event.PhysicsEvent.BEGIN="PhysicsEvent.begin";a.physics.event.PhysicsEvent.CHANGE="PhysicsEvent.change";a.physics.event.PhysicsEvent.END="PhysicsEvent.end";a.sketch.event.SketchEvent.READY="BuilderEvent.ready";a.span.SpanClient.RECONNECT_PERIOD=1;a.span.event.SpanClientEvent.CONNECT="SpanClientEvent.connect";
a.span.event.SpanClientEvent.DISCONNECT="SpanClientEvent.disconnect";a.storage.PersistentStorage.STORAGE_EXTENSION=".record";a.storage.event.RecordEvent.CHANGE="RecordEvent.change";a.storage.event.RecordEvent.DELETE="RecordEvent.delete";a.storage.event.StorageEvent.READY="StorageEvent.ready";a.timer.Delay.BIG_NUMBER_NOT_INFINITY=3.4E38;a.timer.Delay.delays=[];a.timer.Delay.requestedTimestamps=[];a.timer.event.TimerEvent.TIMER="timer";a.timer.event.TimerEvent.TIMER_COMPLETE="timerComplete";a.utility.BaseCode32.BASE_32_ENCODINGS=
"abcdefghijklmnopqrstuvwxyz234567";a.utility.CharacterTools.CODE_0=r.cca("0",0);a.utility.CharacterTools.CODE_9=r.cca("9",0);a.utility.CharacterTools.CODE_A=r.cca("A",0);a.utility.CharacterTools.CODE_Z=r.cca("Z",0);a.utility.CharacterTools.CODE_a=r.cca("a",0);a.utility.CharacterTools.CODE_z=r.cca("z",0);a.widget.Chain.MOVE_THRESHOLD=15;a.widget.Chain.VELOCITY_THRESHOLD=2;a.widget.Scroller.REPORT_PERIOD=0;a.widget.Scroller.ROUND_VALUES=!1;a.widget.Scroller.POPUP_PAGE_THRESHOLD=5;a.widget.Scroller.SENSITIVE_TRACK=
!0;a.widget.Scroller.HIDE_IF_USELESS=!1;a.widget.event.ButtonEvent.ACTIVE_CHANGE="ButtonEvent.activeChange";a.widget.event.ButtonEvent.AUTO_CLICK="ButtonEvent.autoClick";a.widget.event.ButtonEvent.CLICK="ButtonEvent.click";a.widget.event.ButtonEvent.DOWN="ButtonEvent.down";a.widget.event.ButtonEvent.LONG_PRESS="ButtonEvent.longPress";a.widget.event.ButtonEvent.TOGGLE="ButtonEvent.toggle";a.widget.event.ButtonEvent.UP="ButtonEvent.up";a.widget.event.ButtonEvent.CANCEL="ButtonEvent.cancel";a.widget.event.ChainEvent.SELECT=
"ChainEvent.select";a.widget.event.ListEvent.LENGTH="ListEvent.length";a.widget.event.ScrollerEvent.VERTICAL_POSITION="ScrollerEvent.verticalPosition";a.widget.event.ScrollerEvent.HORIZONTAL_POSITION="ScrollerEvent.horizontalPosition";a.widget.event.ScrollerEvent.POSITION="ScrollerEvent.position";a.widget.event.ScrollerEvent.GRAB="ScrollerEvent.grab";a.widget.event.ScrollerEvent.RELEASE="ScrollerEvent.release";a.widget.event.WidgetEvent.VISIBILITY="WidgetEvent.visibility";a.widget.event.WidgetEvent.SELECT=
"WidgetEvent.select";a.widget.type.ItemWidget.NULL_DATA_INDEX=-35535;a.widget.type.ItemWidget.INVALID_DATA_INDEX=-35534;p.Peripheral.initialized=!1;y.FILL_PERCENT=0.9;y.PRIMARY_FONT_PATH="./fonts/GillSansLight.ttf";y.SYMBOL_FONT_PATH="./fonts/Symbols.ttf";y.keyLayouts=["abcdefg789hijklmn456opqrstu123vwxyz-:/0.".split(""),"1234567890qwertyuiopasdfghjkl:zxcvbnm-./".split(""),"1234567890:/.pyfgcrlaoeuidhtns-qjkxbmwvz".split("")];I.main()})();
